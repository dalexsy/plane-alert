var wy=Object.create;var il=Object.defineProperty,by=Object.defineProperties,Dy=Object.getOwnPropertyDescriptor,Ey=Object.getOwnPropertyDescriptors,Cy=Object.getOwnPropertyNames,df=Object.getOwnPropertySymbols,Iy=Object.getPrototypeOf,hf=Object.prototype.hasOwnProperty,My=Object.prototype.propertyIsEnumerable;var ff=(e,t,n)=>t in e?il(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ye=(e,t)=>{for(var n in t||={})hf.call(t,n)&&ff(e,n,t[n]);if(df)for(var n of df(t))My.call(t,n)&&ff(e,n,t[n]);return e},Ot=(e,t)=>by(e,Ey(t));var Ty=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var xy=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Cy(t))!hf.call(e,s)&&s!==n&&il(e,s,{get:()=>t[s],enumerable:!(r=Dy(t,s))||r.enumerable});return e};var _r=(e,t,n)=>(n=e!=null?wy(Iy(e)):{},xy(t||!e||!e.__esModule?il(n,"default",{value:e,enumerable:!0}):n,e));var At=(e,t,n)=>new Promise((r,s)=>{var l=h=>{try{d(n.next(h))}catch(m){s(m)}},c=h=>{try{d(n.throw(h))}catch(m){s(m)}},d=h=>h.done?r(h.value):Promise.resolve(h.value).then(l,c);d((n=n.apply(e,t)).next())});var Ki=Ty((va,Vg)=>{"use strict";(function(e,t){typeof va=="object"&&typeof Vg<"u"?t(va):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.leaflet={}))})(va,function(e){"use strict";var t="1.9.4";function n(i){var o,a,u,f;for(a=1,u=arguments.length;a<u;a++){f=arguments[a];for(o in f)i[o]=f[o]}return i}var r=Object.create||function(){function i(){}return function(o){return i.prototype=o,new i}}();function s(i,o){var a=Array.prototype.slice;if(i.bind)return i.bind.apply(i,a.call(arguments,1));var u=a.call(arguments,2);return function(){return i.apply(o,u.length?u.concat(a.call(arguments)):arguments)}}var l=0;function c(i){return"_leaflet_id"in i||(i._leaflet_id=++l),i._leaflet_id}function d(i,o,a){var u,f,p,v;return v=function(){u=!1,f&&(p.apply(a,f),f=!1)},p=function(){u?f=arguments:(i.apply(a,arguments),setTimeout(v,o),u=!0)},p}function h(i,o,a){var u=o[1],f=o[0],p=u-f;return i===u&&a?i:((i-f)%p+p)%p+f}function m(){return!1}function g(i,o){if(o===!1)return i;var a=Math.pow(10,o===void 0?6:o);return Math.round(i*a)/a}function _(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function D(i){return _(i).split(/\s+/)}function y(i,o){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?r(i.options):{});for(var a in o)i.options[a]=o[a];return i.options}function b(i,o,a){var u=[];for(var f in i)u.push(encodeURIComponent(a?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!o||o.indexOf("?")===-1?"?":"&")+u.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function P(i,o){return i.replace(I,function(a,u){var f=o[u];if(f===void 0)throw new Error("No value provided for variable "+a);return typeof f=="function"&&(f=f(o)),f})}var N=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function se(i,o){for(var a=0;a<i.length;a++)if(i[a]===o)return a;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ne(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var le=0;function me(i){var o=+new Date,a=Math.max(0,16-(o-le));return le=o+a,window.setTimeout(i,a)}var he=window.requestAnimationFrame||ne("RequestAnimationFrame")||me,Ne=window.cancelAnimationFrame||ne("CancelAnimationFrame")||ne("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function B(i,o,a){if(a&&he===me)i.call(o);else return he.call(window,s(i,o))}function J(i){i&&Ne.call(window,i)}var He={__proto__:null,extend:n,create:r,bind:s,get lastId(){return l},stamp:c,throttle:d,wrapNum:h,falseFn:m,formatNum:g,trim:_,splitWords:D,setOptions:y,getParamString:b,template:P,isArray:N,indexOf:se,emptyImageUrl:O,requestFn:he,cancelFn:Ne,requestAnimFrame:B,cancelAnimFrame:J};function Fe(){}Fe.extend=function(i){var o=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=o.__super__=this.prototype,u=r(a);u.constructor=o,o.prototype=u;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(o[f]=this[f]);return i.statics&&n(o,i.statics),i.includes&&(we(i.includes),n.apply(null,[u].concat(i.includes))),n(u,i),delete u.statics,delete u.includes,u.options&&(u.options=a.options?r(a.options):{},n(u.options,i.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,v=u._initHooks.length;p<v;p++)u._initHooks[p].call(this)}},o},Fe.include=function(i){var o=this.prototype.options;return n(this.prototype,i),i.options&&(this.prototype.options=o,this.mergeOptions(i.options)),this},Fe.mergeOptions=function(i){return n(this.prototype.options,i),this},Fe.addInitHook=function(i){var o=Array.prototype.slice.call(arguments,1),a=typeof i=="function"?i:function(){this[i].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function we(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=N(i)?i:[i];for(var o=0;o<i.length;o++)i[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ie={on:function(i,o,a){if(typeof i=="object")for(var u in i)this._on(u,i[u],o);else{i=D(i);for(var f=0,p=i.length;f<p;f++)this._on(i[f],o,a)}return this},off:function(i,o,a){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var u in i)this._off(u,i[u],o);else{i=D(i);for(var f=arguments.length===1,p=0,v=i.length;p<v;p++)f?this._off(i[p]):this._off(i[p],o,a)}return this},_on:function(i,o,a,u){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(i,o,a)===!1){a===this&&(a=void 0);var f={fn:o,ctx:a};u&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,o,a){var u,f,p;if(this._events&&(u=this._events[i],!!u)){if(arguments.length===1){if(this._firingCount)for(f=0,p=u.length;f<p;f++)u[f].fn=m;delete this._events[i];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var v=this._listens(i,o,a);if(v!==!1){var w=u[v];this._firingCount&&(w.fn=m,this._events[i]=u=u.slice()),u.splice(v,1)}}},fire:function(i,o,a){if(!this.listens(i,a))return this;var u=n({},o,{type:i,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var p=0,v=f.length;p<v;p++){var w=f[p],E=w.fn;w.once&&this.off(i,E,w.ctx),E.call(w.ctx||this,u)}this._firingCount--}}return a&&this._propagateEvent(u),this},listens:function(i,o,a,u){typeof i!="string"&&console.warn('"string" type argument expected');var f=o;typeof o!="function"&&(u=!!o,f=void 0,a=void 0);var p=this._events&&this._events[i];if(p&&p.length&&this._listens(i,f,a)!==!1)return!0;if(u){for(var v in this._eventParents)if(this._eventParents[v].listens(i,o,a,u))return!0}return!1},_listens:function(i,o,a){if(!this._events)return!1;var u=this._events[i]||[];if(!o)return!!u.length;a===this&&(a=void 0);for(var f=0,p=u.length;f<p;f++)if(u[f].fn===o&&u[f].ctx===a)return f;return!1},once:function(i,o,a){if(typeof i=="object")for(var u in i)this._on(u,i[u],o,!0);else{i=D(i);for(var f=0,p=i.length;f<p;f++)this._on(i[f],o,a,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[c(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[c(i)],this},_propagateEvent:function(i){for(var o in this._eventParents)this._eventParents[o].fire(i.type,n({layer:i.target,propagatedFrom:i.target},i),!0)}};ie.addEventListener=ie.on,ie.removeEventListener=ie.clearAllEventListeners=ie.off,ie.addOneTimeEventListener=ie.once,ie.fireEvent=ie.fire,ie.hasEventListeners=ie.listens;var ct=Fe.extend(ie);function F(i,o,a){this.x=a?Math.round(i):i,this.y=a?Math.round(o):o}var ei=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(i){return this.clone()._add(k(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(k(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new F(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new F(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ei(this.x),this.y=ei(this.y),this},distanceTo:function(i){i=k(i);var o=i.x-this.x,a=i.y-this.y;return Math.sqrt(o*o+a*a)},equals:function(i){return i=k(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=k(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function k(i,o,a){return i instanceof F?i:N(i)?new F(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new F(i.x,i.y):new F(i,o,a)}function pe(i,o){if(i)for(var a=o?[i,o]:i,u=0,f=a.length;u<f;u++)this.extend(a[u])}pe.prototype={extend:function(i){var o,a;if(!i)return this;if(i instanceof F||typeof i[0]=="number"||"x"in i)o=a=k(i);else if(i=ke(i),o=i.min,a=i.max,!o||!a)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=a.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(i){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var o,a;return typeof i[0]=="number"||i instanceof F?i=k(i):i=ke(i),i instanceof pe?(o=i.min,a=i.max):o=a=i,o.x>=this.min.x&&a.x<=this.max.x&&o.y>=this.min.y&&a.y<=this.max.y},intersects:function(i){i=ke(i);var o=this.min,a=this.max,u=i.min,f=i.max,p=f.x>=o.x&&u.x<=a.x,v=f.y>=o.y&&u.y<=a.y;return p&&v},overlaps:function(i){i=ke(i);var o=this.min,a=this.max,u=i.min,f=i.max,p=f.x>o.x&&u.x<a.x,v=f.y>o.y&&u.y<a.y;return p&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var o=this.min,a=this.max,u=Math.abs(o.x-a.x)*i,f=Math.abs(o.y-a.y)*i;return ke(k(o.x-u,o.y-f),k(a.x+u,a.y+f))},equals:function(i){return i?(i=ke(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ke(i,o){return!i||i instanceof pe?i:new pe(i,o)}function ze(i,o){if(i)for(var a=o?[i,o]:i,u=0,f=a.length;u<f;u++)this.extend(a[u])}ze.prototype={extend:function(i){var o=this._southWest,a=this._northEast,u,f;if(i instanceof de)u=i,f=i;else if(i instanceof ze){if(u=i._southWest,f=i._northEast,!u||!f)return this}else return i?this.extend(G(i)||_e(i)):this;return!o&&!a?(this._southWest=new de(u.lat,u.lng),this._northEast=new de(f.lat,f.lng)):(o.lat=Math.min(u.lat,o.lat),o.lng=Math.min(u.lng,o.lng),a.lat=Math.max(f.lat,a.lat),a.lng=Math.max(f.lng,a.lng)),this},pad:function(i){var o=this._southWest,a=this._northEast,u=Math.abs(o.lat-a.lat)*i,f=Math.abs(o.lng-a.lng)*i;return new ze(new de(o.lat-u,o.lng-f),new de(a.lat+u,a.lng+f))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof de||"lat"in i?i=G(i):i=_e(i);var o=this._southWest,a=this._northEast,u,f;return i instanceof ze?(u=i.getSouthWest(),f=i.getNorthEast()):u=f=i,u.lat>=o.lat&&f.lat<=a.lat&&u.lng>=o.lng&&f.lng<=a.lng},intersects:function(i){i=_e(i);var o=this._southWest,a=this._northEast,u=i.getSouthWest(),f=i.getNorthEast(),p=f.lat>=o.lat&&u.lat<=a.lat,v=f.lng>=o.lng&&u.lng<=a.lng;return p&&v},overlaps:function(i){i=_e(i);var o=this._southWest,a=this._northEast,u=i.getSouthWest(),f=i.getNorthEast(),p=f.lat>o.lat&&u.lat<a.lat,v=f.lng>o.lng&&u.lng<a.lng;return p&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,o){return i?(i=_e(i),this._southWest.equals(i.getSouthWest(),o)&&this._northEast.equals(i.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(i,o){return i instanceof ze?i:new ze(i,o)}function de(i,o,a){if(isNaN(i)||isNaN(o))throw new Error("Invalid LatLng object: ("+i+", "+o+")");this.lat=+i,this.lng=+o,a!==void 0&&(this.alt=+a)}de.prototype={equals:function(i,o){if(!i)return!1;i=G(i);var a=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return a<=(o===void 0?1e-9:o)},toString:function(i){return"LatLng("+g(this.lat,i)+", "+g(this.lng,i)+")"},distanceTo:function(i){return ut.distance(this,G(i))},wrap:function(){return ut.wrapLatLng(this)},toBounds:function(i){var o=180*i/40075017,a=o/Math.cos(Math.PI/180*this.lat);return _e([this.lat-o,this.lng-a],[this.lat+o,this.lng+a])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function G(i,o,a){return i instanceof de?i:N(i)&&typeof i[0]!="object"?i.length===3?new de(i[0],i[1],i[2]):i.length===2?new de(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new de(i.lat,"lng"in i?i.lng:i.lon,i.alt):o===void 0?null:new de(i,o,a)}var ce={latLngToPoint:function(i,o){var a=this.projection.project(i),u=this.scale(o);return this.transformation._transform(a,u)},pointToLatLng:function(i,o){var a=this.scale(o),u=this.transformation.untransform(i,a);return this.projection.unproject(u)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var o=this.projection.bounds,a=this.scale(i),u=this.transformation.transform(o.min,a),f=this.transformation.transform(o.max,a);return new pe(u,f)},infinite:!1,wrapLatLng:function(i){var o=this.wrapLng?h(i.lng,this.wrapLng,!0):i.lng,a=this.wrapLat?h(i.lat,this.wrapLat,!0):i.lat,u=i.alt;return new de(a,o,u)},wrapLatLngBounds:function(i){var o=i.getCenter(),a=this.wrapLatLng(o),u=o.lat-a.lat,f=o.lng-a.lng;if(u===0&&f===0)return i;var p=i.getSouthWest(),v=i.getNorthEast(),w=new de(p.lat-u,p.lng-f),E=new de(v.lat-u,v.lng-f);return new ze(w,E)}},ut=n({},ce,{wrapLng:[-180,180],R:6371e3,distance:function(i,o){var a=Math.PI/180,u=i.lat*a,f=o.lat*a,p=Math.sin((o.lat-i.lat)*a/2),v=Math.sin((o.lng-i.lng)*a/2),w=p*p+Math.cos(u)*Math.cos(f)*v*v,E=2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w));return this.R*E}}),ti=6378137,ni={R:ti,MAX_LATITUDE:85.0511287798,project:function(i){var o=Math.PI/180,a=this.MAX_LATITUDE,u=Math.max(Math.min(a,i.lat),-a),f=Math.sin(u*o);return new F(this.R*i.lng*o,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var o=180/Math.PI;return new de((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*o,i.x*o/this.R)},bounds:function(){var i=ti*Math.PI;return new pe([-i,-i],[i,i])}()};function ii(i,o,a,u){if(N(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=o,this._c=a,this._d=u}ii.prototype={transform:function(i,o){return this._transform(i.clone(),o)},_transform:function(i,o){return o=o||1,i.x=o*(this._a*i.x+this._b),i.y=o*(this._c*i.y+this._d),i},untransform:function(i,o){return o=o||1,new F((i.x/o-this._b)/this._a,(i.y/o-this._d)/this._c)}};function on(i,o,a,u){return new ii(i,o,a,u)}var nr=n({},ut,{code:"EPSG:3857",projection:ni,transformation:function(){var i=.5/(Math.PI*ni.R);return on(i,.5,-i,.5)}()}),ir=n({},nr,{code:"EPSG:900913"});function ri(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function so(i,o){var a="",u,f,p,v,w,E;for(u=0,p=i.length;u<p;u++){for(w=i[u],f=0,v=w.length;f<v;f++)E=w[f],a+=(f?"L":"M")+E.x+" "+E.y;a+=o?A.svg?"z":"x":""}return a||"M0 0"}var rr=document.documentElement.style,oi="ActiveXObject"in window,Ta=oi&&!document.addEventListener,pn="msLaunchUri"in navigator&&!("documentMode"in document),or=xt("webkit"),rd=xt("android"),od=xt("android 2")||xt("android 3"),Jg=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xg=rd&&xt("Google")&&Jg<537&&!("AudioNode"in window),xa=!!window.opera,sd=!pn&&xt("chrome"),ad=xt("gecko")&&!or&&!xa&&!oi,ev=!sd&&xt("safari"),ld=xt("phantom"),cd="OTransition"in rr,tv=navigator.platform.indexOf("Win")===0,ud=oi&&"transition"in rr,Sa="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!od,dd="MozPerspective"in rr,nv=!window.L_DISABLE_3D&&(ud||Sa||dd)&&!cd&&!ld,sr=typeof orientation<"u"||xt("mobile"),iv=sr&&or,rv=sr&&Sa,fd=!window.PointerEvent&&window.MSPointerEvent,hd=!!(window.PointerEvent||fd),pd="ontouchstart"in window||!!window.TouchEvent,ov=!window.L_NO_TOUCH&&(pd||hd),sv=sr&&xa,av=sr&&ad,lv=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,cv=function(){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",m,o),window.removeEventListener("testPassiveEventSupport",m,o)}catch{}return i}(),uv=function(){return!!document.createElement("canvas").getContext}(),Pa=!!(document.createElementNS&&ri("svg").createSVGRect),dv=!!Pa&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),fv=!Pa&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var o=i.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),hv=navigator.platform.indexOf("Mac")===0,pv=navigator.platform.indexOf("Linux")===0;function xt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var A={ie:oi,ielt9:Ta,edge:pn,webkit:or,android:rd,android23:od,androidStock:Xg,opera:xa,chrome:sd,gecko:ad,safari:ev,phantom:ld,opera12:cd,win:tv,ie3d:ud,webkit3d:Sa,gecko3d:dd,any3d:nv,mobile:sr,mobileWebkit:iv,mobileWebkit3d:rv,msPointer:fd,pointer:hd,touch:ov,touchNative:pd,mobileOpera:sv,mobileGecko:av,retina:lv,passiveEvents:cv,canvas:uv,svg:Pa,vml:fv,inlineSvg:dv,mac:hv,linux:pv},md=A.msPointer?"MSPointerDown":"pointerdown",gd=A.msPointer?"MSPointerMove":"pointermove",vd=A.msPointer?"MSPointerUp":"pointerup",yd=A.msPointer?"MSPointerCancel":"pointercancel",Na={touchstart:md,touchmove:gd,touchend:vd,touchcancel:yd},_d={touchstart:wv,touchmove:ao,touchend:ao,touchcancel:ao},si={},wd=!1;function mv(i,o,a){return o==="touchstart"&&_v(),_d[o]?(a=_d[o].bind(this,a),i.addEventListener(Na[o],a,!1),a):(console.warn("wrong event specified:",o),m)}function gv(i,o,a){if(!Na[o]){console.warn("wrong event specified:",o);return}i.removeEventListener(Na[o],a,!1)}function vv(i){si[i.pointerId]=i}function yv(i){si[i.pointerId]&&(si[i.pointerId]=i)}function bd(i){delete si[i.pointerId]}function _v(){wd||(document.addEventListener(md,vv,!0),document.addEventListener(gd,yv,!0),document.addEventListener(vd,bd,!0),document.addEventListener(yd,bd,!0),wd=!0)}function ao(i,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var a in si)o.touches.push(si[a]);o.changedTouches=[o],i(o)}}function wv(i,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Be(o),ao(i,o)}function bv(i){var o={},a,u;for(u in i)a=i[u],o[u]=a&&a.bind?a.bind(i):a;return i=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Dv=200;function Ev(i,o){i.addEventListener("dblclick",o);var a=0,u;function f(p){if(p.detail!==1){u=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var v=Md(p);if(!(v.some(function(E){return E instanceof HTMLLabelElement&&E.attributes.for})&&!v.some(function(E){return E instanceof HTMLInputElement||E instanceof HTMLSelectElement}))){var w=Date.now();w-a<=Dv?(u++,u===2&&o(bv(p))):u=1,a=w}}}return i.addEventListener("click",f),{dblclick:o,simDblclick:f}}function Cv(i,o){i.removeEventListener("dblclick",o.dblclick),i.removeEventListener("click",o.simDblclick)}var Oa=uo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ar=uo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Dd=ar==="webkitTransition"||ar==="OTransition"?ar+"End":"transitionend";function Ed(i){return typeof i=="string"?document.getElementById(i):i}function lr(i,o){var a=i.style[o]||i.currentStyle&&i.currentStyle[o];if((!a||a==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(i,null);a=u?u[o]:null}return a==="auto"?null:a}function ae(i,o,a){var u=document.createElement(i);return u.className=o||"",a&&a.appendChild(u),u}function be(i){var o=i.parentNode;o&&o.removeChild(i)}function lo(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function ai(i){var o=i.parentNode;o&&o.lastChild!==i&&o.appendChild(i)}function li(i){var o=i.parentNode;o&&o.firstChild!==i&&o.insertBefore(i,o.firstChild)}function Aa(i,o){if(i.classList!==void 0)return i.classList.contains(o);var a=co(i);return a.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(a)}function W(i,o){if(i.classList!==void 0)for(var a=D(o),u=0,f=a.length;u<f;u++)i.classList.add(a[u]);else if(!Aa(i,o)){var p=co(i);La(i,(p?p+" ":"")+o)}}function Me(i,o){i.classList!==void 0?i.classList.remove(o):La(i,_((" "+co(i)+" ").replace(" "+o+" "," ")))}function La(i,o){i.className.baseVal===void 0?i.className=o:i.className.baseVal=o}function co(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function dt(i,o){"opacity"in i.style?i.style.opacity=o:"filter"in i.style&&Iv(i,o)}function Iv(i,o){var a=!1,u="DXImageTransform.Microsoft.Alpha";try{a=i.filters.item(u)}catch{if(o===1)return}o=Math.round(o*100),a?(a.Enabled=o!==100,a.Opacity=o):i.style.filter+=" progid:"+u+"(opacity="+o+")"}function uo(i){for(var o=document.documentElement.style,a=0;a<i.length;a++)if(i[a]in o)return i[a];return!1}function mn(i,o,a){var u=o||new F(0,0);i.style[Oa]=(A.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(a?" scale("+a+")":"")}function Se(i,o){i._leaflet_pos=o,A.any3d?mn(i,o):(i.style.left=o.x+"px",i.style.top=o.y+"px")}function gn(i){return i._leaflet_pos||new F(0,0)}var cr,ur,ka;if("onselectstart"in document)cr=function(){$(window,"selectstart",Be)},ur=function(){ge(window,"selectstart",Be)};else{var dr=uo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);cr=function(){if(dr){var i=document.documentElement.style;ka=i[dr],i[dr]="none"}},ur=function(){dr&&(document.documentElement.style[dr]=ka,ka=void 0)}}function Ra(){$(window,"dragstart",Be)}function Fa(){ge(window,"dragstart",Be)}var fo,Ba;function ja(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(ho(),fo=i,Ba=i.style.outlineStyle,i.style.outlineStyle="none",$(window,"keydown",ho))}function ho(){fo&&(fo.style.outlineStyle=Ba,fo=void 0,Ba=void 0,ge(window,"keydown",ho))}function Cd(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Va(i){var o=i.getBoundingClientRect();return{x:o.width/i.offsetWidth||1,y:o.height/i.offsetHeight||1,boundingClientRect:o}}var Mv={__proto__:null,TRANSFORM:Oa,TRANSITION:ar,TRANSITION_END:Dd,get:Ed,getStyle:lr,create:ae,remove:be,empty:lo,toFront:ai,toBack:li,hasClass:Aa,addClass:W,removeClass:Me,setClass:La,getClass:co,setOpacity:dt,testProp:uo,setTransform:mn,setPosition:Se,getPosition:gn,get disableTextSelection(){return cr},get enableTextSelection(){return ur},disableImageDrag:Ra,enableImageDrag:Fa,preventOutline:ja,restoreOutline:ho,getSizedParentNode:Cd,getScale:Va};function $(i,o,a,u){if(o&&typeof o=="object")for(var f in o)za(i,f,o[f],a);else{o=D(o);for(var p=0,v=o.length;p<v;p++)za(i,o[p],a,u)}return this}var St="_leaflet_events";function ge(i,o,a,u){if(arguments.length===1)Id(i),delete i[St];else if(o&&typeof o=="object")for(var f in o)Ua(i,f,o[f],a);else if(o=D(o),arguments.length===2)Id(i,function(w){return se(o,w)!==-1});else for(var p=0,v=o.length;p<v;p++)Ua(i,o[p],a,u);return this}function Id(i,o){for(var a in i[St]){var u=a.split(/\d/)[0];(!o||o(u))&&Ua(i,u,null,null,a)}}var Ha={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function za(i,o,a,u){var f=o+c(a)+(u?"_"+c(u):"");if(i[St]&&i[St][f])return this;var p=function(w){return a.call(u||i,w||window.event)},v=p;!A.touchNative&&A.pointer&&o.indexOf("touch")===0?p=mv(i,o,p):A.touch&&o==="dblclick"?p=Ev(i,p):"addEventListener"in i?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?i.addEventListener(Ha[o]||o,p,A.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(p=function(w){w=w||window.event,Za(i,w)&&v(w)},i.addEventListener(Ha[o],p,!1)):i.addEventListener(o,v,!1):i.attachEvent("on"+o,p),i[St]=i[St]||{},i[St][f]=p}function Ua(i,o,a,u,f){f=f||o+c(a)+(u?"_"+c(u):"");var p=i[St]&&i[St][f];if(!p)return this;!A.touchNative&&A.pointer&&o.indexOf("touch")===0?gv(i,o,p):A.touch&&o==="dblclick"?Cv(i,p):"removeEventListener"in i?i.removeEventListener(Ha[o]||o,p,!1):i.detachEvent("on"+o,p),i[St][f]=null}function vn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function $a(i){return za(i,"wheel",vn),this}function fr(i){return $(i,"mousedown touchstart dblclick contextmenu",vn),i._leaflet_disable_click=!0,this}function Be(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function yn(i){return Be(i),vn(i),this}function Md(i){if(i.composedPath)return i.composedPath();for(var o=[],a=i.target;a;)o.push(a),a=a.parentNode;return o}function Td(i,o){if(!o)return new F(i.clientX,i.clientY);var a=Va(o),u=a.boundingClientRect;return new F((i.clientX-u.left)/a.x-o.clientLeft,(i.clientY-u.top)/a.y-o.clientTop)}var Tv=A.linux&&A.chrome?window.devicePixelRatio:A.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xd(i){return A.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Tv:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Za(i,o){var a=o.relatedTarget;if(!a)return!0;try{for(;a&&a!==i;)a=a.parentNode}catch{return!1}return a!==i}var xv={__proto__:null,on:$,off:ge,stopPropagation:vn,disableScrollPropagation:$a,disableClickPropagation:fr,preventDefault:Be,stop:yn,getPropagationPath:Md,getMousePosition:Td,getWheelDelta:xd,isExternalTarget:Za,addListener:$,removeListener:ge},Sd=ct.extend({run:function(i,o,a,u){this.stop(),this._el=i,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=gn(i),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(i){var o=+new Date-this._startTime,a=this._duration*1e3;o<a?this._runFrame(this._easeOut(o/a),i):(this._runFrame(1),this._complete())},_runFrame:function(i,o){var a=this._startPos.add(this._offset.multiplyBy(i));o&&a._round(),Se(this._el,a),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),re=ct.extend({options:{crs:nr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,o){o=y(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(G(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ar&&A.any3d&&!A.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$(this._proxy,Dd,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,o,a){if(o=o===void 0?this._zoom:this._limitZoom(o),i=this._limitCenter(G(i),o,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=n({animate:a.animate},a.zoom),a.pan=n({animate:a.animate,duration:a.duration},a.pan));var u=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,o,a.zoom):this._tryAnimatedPan(i,a.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(i,o,a.pan&&a.pan.noMoveStart),this},setZoom:function(i,o){return this._loaded?this.setView(this.getCenter(),i,{zoom:o}):(this._zoom=i,this)},zoomIn:function(i,o){return i=i||(A.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,o)},zoomOut:function(i,o){return i=i||(A.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,o)},setZoomAround:function(i,o,a){var u=this.getZoomScale(o),f=this.getSize().divideBy(2),p=i instanceof F?i:this.latLngToContainerPoint(i),v=p.subtract(f).multiplyBy(1-1/u),w=this.containerPointToLatLng(f.add(v));return this.setView(w,o,{zoom:a})},_getBoundsCenterZoom:function(i,o){o=o||{},i=i.getBounds?i.getBounds():_e(i);var a=k(o.paddingTopLeft||o.padding||[0,0]),u=k(o.paddingBottomRight||o.padding||[0,0]),f=this.getBoundsZoom(i,!1,a.add(u));if(f=typeof o.maxZoom=="number"?Math.min(o.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var p=u.subtract(a).divideBy(2),v=this.project(i.getSouthWest(),f),w=this.project(i.getNorthEast(),f),E=this.unproject(v.add(w).divideBy(2).add(p),f);return{center:E,zoom:f}},fitBounds:function(i,o){if(i=_e(i),!i.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(i,o);return this.setView(a.center,a.zoom,o)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,o){return this.setView(i,this._zoom,{pan:o})},panBy:function(i,o){if(i=k(i).round(),o=o||{},!i.x&&!i.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Sd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){W(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,a,o.duration||.25,o.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,o,a){if(a=a||{},a.animate===!1||!A.any3d)return this.setView(i,o,a);this._stop();var u=this.project(this.getCenter()),f=this.project(i),p=this.getSize(),v=this._zoom;i=G(i),o=o===void 0?v:o;var w=Math.max(p.x,p.y),E=w*this.getZoomScale(v,o),C=f.distanceTo(u)||1,M=1.42,R=M*M;function K(Pe){var Io=Pe?-1:1,gy=Pe?E:w,vy=E*E-w*w+Io*R*R*C*C,yy=2*gy*R*C,nl=vy/yy,uf=Math.sqrt(nl*nl+1)-nl,_y=uf<1e-9?-18:Math.log(uf);return _y}function Ge(Pe){return(Math.exp(Pe)-Math.exp(-Pe))/2}function Re(Pe){return(Math.exp(Pe)+Math.exp(-Pe))/2}function ht(Pe){return Ge(Pe)/Re(Pe)}var qe=K(0);function pi(Pe){return w*(Re(qe)/Re(qe+M*Pe))}function fy(Pe){return w*(Re(qe)*ht(qe+M*Pe)-Ge(qe))/R}function hy(Pe){return 1-Math.pow(1-Pe,1.5)}var py=Date.now(),lf=(K(1)-qe)/M,my=a.duration?1e3*a.duration:1e3*lf*.8;function cf(){var Pe=(Date.now()-py)/my,Io=hy(Pe)*lf;Pe<=1?(this._flyToFrame=B(cf,this),this._move(this.unproject(u.add(f.subtract(u).multiplyBy(fy(Io)/C)),v),this.getScaleZoom(w/pi(Io),v),{flyTo:!0})):this._move(i,o)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),cf.call(this),this},flyToBounds:function(i,o){var a=this._getBoundsCenterZoom(i,o);return this.flyTo(a.center,a.zoom,o)},setMaxBounds:function(i){return i=_e(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var o=this.options.minZoom;return this.options.minZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var o=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,o){this._enforcingBounds=!0;var a=this.getCenter(),u=this._limitCenter(a,this._zoom,_e(i));return a.equals(u)||this.panTo(u,o),this._enforcingBounds=!1,this},panInside:function(i,o){o=o||{};var a=k(o.paddingTopLeft||o.padding||[0,0]),u=k(o.paddingBottomRight||o.padding||[0,0]),f=this.project(this.getCenter()),p=this.project(i),v=this.getPixelBounds(),w=ke([v.min.add(a),v.max.subtract(u)]),E=w.getSize();if(!w.contains(p)){this._enforcingBounds=!0;var C=p.subtract(w.getCenter()),M=w.extend(p).getSize().subtract(E);f.x+=C.x<0?-M.x:M.x,f.y+=C.y<0?-M.y:M.y,this.panTo(this.unproject(f),o),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=n({animate:!1,pan:!0},i===!0?{animate:!0}:i);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),u=o.divideBy(2).round(),f=a.divideBy(2).round(),p=u.subtract(f);return!p.x&&!p.y?this:(i.animate&&i.pan?this.panBy(p):(i.pan&&this._rawPanBy(p),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=n({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=s(this._handleGeolocationResponse,this),a=s(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,a,i):navigator.geolocation.getCurrentPosition(o,a,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var o=i.code,a=i.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var o=i.coords.latitude,a=i.coords.longitude,u=new de(o,a),f=u.toBounds(i.coords.accuracy*2),p=this._locateOptions;if(p.setView){var v=this.getBoundsZoom(f);this.setView(u,p.maxZoom?Math.min(v,p.maxZoom):v)}var w={latlng:u,bounds:f,timestamp:i.timestamp};for(var E in i.coords)typeof i.coords[E]=="number"&&(w[E]=i.coords[E]);this.fire("locationfound",w)}},addHandler:function(i,o){if(!o)return this;var a=this[i]=new o(this);return this._handlers.push(a),this.options[i]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)be(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,o){var a="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),u=ae("div",a,o||this._mapPane);return i&&(this._panes[i]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),o=this.unproject(i.getBottomLeft()),a=this.unproject(i.getTopRight());return new ze(o,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,o,a){i=_e(i),a=k(a||[0,0]);var u=this.getZoom()||0,f=this.getMinZoom(),p=this.getMaxZoom(),v=i.getNorthWest(),w=i.getSouthEast(),E=this.getSize().subtract(a),C=ke(this.project(w,u),this.project(v,u)).getSize(),M=A.any3d?this.options.zoomSnap:1,R=E.x/C.x,K=E.y/C.y,Ge=o?Math.max(R,K):Math.min(R,K);return u=this.getScaleZoom(Ge,u),M&&(u=Math.round(u/(M/100))*(M/100),u=o?Math.ceil(u/M)*M:Math.floor(u/M)*M),Math.max(f,Math.min(p,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,o){var a=this._getTopLeftPoint(i,o);return new pe(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,o){var a=this.options.crs;return o=o===void 0?this._zoom:o,a.scale(i)/a.scale(o)},getScaleZoom:function(i,o){var a=this.options.crs;o=o===void 0?this._zoom:o;var u=a.zoom(i*a.scale(o));return isNaN(u)?1/0:u},project:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(G(i),o)},unproject:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(k(i),o)},layerPointToLatLng:function(i){var o=k(i).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(i){var o=this.project(G(i))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(G(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(_e(i))},distance:function(i,o){return this.options.crs.distance(G(i),G(o))},containerPointToLayerPoint:function(i){return k(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return k(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var o=this.containerPointToLayerPoint(k(i));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(G(i)))},mouseEventToContainerPoint:function(i){return Td(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var o=this._container=Ed(i);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$(o,"scroll",this._onScroll,this),this._containerId=c(o)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&A.any3d,W(i,"leaflet-container"+(A.touch?" leaflet-touch":"")+(A.retina?" leaflet-retina":"")+(A.ielt9?" leaflet-oldie":"")+(A.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=lr(i,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Se(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(W(i.markerPane,"leaflet-zoom-hide"),W(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,o,a){Se(this._mapPane,new F(0,0));var u=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var f=this._zoom!==o;this._moveStart(f,a)._move(i,o)._moveEnd(f),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(i,o){return i&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(i,o,a,u){o===void 0&&(o=this._zoom);var f=this._zoom!==o;return this._zoom=o,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),u?a&&a.pinch&&this.fire("zoom",a):((f||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Se(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[c(this._container)]=this;var o=i?ge:$;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),A.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,o){for(var a=[],u,f=o==="mouseout"||o==="mouseover",p=i.target||i.srcElement,v=!1;p;){if(u=this._targets[c(p)],u&&(o==="click"||o==="preclick")&&this._draggableMoved(u)){v=!0;break}if(u&&u.listens(o,!0)&&(f&&!Za(p,i)||(a.push(u),f))||p===this._container)break;p=p.parentNode}return!a.length&&!v&&!f&&this.listens(o,!0)&&(a=[this]),a},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var o=i.target||i.srcElement;if(!(!this._loaded||o._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(o))){var a=i.type;a==="mousedown"&&ja(o),this._fireDOMEvent(i,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,o,a){if(i.type==="click"){var u=n({},i);u.type="preclick",this._fireDOMEvent(u,u.type,a)}var f=this._findEventTargets(i,o);if(a){for(var p=[],v=0;v<a.length;v++)a[v].listens(o,!0)&&p.push(a[v]);f=p.concat(f)}if(f.length){o==="contextmenu"&&Be(i);var w=f[0],E={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var C=w.getLatLng&&(!w._radius||w._radius<=10);E.containerPoint=C?this.latLngToContainerPoint(w.getLatLng()):this.mouseEventToContainerPoint(i),E.layerPoint=this.containerPointToLayerPoint(E.containerPoint),E.latlng=C?w.getLatLng():this.layerPointToLatLng(E.layerPoint)}for(v=0;v<f.length;v++)if(f[v].fire(o,E,!0),E.originalEvent._stopped||f[v].options.bubblingMouseEvents===!1&&se(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,o=this._handlers.length;i<o;i++)this._handlers[i].disable()},whenReady:function(i,o){return this._loaded?i.call(o||this,{target:this}):this.on("load",i,o),this},_getMapPanePos:function(){return gn(this._mapPane)||new F(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,o){var a=i&&o!==void 0?this._getNewPixelOrigin(i,o):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,o){var a=this.getSize()._divideBy(2);return this.project(i,o)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,o,a){var u=this._getNewPixelOrigin(a,o);return this.project(i,o)._subtract(u)},_latLngBoundsToNewLayerBounds:function(i,o,a){var u=this._getNewPixelOrigin(a,o);return ke([this.project(i.getSouthWest(),o)._subtract(u),this.project(i.getNorthWest(),o)._subtract(u),this.project(i.getSouthEast(),o)._subtract(u),this.project(i.getNorthEast(),o)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,o,a){if(!a)return i;var u=this.project(i,o),f=this.getSize().divideBy(2),p=new pe(u.subtract(f),u.add(f)),v=this._getBoundsOffset(p,a,o);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?i:this.unproject(u.add(v),o)},_limitOffset:function(i,o){if(!o)return i;var a=this.getPixelBounds(),u=new pe(a.min.add(i),a.max.add(i));return i.add(this._getBoundsOffset(u,o))},_getBoundsOffset:function(i,o,a){var u=ke(this.project(o.getNorthEast(),a),this.project(o.getSouthWest(),a)),f=u.min.subtract(i.min),p=u.max.subtract(i.max),v=this._rebound(f.x,-p.x),w=this._rebound(f.y,-p.y);return new F(v,w)},_rebound:function(i,o){return i+o>0?Math.round(i-o)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(o))},_limitZoom:function(i){var o=this.getMinZoom(),a=this.getMaxZoom(),u=A.any3d?this.options.zoomSnap:1;return u&&(i=Math.round(i/u)*u),Math.max(o,Math.min(a,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,o){var a=this._getCenterOffset(i)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,o),!0)},_createAnimProxy:function(){var i=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(o){var a=Oa,u=this._proxy.style[a];mn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),u===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),o=this.getZoom();mn(this._proxy,this.project(i,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,o,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(o),f=this._getCenterOffset(i)._divideBy(1-1/u);return a.animate!==!0&&!this.getSize().contains(f)?!1:(B(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(i,o,!0)},this),!0)},_animateZoom:function(i,o,a,u){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=o,W(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:o,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Sv(i,o){return new re(i,o)}var wt=Fe.extend({options:{position:"topright"},initialize:function(i){y(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var o=this._map;return o&&o.removeControl(this),this.options.position=i,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var o=this._container=this.onAdd(i),a=this.getPosition(),u=i._controlCorners[a];return W(o,"leaflet-control"),a.indexOf("bottom")!==-1?u.insertBefore(o,u.firstChild):u.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),hr=function(i){return new wt(i)};re.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},o="leaflet-",a=this._controlContainer=ae("div",o+"control-container",this._container);function u(f,p){var v=o+f+" "+o+p;i[f+p]=ae("div",v,a)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)be(this._controlCorners[i]);be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Pd=wt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,o,a,u){return a<u?-1:u<a?1:0}},initialize:function(i,o,a){y(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in i)this._addLayer(i[u],u);for(u in o)this._addLayer(o[u],u,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return wt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,o){return this._addLayer(i,o),this._map?this._update():this},addOverlay:function(i,o){return this._addLayer(i,o,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var o=this._getLayer(c(i));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){W(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(W(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Me(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",o=this._container=ae("div",i),a=this.options.collapsed;o.setAttribute("aria-haspopup",!0),fr(o),$a(o);var u=this._section=ae("section",i+"-list");a&&(this._map.on("click",this.collapse,this),$(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=ae("a",i+"-toggle",o);f.href="#",f.title="Layers",f.setAttribute("role","button"),$(f,{keydown:function(p){p.keyCode===13&&this._expandSafely()},click:function(p){Be(p),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=ae("div",i+"-base",u),this._separator=ae("div",i+"-separator",u),this._overlaysList=ae("div",i+"-overlays",u),o.appendChild(u)},_getLayer:function(i){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&c(this._layers[o].layer)===i)return this._layers[o]},_addLayer:function(i,o,a){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:o,overlay:a}),this.options.sortLayers&&this._layers.sort(s(function(u,f){return this.options.sortFunction(u.layer,f.layer,u.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;lo(this._baseLayersList),lo(this._overlaysList),this._layerControlInputs=[];var i,o,a,u,f=0;for(a=0;a<this._layers.length;a++)u=this._layers[a],this._addItem(u),o=o||u.overlay,i=i||!u.overlay,f+=u.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=o&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var o=this._getLayer(c(i.target)),a=o.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;a&&this._map.fire(a,o)},_createRadioElement:function(i,o){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(o?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=a,u.firstChild},_addItem:function(i){var o=document.createElement("label"),a=this._map.hasLayer(i.layer),u;i.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=a):u=this._createRadioElement("leaflet-base-layers_"+c(this),a),this._layerControlInputs.push(u),u.layerId=c(i.layer),$(u,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var p=document.createElement("span");o.appendChild(p),p.appendChild(u),p.appendChild(f);var v=i.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,o,a,u=[],f=[];this._handlingClick=!0;for(var p=i.length-1;p>=0;p--)o=i[p],a=this._getLayer(o.layerId).layer,o.checked?u.push(a):o.checked||f.push(a);for(p=0;p<f.length;p++)this._map.hasLayer(f[p])&&this._map.removeLayer(f[p]);for(p=0;p<u.length;p++)this._map.hasLayer(u[p])||this._map.addLayer(u[p]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,o,a,u=this._map.getZoom(),f=i.length-1;f>=0;f--)o=i[f],a=this._getLayer(o.layerId).layer,o.disabled=a.options.minZoom!==void 0&&u<a.options.minZoom||a.options.maxZoom!==void 0&&u>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,$(i,"click",Be),this.expand();var o=this;setTimeout(function(){ge(i,"click",Be),o._preventClick=!1})}}),Pv=function(i,o,a){return new Pd(i,o,a)},Ga=wt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var o="leaflet-control-zoom",a=ae("div",o+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,o+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,o+"-out",a,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,o,a,u,f){var p=ae("a",a,u);return p.innerHTML=i,p.href="#",p.title=o,p.setAttribute("role","button"),p.setAttribute("aria-label",o),fr(p),$(p,"click",yn),$(p,"click",f,this),$(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var i=this._map,o="leaflet-disabled";Me(this._zoomInButton,o),Me(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(W(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(W(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ga,this.addControl(this.zoomControl))});var Nv=function(i){return new Ga(i)},Nd=wt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var o="leaflet-control-scale",a=ae("div",o),u=this.options;return this._addScales(u,o+"-line",a),i.on(u.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),a},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,o,a){i.metric&&(this._mScale=ae("div",o,a)),i.imperial&&(this._iScale=ae("div",o,a))},_update:function(){var i=this._map,o=i.getSize().y/2,a=i.distance(i.containerPointToLatLng([0,o]),i.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(a)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var o=this._getRoundNum(i),a=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,a,o/i)},_updateImperial:function(i){var o=i*3.2808399,a,u,f;o>5280?(a=o/5280,u=this._getRoundNum(a),this._updateScale(this._iScale,u+" mi",u/a)):(f=this._getRoundNum(o),this._updateScale(this._iScale,f+" ft",f/o))},_updateScale:function(i,o,a){i.style.width=Math.round(this.options.maxWidth*a)+"px",i.innerHTML=o},_getRoundNum:function(i){var o=Math.pow(10,(Math.floor(i)+"").length-1),a=i/o;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,o*a}}),Ov=function(i){return new Nd(i)},Av='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Wa=wt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(A.inlineSvg?Av+" ":"")+"Leaflet</a>"},initialize:function(i){y(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),fr(this._container);for(var o in i._layers)i._layers[o].getAttribution&&this.addAttribution(i._layers[o].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var o in this._attributions)this._attributions[o]&&i.push(o);var a=[];this.options.prefix&&a.push(this.options.prefix),i.length&&a.push(i.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new Wa().addTo(this)});var Lv=function(i){return new Wa(i)};wt.Layers=Pd,wt.Zoom=Ga,wt.Scale=Nd,wt.Attribution=Wa,hr.layers=Pv,hr.zoom=Nv,hr.scale=Ov,hr.attribution=Lv;var Pt=Fe.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Pt.addTo=function(i,o){return i.addHandler(o,this),this};var kv={Events:ie},Od=A.touch?"touchstart mousedown":"mousedown",sn=ct.extend({options:{clickTolerance:3},initialize:function(i,o,a,u){y(this,u),this._element=i,this._dragStartTarget=o||i,this._preventOutline=a},enable:function(){this._enabled||($(this._dragStartTarget,Od,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(sn._dragging===this&&this.finishDrag(!0),ge(this._dragStartTarget,Od,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Aa(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){sn._dragging===this&&this.finishDrag();return}if(!(sn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(sn._dragging=this,this._preventOutline&&ja(this._element),Ra(),cr(),!this._moving)){this.fire("down");var o=i.touches?i.touches[0]:i,a=Cd(this._element);this._startPoint=new F(o.clientX,o.clientY),this._startPos=gn(this._element),this._parentScale=Va(a);var u=i.type==="mousedown";$(document,u?"mousemove":"touchmove",this._onMove,this),$(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var o=i.touches&&i.touches.length===1?i.touches[0]:i,a=new F(o.clientX,o.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,Be(i),this._moved||(this.fire("dragstart"),this._moved=!0,W(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),W(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Se(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Me(document.body,"leaflet-dragging"),this._lastTarget&&(Me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ge(document,"mousemove touchmove",this._onMove,this),ge(document,"mouseup touchend touchcancel",this._onUp,this),Fa(),ur();var o=this._moved&&this._moving;this._moving=!1,sn._dragging=!1,o&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Ad(i,o,a){var u,f=[1,4,2,8],p,v,w,E,C,M,R,K;for(p=0,M=i.length;p<M;p++)i[p]._code=_n(i[p],o);for(w=0;w<4;w++){for(R=f[w],u=[],p=0,M=i.length,v=M-1;p<M;v=p++)E=i[p],C=i[v],E._code&R?C._code&R||(K=po(C,E,R,o,a),K._code=_n(K,o),u.push(K)):(C._code&R&&(K=po(C,E,R,o,a),K._code=_n(K,o),u.push(K)),u.push(E));i=u}return i}function Ld(i,o){var a,u,f,p,v,w,E,C,M;if(!i||i.length===0)throw new Error("latlngs not passed");ft(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var R=G([0,0]),K=_e(i),Ge=K.getNorthWest().distanceTo(K.getSouthWest())*K.getNorthEast().distanceTo(K.getNorthWest());Ge<1700&&(R=qa(i));var Re=i.length,ht=[];for(a=0;a<Re;a++){var qe=G(i[a]);ht.push(o.project(G([qe.lat-R.lat,qe.lng-R.lng])))}for(w=E=C=0,a=0,u=Re-1;a<Re;u=a++)f=ht[a],p=ht[u],v=f.y*p.x-p.y*f.x,E+=(f.x+p.x)*v,C+=(f.y+p.y)*v,w+=v*3;w===0?M=ht[0]:M=[E/w,C/w];var pi=o.unproject(k(M));return G([pi.lat+R.lat,pi.lng+R.lng])}function qa(i){for(var o=0,a=0,u=0,f=0;f<i.length;f++){var p=G(i[f]);o+=p.lat,a+=p.lng,u++}return G([o/u,a/u])}var Rv={__proto__:null,clipPolygon:Ad,polygonCenter:Ld,centroid:qa};function kd(i,o){if(!o||!i.length)return i.slice();var a=o*o;return i=jv(i,a),i=Bv(i,a),i}function Rd(i,o,a){return Math.sqrt(pr(i,o,a,!0))}function Fv(i,o,a){return pr(i,o,a)}function Bv(i,o){var a=i.length,u=typeof Uint8Array<"u"?Uint8Array:Array,f=new u(a);f[0]=f[a-1]=1,Ya(i,f,o,0,a-1);var p,v=[];for(p=0;p<a;p++)f[p]&&v.push(i[p]);return v}function Ya(i,o,a,u,f){var p=0,v,w,E;for(w=u+1;w<=f-1;w++)E=pr(i[w],i[u],i[f],!0),E>p&&(v=w,p=E);p>a&&(o[v]=1,Ya(i,o,a,u,v),Ya(i,o,a,v,f))}function jv(i,o){for(var a=[i[0]],u=1,f=0,p=i.length;u<p;u++)Vv(i[u],i[f])>o&&(a.push(i[u]),f=u);return f<p-1&&a.push(i[p-1]),a}var Fd;function Bd(i,o,a,u,f){var p=u?Fd:_n(i,a),v=_n(o,a),w,E,C;for(Fd=v;;){if(!(p|v))return[i,o];if(p&v)return!1;w=p||v,E=po(i,o,w,a,f),C=_n(E,a),w===p?(i=E,p=C):(o=E,v=C)}}function po(i,o,a,u,f){var p=o.x-i.x,v=o.y-i.y,w=u.min,E=u.max,C,M;return a&8?(C=i.x+p*(E.y-i.y)/v,M=E.y):a&4?(C=i.x+p*(w.y-i.y)/v,M=w.y):a&2?(C=E.x,M=i.y+v*(E.x-i.x)/p):a&1&&(C=w.x,M=i.y+v*(w.x-i.x)/p),new F(C,M,f)}function _n(i,o){var a=0;return i.x<o.min.x?a|=1:i.x>o.max.x&&(a|=2),i.y<o.min.y?a|=4:i.y>o.max.y&&(a|=8),a}function Vv(i,o){var a=o.x-i.x,u=o.y-i.y;return a*a+u*u}function pr(i,o,a,u){var f=o.x,p=o.y,v=a.x-f,w=a.y-p,E=v*v+w*w,C;return E>0&&(C=((i.x-f)*v+(i.y-p)*w)/E,C>1?(f=a.x,p=a.y):C>0&&(f+=v*C,p+=w*C)),v=i.x-f,w=i.y-p,u?v*v+w*w:new F(f,p)}function ft(i){return!N(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function jd(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ft(i)}function Vd(i,o){var a,u,f,p,v,w,E,C;if(!i||i.length===0)throw new Error("latlngs not passed");ft(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var M=G([0,0]),R=_e(i),K=R.getNorthWest().distanceTo(R.getSouthWest())*R.getNorthEast().distanceTo(R.getNorthWest());K<1700&&(M=qa(i));var Ge=i.length,Re=[];for(a=0;a<Ge;a++){var ht=G(i[a]);Re.push(o.project(G([ht.lat-M.lat,ht.lng-M.lng])))}for(a=0,u=0;a<Ge-1;a++)u+=Re[a].distanceTo(Re[a+1])/2;if(u===0)C=Re[0];else for(a=0,p=0;a<Ge-1;a++)if(v=Re[a],w=Re[a+1],f=v.distanceTo(w),p+=f,p>u){E=(p-u)/f,C=[w.x-E*(w.x-v.x),w.y-E*(w.y-v.y)];break}var qe=o.unproject(k(C));return G([qe.lat+M.lat,qe.lng+M.lng])}var Hv={__proto__:null,simplify:kd,pointToSegmentDistance:Rd,closestPointOnSegment:Fv,clipSegment:Bd,_getEdgeIntersection:po,_getBitCode:_n,_sqClosestPointOnSegment:pr,isFlat:ft,_flat:jd,polylineCenter:Vd},Ka={project:function(i){return new F(i.lng,i.lat)},unproject:function(i){return new de(i.y,i.x)},bounds:new pe([-180,-90],[180,90])},Qa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new pe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var o=Math.PI/180,a=this.R,u=i.lat*o,f=this.R_MINOR/a,p=Math.sqrt(1-f*f),v=p*Math.sin(u),w=Math.tan(Math.PI/4-u/2)/Math.pow((1-v)/(1+v),p/2);return u=-a*Math.log(Math.max(w,1e-10)),new F(i.lng*o*a,u)},unproject:function(i){for(var o=180/Math.PI,a=this.R,u=this.R_MINOR/a,f=Math.sqrt(1-u*u),p=Math.exp(-i.y/a),v=Math.PI/2-2*Math.atan(p),w=0,E=.1,C;w<15&&Math.abs(E)>1e-7;w++)C=f*Math.sin(v),C=Math.pow((1-C)/(1+C),f/2),E=Math.PI/2-2*Math.atan(p*C)-v,v+=E;return new de(v*o,i.x*o/a)}},zv={__proto__:null,LonLat:Ka,Mercator:Qa,SphericalMercator:ni},Uv=n({},ut,{code:"EPSG:3395",projection:Qa,transformation:function(){var i=.5/(Math.PI*Qa.R);return on(i,.5,-i,.5)}()}),Hd=n({},ut,{code:"EPSG:4326",projection:Ka,transformation:on(1/180,1,-1/180,.5)}),$v=n({},ce,{projection:Ka,transformation:on(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,o){var a=o.lng-i.lng,u=o.lat-i.lat;return Math.sqrt(a*a+u*u)},infinite:!0});ce.Earth=ut,ce.EPSG3395=Uv,ce.EPSG3857=nr,ce.EPSG900913=ir,ce.EPSG4326=Hd,ce.Simple=$v;var bt=ct.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[c(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[c(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var o=i.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var a=this.getEvents();o.on(a,this),this.once("remove",function(){o.off(a,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});re.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var o=c(i);return this._layers[o]?this:(this._layers[o]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var o=c(i);return this._layers[o]?(this._loaded&&i.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return c(i)in this._layers},eachLayer:function(i,o){for(var a in this._layers)i.call(o,this._layers[a]);return this},_addLayers:function(i){i=i?N(i)?i:[i]:[];for(var o=0,a=i.length;o<a;o++)this.addLayer(i[o])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[c(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var o=c(i);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,o=-1/0,a=this._getZoomSpan();for(var u in this._zoomBoundLayers){var f=this._zoomBoundLayers[u].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),o=f.maxZoom===void 0?o:Math.max(o,f.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=i===1/0?void 0:i,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ci=bt.extend({initialize:function(i,o){y(this,o),this._layers={};var a,u;if(i)for(a=0,u=i.length;a<u;a++)this.addLayer(i[a])},addLayer:function(i){var o=this.getLayerId(i);return this._layers[o]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var o=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(i){var o=typeof i=="number"?i:this.getLayerId(i);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var o=Array.prototype.slice.call(arguments,1),a,u;for(a in this._layers)u=this._layers[a],u[i]&&u[i].apply(u,o);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,o){for(var a in this._layers)i.call(o,this._layers[a]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return c(i)}}),Zv=function(i,o){return new ci(i,o)},$t=ci.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),ci.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),ci.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new ze;for(var o in this._layers){var a=this._layers[o];i.extend(a.getBounds?a.getBounds():a.getLatLng())}return i}}),Gv=function(i,o){return new $t(i,o)},ui=Fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){y(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,o){var a=this._getIconUrl(i);if(!a){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(a,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(u,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(i,o){var a=this.options,u=a[o+"Size"];typeof u=="number"&&(u=[u,u]);var f=k(u),p=k(o==="shadow"&&a.shadowAnchor||a.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+o+" "+(a.className||""),p&&(i.style.marginLeft=-p.x+"px",i.style.marginTop=-p.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,o){return o=o||document.createElement("img"),o.src=i,o},_getIconUrl:function(i){return A.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Wv(i){return new ui(i)}var mr=ui.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof mr.imagePath!="string"&&(mr.imagePath=this._detectIconPath()),(this.options.imagePath||mr.imagePath)+ui.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var o=function(a,u,f){var p=u.exec(a);return p&&p[f]};return i=o(i,/^url\((['"])?(.+)\1\)$/,2),i&&o(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ae("div","leaflet-default-icon-path",document.body),o=lr(i,"background-image")||lr(i,"backgroundImage");if(document.body.removeChild(i),o=this._stripUrl(o),o)return o;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),zd=Pt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new sn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),W(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var o=this._marker,a=o._map,u=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,p=gn(o._icon),v=a.getPixelBounds(),w=a.getPixelOrigin(),E=ke(v.min._subtract(w).add(f),v.max._subtract(w).subtract(f));if(!E.contains(p)){var C=k((Math.max(E.max.x,p.x)-E.max.x)/(v.max.x-E.max.x)-(Math.min(E.min.x,p.x)-E.min.x)/(v.min.x-E.min.x),(Math.max(E.max.y,p.y)-E.max.y)/(v.max.y-E.max.y)-(Math.min(E.min.y,p.y)-E.min.y)/(v.min.y-E.min.y)).multiplyBy(u);a.panBy(C,{animate:!1}),this._draggable._newPos._add(C),this._draggable._startPos._add(C),Se(o._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=B(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,i)))},_onDrag:function(i){var o=this._marker,a=o._shadow,u=gn(o._icon),f=o._map.layerPointToLatLng(u);a&&Se(a,u),o._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,o.fire("move",i).fire("drag",i)},_onDragEnd:function(i){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),mo=bt.extend({options:{icon:new mr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,o){y(this,o),this._latlng=G(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var o=this._latlng;return this._latlng=G(i),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=i.icon.createIcon(this._icon),u=!1;a!==this._icon&&(this._icon&&this._removeIcon(),u=!0,i.title&&(a.title=i.title),a.tagName==="IMG"&&(a.alt=i.alt||"")),W(a,o),i.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$(a,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),p=!1;f!==this._shadow&&(this._removeShadow(),p=!0),f&&(W(f,o),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&p&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(this._icon,"focus",this._panOnFocus,this),be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&be(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Se(this._icon,i),this._shadow&&Se(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(W(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),zd)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new zd(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&dt(this._icon,i),this._shadow&&dt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var o=this.options.icon.options,a=o.iconSize?k(o.iconSize):k(0,0),u=o.iconAnchor?k(o.iconAnchor):k(0,0);i.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:a.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qv(i,o){return new mo(i,o)}var an=bt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return y(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),go=an.extend({options:{fill:!0,radius:10},initialize:function(i,o){y(this,o),this._latlng=G(i),this._radius=this.options.radius},setLatLng:function(i){var o=this._latlng;return this._latlng=G(i),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var o=i&&i.radius||this._radius;return an.prototype.setStyle.call(this,i),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,o=this._radiusY||i,a=this._clickTolerance(),u=[i+a,o+a];this._pxBounds=new pe(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Yv(i,o){return new go(i,o)}var Ja=go.extend({initialize:function(i,o,a){if(typeof o=="number"&&(o=n({},a,{radius:o})),y(this,o),this._latlng=G(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new ze(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:an.prototype.setStyle,_project:function(){var i=this._latlng.lng,o=this._latlng.lat,a=this._map,u=a.options.crs;if(u.distance===ut.distance){var f=Math.PI/180,p=this._mRadius/ut.R/f,v=a.project([o+p,i]),w=a.project([o-p,i]),E=v.add(w).divideBy(2),C=a.unproject(E).lat,M=Math.acos((Math.cos(p*f)-Math.sin(o*f)*Math.sin(C*f))/(Math.cos(o*f)*Math.cos(C*f)))/f;(isNaN(M)||M===0)&&(M=p/Math.cos(Math.PI/180*o)),this._point=E.subtract(a.getPixelOrigin()),this._radius=isNaN(M)?0:E.x-a.project([C,i-M]).x,this._radiusY=E.y-v.y}else{var R=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(R).x}this._updateBounds()}});function Kv(i,o,a){return new Ja(i,o,a)}var Zt=an.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,o){y(this,o),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var o=1/0,a=null,u=pr,f,p,v=0,w=this._parts.length;v<w;v++)for(var E=this._parts[v],C=1,M=E.length;C<M;C++){f=E[C-1],p=E[C];var R=u(i,f,p,!0);R<o&&(o=R,a=u(i,f,p))}return a&&(a.distance=Math.sqrt(o)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,o){return o=o||this._defaultShape(),i=G(i),o.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new ze,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return ft(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var o=[],a=ft(i),u=0,f=i.length;u<f;u++)a?(o[u]=G(i[u]),this._bounds.extend(o[u])):o[u]=this._convertLatLngs(i[u]);return o},_project:function(){var i=new pe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),o=new F(i,i);this._rawPxBounds&&(this._pxBounds=new pe([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(i,o,a){var u=i[0]instanceof de,f=i.length,p,v;if(u){for(v=[],p=0;p<f;p++)v[p]=this._map.latLngToLayerPoint(i[p]),a.extend(v[p]);o.push(v)}else for(p=0;p<f;p++)this._projectLatlngs(i[p],o,a)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,a,u,f,p,v,w,E;for(a=0,f=0,p=this._rings.length;a<p;a++)for(E=this._rings[a],u=0,v=E.length;u<v-1;u++)w=Bd(E[u],E[u+1],i,u,!0),w&&(o[f]=o[f]||[],o[f].push(w[0]),(w[1]!==E[u+1]||u===v-2)&&(o[f].push(w[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,o=this.options.smoothFactor,a=0,u=i.length;a<u;a++)i[a]=kd(i[a],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,o){var a,u,f,p,v,w,E=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(a=0,p=this._parts.length;a<p;a++)for(w=this._parts[a],u=0,v=w.length,f=v-1;u<v;f=u++)if(!(!o&&u===0)&&Rd(i,w[f],w[u])<=E)return!0;return!1}});function Qv(i,o){return new Zt(i,o)}Zt._flat=jd;var di=Zt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ld(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var o=Zt.prototype._convertLatLngs.call(this,i),a=o.length;return a>=2&&o[0]instanceof de&&o[0].equals(o[a-1])&&o.pop(),o},_setLatLngs:function(i){Zt.prototype._setLatLngs.call(this,i),ft(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ft(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,o=this.options.weight,a=new F(o,o);if(i=new pe(i.min.subtract(a),i.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,f=this._rings.length,p;u<f;u++)p=Ad(this._rings[u],i,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var o=!1,a,u,f,p,v,w,E,C;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(p=0,E=this._parts.length;p<E;p++)for(a=this._parts[p],v=0,C=a.length,w=C-1;v<C;w=v++)u=a[v],f=a[w],u.y>i.y!=f.y>i.y&&i.x<(f.x-u.x)*(i.y-u.y)/(f.y-u.y)+u.x&&(o=!o);return o||Zt.prototype._containsPoint.call(this,i,!0)}});function Jv(i,o){return new di(i,o)}var Gt=$t.extend({initialize:function(i,o){y(this,o),this._layers={},i&&this.addData(i)},addData:function(i){var o=N(i)?i:i.features,a,u,f;if(o){for(a=0,u=o.length;a<u;a++)f=o[a],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var p=this.options;if(p.filter&&!p.filter(i))return this;var v=vo(i,p);return v?(v.feature=wo(i),v.defaultOptions=v.options,this.resetStyle(v),p.onEachFeature&&p.onEachFeature(i,v),this.addLayer(v)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=n({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(o){this._setLayerStyle(o,i)},this)},_setLayerStyle:function(i,o){i.setStyle&&(typeof o=="function"&&(o=o(i.feature)),i.setStyle(o))}});function vo(i,o){var a=i.type==="Feature"?i.geometry:i,u=a?a.coordinates:null,f=[],p=o&&o.pointToLayer,v=o&&o.coordsToLatLng||Xa,w,E,C,M;if(!u&&!a)return null;switch(a.type){case"Point":return w=v(u),Ud(p,i,w,o);case"MultiPoint":for(C=0,M=u.length;C<M;C++)w=v(u[C]),f.push(Ud(p,i,w,o));return new $t(f);case"LineString":case"MultiLineString":return E=yo(u,a.type==="LineString"?0:1,v),new Zt(E,o);case"Polygon":case"MultiPolygon":return E=yo(u,a.type==="Polygon"?1:2,v),new di(E,o);case"GeometryCollection":for(C=0,M=a.geometries.length;C<M;C++){var R=vo({geometry:a.geometries[C],type:"Feature",properties:i.properties},o);R&&f.push(R)}return new $t(f);case"FeatureCollection":for(C=0,M=a.features.length;C<M;C++){var K=vo(a.features[C],o);K&&f.push(K)}return new $t(f);default:throw new Error("Invalid GeoJSON object.")}}function Ud(i,o,a,u){return i?i(o,a):new mo(a,u&&u.markersInheritOptions&&u)}function Xa(i){return new de(i[1],i[0],i[2])}function yo(i,o,a){for(var u=[],f=0,p=i.length,v;f<p;f++)v=o?yo(i[f],o-1,a):(a||Xa)(i[f]),u.push(v);return u}function el(i,o){return i=G(i),i.alt!==void 0?[g(i.lng,o),g(i.lat,o),g(i.alt,o)]:[g(i.lng,o),g(i.lat,o)]}function _o(i,o,a,u){for(var f=[],p=0,v=i.length;p<v;p++)f.push(o?_o(i[p],ft(i[p])?0:o-1,a,u):el(i[p],u));return!o&&a&&f.length>0&&f.push(f[0].slice()),f}function fi(i,o){return i.feature?n({},i.feature,{geometry:o}):wo(o)}function wo(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var tl={toGeoJSON:function(i){return fi(this,{type:"Point",coordinates:el(this.getLatLng(),i)})}};mo.include(tl),Ja.include(tl),go.include(tl),Zt.include({toGeoJSON:function(i){var o=!ft(this._latlngs),a=_o(this._latlngs,o?1:0,!1,i);return fi(this,{type:(o?"Multi":"")+"LineString",coordinates:a})}}),di.include({toGeoJSON:function(i){var o=!ft(this._latlngs),a=o&&!ft(this._latlngs[0]),u=_o(this._latlngs,a?2:o?1:0,!0,i);return o||(u=[u]),fi(this,{type:(a?"Multi":"")+"Polygon",coordinates:u})}}),ci.include({toMultiPoint:function(i){var o=[];return this.eachLayer(function(a){o.push(a.toGeoJSON(i).geometry.coordinates)}),fi(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(i){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(i);var a=o==="GeometryCollection",u=[];return this.eachLayer(function(f){if(f.toGeoJSON){var p=f.toGeoJSON(i);if(a)u.push(p.geometry);else{var v=wo(p);v.type==="FeatureCollection"?u.push.apply(u,v.features):u.push(v)}}}),a?fi(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function $d(i,o){return new Gt(i,o)}var Xv=$d,bo=bt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,o,a){this._url=i,this._bounds=_e(o),y(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(W(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&ai(this._image),this},bringToBack:function(){return this._map&&li(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=_e(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",o=this._image=i?this._url:ae("img");if(W(o,"leaflet-image-layer"),this._zoomAnimated&&W(o,"leaflet-zoom-animated"),this.options.className&&W(o,this.options.className),o.onselectstart=m,o.onmousemove=m,o.onload=s(this.fire,this,"load"),o.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(i){var o=this._map.getZoomScale(i.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;mn(this._image,a,o)},_reset:function(){var i=this._image,o=new pe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=o.getSize();Se(i,o.min),i.style.width=a.x+"px",i.style.height=a.y+"px"},_updateOpacity:function(){dt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),ey=function(i,o,a){return new bo(i,o,a)},Zd=bo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",o=this._image=i?this._url:ae("video");if(W(o,"leaflet-image-layer"),this._zoomAnimated&&W(o,"leaflet-zoom-animated"),this.options.className&&W(o,this.options.className),o.onselectstart=m,o.onmousemove=m,o.onloadeddata=s(this.fire,this,"load"),i){for(var a=o.getElementsByTagName("source"),u=[],f=0;f<a.length;f++)u.push(a[f].src);this._url=a.length>0?u:[o.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var v=ae("source");v.src=this._url[p],o.appendChild(v)}}});function ty(i,o,a){return new Zd(i,o,a)}var Gd=bo.extend({_initImage:function(){var i=this._image=this._url;W(i,"leaflet-image-layer"),this._zoomAnimated&&W(i,"leaflet-zoom-animated"),this.options.className&&W(i,this.options.className),i.onselectstart=m,i.onmousemove=m}});function ny(i,o,a){return new Gd(i,o,a)}var Nt=bt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,o){i&&(i instanceof de||N(i))?(this._latlng=G(i),y(this,o)):(y(this,i),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&dt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&dt(this._container,1),this.bringToFront(),this.options.interactive&&(W(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(dt(this._container,0),this._removeTimeout=setTimeout(s(be,void 0,this._container),200)):be(this._container),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=G(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ai(this._container),this},bringToBack:function(){return this._map&&li(this._container),this},_prepareOpen:function(i){var o=this._source;if(!o._map)return!1;if(o instanceof $t){o=null;var a=this._source._layers;for(var u in a)if(a[u]._map){o=a[u];break}if(!o)return!1;this._source=o}if(!i)if(o.getCenter)i=o.getCenter();else if(o.getLatLng)i=o.getLatLng();else if(o.getBounds)i=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")i.innerHTML=o;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),o=k(this.options.offset),a=this._getAnchor();this._zoomAnimated?Se(this._container,i.add(a)):o=o.add(i).add(a);var u=this._containerBottom=-o.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=u+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(i,o,a,u){var f=o;return f instanceof i||(f=new i(u).setContent(o)),a&&f.setLatLng(a),f}}),bt.include({_initOverlay:function(i,o,a,u){var f=a;return f instanceof i?(y(f,u),f._source=this):(f=o&&!u?o:new i(u,this),f.setContent(a)),f}});var Do=Nt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Nt.prototype.openOn.call(this,i)},onAdd:function(i){Nt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof an||this._source.on("preclick",vn))},onRemove:function(i){Nt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof an||this._source.off("preclick",vn))},getEvents:function(){var i=Nt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",o=this._container=ae("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=ae("div",i+"-content-wrapper",o);if(this._contentNode=ae("div",i+"-content",a),fr(o),$a(this._contentNode),$(o,"contextmenu",vn),this._tipContainer=ae("div",i+"-tip-container",o),this._tip=ae("div",i+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=ae("a",i+"-close-button",o);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',$(u,"click",function(f){Be(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,o=i.style;o.width="",o.whiteSpace="nowrap";var a=i.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),o.width=a+1+"px",o.whiteSpace="",o.height="";var u=i.offsetHeight,f=this.options.maxHeight,p="leaflet-popup-scrolled";f&&u>f?(o.height=f+"px",W(i,p)):Me(i,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),a=this._getAnchor();Se(this._container,o.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,o=parseInt(lr(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+o,u=this._containerWidth,f=new F(this._containerLeft,-a-this._containerBottom);f._add(gn(this._container));var p=i.layerPointToContainerPoint(f),v=k(this.options.autoPanPadding),w=k(this.options.autoPanPaddingTopLeft||v),E=k(this.options.autoPanPaddingBottomRight||v),C=i.getSize(),M=0,R=0;p.x+u+E.x>C.x&&(M=p.x+u-C.x+E.x),p.x-M-w.x<0&&(M=p.x-w.x),p.y+a+E.y>C.y&&(R=p.y+a-C.y+E.y),p.y-R-w.y<0&&(R=p.y-w.y),(M||R)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([M,R]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),iy=function(i,o){return new Do(i,o)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(i,o,a){return this._initOverlay(Do,i,o,a).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),bt.include({bindPopup:function(i,o){return this._popup=this._initOverlay(Do,this._popup,i,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof $t||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){yn(i);var o=i.layer||i.target;if(this._popup._source===o&&!(o instanceof an)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=o,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Eo=Nt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Nt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Nt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Nt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",o=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var o,a,u=this._map,f=this._container,p=u.latLngToContainerPoint(u.getCenter()),v=u.layerPointToContainerPoint(i),w=this.options.direction,E=f.offsetWidth,C=f.offsetHeight,M=k(this.options.offset),R=this._getAnchor();w==="top"?(o=E/2,a=C):w==="bottom"?(o=E/2,a=0):w==="center"?(o=E/2,a=C/2):w==="right"?(o=0,a=C/2):w==="left"?(o=E,a=C/2):v.x<p.x?(w="right",o=0,a=C/2):(w="left",o=E+(M.x+R.x)*2,a=C/2),i=i.subtract(k(o,a,!0)).add(M).add(R),Me(f,"leaflet-tooltip-right"),Me(f,"leaflet-tooltip-left"),Me(f,"leaflet-tooltip-top"),Me(f,"leaflet-tooltip-bottom"),W(f,"leaflet-tooltip-"+w),Se(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&dt(this._container,i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(o)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ry=function(i,o){return new Eo(i,o)};re.include({openTooltip:function(i,o,a){return this._initOverlay(Eo,i,o,a).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),bt.include({bindTooltip:function(i,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Eo,this._tooltip,i,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var o=i?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[o](a),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof $t||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&($(o,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),$(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var o=i.latlng,a,u;this._tooltip.options.sticky&&i.originalEvent&&(a=this._map.mouseEventToContainerPoint(i.originalEvent),u=this._map.containerPointToLayerPoint(a),o=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(o)}});var Wd=ui.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var o=i&&i.tagName==="DIV"?i:document.createElement("div"),a=this.options;if(a.html instanceof Element?(lo(o),o.appendChild(a.html)):o.innerHTML=a.html!==!1?a.html:"",a.bgPos){var u=k(a.bgPos);o.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function oy(i){return new Wd(i)}ui.Default=mr;var gr=bt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:A.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){y(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),be(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ai(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(li(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof F?i:new F(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var o=this.getPane().children,a=-i(-1/0,1/0),u=0,f=o.length,p;u<f;u++)p=o[u].style.zIndex,o[u]!==this._container&&p&&(a=i(a,+p));isFinite(a)&&(this.options.zIndex=a+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!A.ielt9){dt(this._container,this.options.opacity);var i=+new Date,o=!1,a=!1;for(var u in this._tiles){var f=this._tiles[u];if(!(!f.current||!f.loaded)){var p=Math.min(1,(i-f.loaded)/200);dt(f.el,p),p<1?o=!0:(f.active?a=!0:this._onOpaqueTile(f),f.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),o&&(J(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,o=this.options.maxZoom;if(i!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===i?(this._levels[a].el.style.zIndex=o-Math.abs(i-a),this._onUpdateLevel(a)):(be(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var u=this._levels[i],f=this._map;return u||(u=this._levels[i]={},u.el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=o,u.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),u.zoom=i,this._setZoomTransform(u,f.getCenter(),f.getZoom()),m(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var i,o,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)o=this._tiles[i],o.retain=o.current;for(i in this._tiles)if(o=this._tiles[i],o.current&&!o.active){var u=o.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var o in this._tiles)this._tiles[o].coords.z===i&&this._removeTile(o)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)be(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,o,a,u){var f=Math.floor(i/2),p=Math.floor(o/2),v=a-1,w=new F(+f,+p);w.z=+v;var E=this._tileCoordsToKey(w),C=this._tiles[E];return C&&C.active?(C.retain=!0,!0):(C&&C.loaded&&(C.retain=!0),v>u?this._retainParent(f,p,v,u):!1)},_retainChildren:function(i,o,a,u){for(var f=2*i;f<2*i+2;f++)for(var p=2*o;p<2*o+2;p++){var v=new F(f,p);v.z=a+1;var w=this._tileCoordsToKey(v),E=this._tiles[w];if(E&&E.active){E.retain=!0;continue}else E&&E.loaded&&(E.retain=!0);a+1<u&&this._retainChildren(f,p,a+1,u)}},_resetView:function(i){var o=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var o=this.options;return o.minNativeZoom!==void 0&&i<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<i?o.maxNativeZoom:i},_setView:function(i,o,a,u){var f=Math.round(o);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var p=this.options.updateWhenZooming&&f!==this._tileZoom;(!u||p)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(i,o)},_setZoomTransforms:function(i,o){for(var a in this._levels)this._setZoomTransform(this._levels[a],i,o)},_setZoomTransform:function(i,o,a){var u=this._map.getZoomScale(a,i.zoom),f=i.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(o,a)).round();A.any3d?mn(i.el,f,u):Se(i.el,f)},_resetGrid:function(){var i=this._map,o=i.options.crs,a=this._tileSize=this.getTileSize(),u=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,o.wrapLng[0]],u).x/a.x),Math.ceil(i.project([0,o.wrapLng[1]],u).x/a.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([o.wrapLat[0],0],u).y/a.x),Math.ceil(i.project([o.wrapLat[1],0],u).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var o=this._map,a=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),u=o.getZoomScale(a,this._tileZoom),f=o.project(i,this._tileZoom).floor(),p=o.getSize().divideBy(u*2);return new pe(f.subtract(p),f.add(p))},_update:function(i){var o=this._map;if(o){var a=this._clampZoom(o.getZoom());if(i===void 0&&(i=o.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(u),p=f.getCenter(),v=[],w=this.options.keepBuffer,E=new pe(f.getBottomLeft().subtract([w,-w]),f.getTopRight().add([w,-w]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var C in this._tiles){var M=this._tiles[C].coords;(M.z!==this._tileZoom||!E.contains(new F(M.x,M.y)))&&(this._tiles[C].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(i,a);return}for(var R=f.min.y;R<=f.max.y;R++)for(var K=f.min.x;K<=f.max.x;K++){var Ge=new F(K,R);if(Ge.z=this._tileZoom,!!this._isValidTile(Ge)){var Re=this._tiles[this._tileCoordsToKey(Ge)];Re?Re.current=!0:v.push(Ge)}}if(v.sort(function(qe,pi){return qe.distanceTo(p)-pi.distanceTo(p)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ht=document.createDocumentFragment();for(K=0;K<v.length;K++)this._addTile(v[K],ht);this._level.el.appendChild(ht)}}}},_isValidTile:function(i){var o=this._map.options.crs;if(!o.infinite){var a=this._globalTileRange;if(!o.wrapLng&&(i.x<a.min.x||i.x>a.max.x)||!o.wrapLat&&(i.y<a.min.y||i.y>a.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(i);return _e(this.options.bounds).overlaps(u)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var o=this._map,a=this.getTileSize(),u=i.scaleBy(a),f=u.add(a),p=o.unproject(u,i.z),v=o.unproject(f,i.z);return[p,v]},_tileCoordsToBounds:function(i){var o=this._tileCoordsToNwSe(i),a=new ze(o[0],o[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var o=i.split(":"),a=new F(+o[0],+o[1]);return a.z=+o[2],a},_removeTile:function(i){var o=this._tiles[i];o&&(be(o.el),delete this._tiles[i],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){W(i,"leaflet-tile");var o=this.getTileSize();i.style.width=o.x+"px",i.style.height=o.y+"px",i.onselectstart=m,i.onmousemove=m,A.ielt9&&this.options.opacity<1&&dt(i,this.options.opacity)},_addTile:function(i,o){var a=this._getTilePos(i),u=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),s(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&B(s(this._tileReady,this,i,null,f)),Se(f,a),this._tiles[u]={el:f,coords:i,current:!0},o.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,o,a){o&&this.fire("tileerror",{error:o,tile:a,coords:i});var u=this._tileCoordsToKey(i);a=this._tiles[u],a&&(a.loaded=+new Date,this._map._fadeAnimated?(dt(a.el,0),J(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),o||(W(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),A.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var o=new F(this._wrapX?h(i.x,this._wrapX):i.x,this._wrapY?h(i.y,this._wrapY):i.y);return o.z=i.z,o},_pxBoundsToTileRange:function(i){var o=this.getTileSize();return new pe(i.min.unscaleBy(o).floor(),i.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function sy(i){return new gr(i)}var hi=gr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,o){this._url=i,o=y(this,o),o.detectRetina&&A.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,o){return this._url===i&&o===void 0&&(o=!0),this._url=i,o||this.redraw(),this},createTile:function(i,o){var a=document.createElement("img");return $(a,"load",s(this._tileOnLoad,this,o,a)),$(a,"error",s(this._tileOnError,this,o,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(i),a},getTileUrl:function(i){var o={r:A.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-i.y;this.options.tms&&(o.y=a),o["-y"]=a}return P(this._url,n(o,this.options))},_tileOnLoad:function(i,o){A.ielt9?setTimeout(s(i,this,null,o),0):i(null,o)},_tileOnError:function(i,o,a){var u=this.options.errorTileUrl;u&&o.getAttribute("src")!==u&&(o.src=u),i(a,o)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,o=this.options.maxZoom,a=this.options.zoomReverse,u=this.options.zoomOffset;return a&&(i=o-i),i+u},_getSubdomain:function(i){var o=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var i,o;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(o=this._tiles[i].el,o.onload=m,o.onerror=m,!o.complete)){o.src=O;var a=this._tiles[i].coords;be(o),delete this._tiles[i],this.fire("tileabort",{tile:o,coords:a})}},_removeTile:function(i){var o=this._tiles[i];if(o)return o.el.setAttribute("src",O),gr.prototype._removeTile.call(this,i)},_tileReady:function(i,o,a){if(!(!this._map||a&&a.getAttribute("src")===O))return gr.prototype._tileReady.call(this,i,o,a)}});function qd(i,o){return new hi(i,o)}var Yd=hi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,o){this._url=i;var a=n({},this.defaultWmsParams);for(var u in o)u in this.options||(a[u]=o[u]);o=y(this,o);var f=o.detectRetina&&A.retina?2:1,p=this.getTileSize();a.width=p.x*f,a.height=p.y*f,this.wmsParams=a},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,hi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var o=this._tileCoordsToNwSe(i),a=this._crs,u=ke(a.project(o[0]),a.project(o[1])),f=u.min,p=u.max,v=(this._wmsVersion>=1.3&&this._crs===Hd?[f.y,f.x,p.y,p.x]:[f.x,f.y,p.x,p.y]).join(","),w=hi.prototype.getTileUrl.call(this,i);return w+b(this.wmsParams,w,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(i,o){return n(this.wmsParams,i),o||this.redraw(),this}});function ay(i,o){return new Yd(i,o)}hi.WMS=Yd,qd.wms=ay;var Wt=bt.extend({options:{padding:.1},initialize:function(i){y(this,i),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),W(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,o){var a=this._map.getZoomScale(o,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,o),p=u.multiplyBy(-a).add(f).subtract(this._map._getNewPixelOrigin(i,o));A.any3d?mn(this._container,p,a):Se(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,o=this._map.getSize(),a=this._map.containerPointToLayerPoint(o.multiplyBy(-i)).round();this._bounds=new pe(a,a.add(o.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Kd=Wt.extend({options:{tolerance:0},getEvents:function(){var i=Wt.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");$(i,"mousemove",this._onMouseMove,this),$(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,be(this._container),ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var o in this._layers)i=this._layers[o],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wt.prototype._update.call(this);var i=this._bounds,o=this._container,a=i.getSize(),u=A.retina?2:1;Se(o,i.min),o.width=u*a.x,o.height=u*a.y,o.style.width=a.x+"px",o.style.height=a.y+"px",A.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Wt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[c(i)]=i;var o=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var o=i._order,a=o.next,u=o.prev;a?a.prev=u:this._drawLast=u,u?u.next=a:this._drawFirst=a,delete i._order,delete this._layers[c(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var o=i.options.dashArray.split(/[, ]+/),a=[],u,f;for(f=0;f<o.length;f++){if(u=Number(o[f]),isNaN(u))return;a.push(u)}i.options._dashArray=a}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var o=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new pe,this._redrawBounds.extend(i._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(i._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var o=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,o=this._redrawBounds;if(this._ctx.save(),o){var a=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)i=u.layer,(!o||i._pxBounds&&i._pxBounds.intersects(o))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,o){if(this._drawing){var a,u,f,p,v=i._parts,w=v.length,E=this._ctx;if(w){for(E.beginPath(),a=0;a<w;a++){for(u=0,f=v[a].length;u<f;u++)p=v[a][u],E[u?"lineTo":"moveTo"](p.x,p.y);o&&E.closePath()}this._fillStroke(E,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var o=i._point,a=this._ctx,u=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||u)/u;f!==1&&(a.save(),a.scale(1,f)),a.beginPath(),a.arc(o.x,o.y/f,u,0,Math.PI*2,!1),f!==1&&a.restore(),this._fillStroke(a,i)}},_fillStroke:function(i,o){var a=o.options;a.fill&&(i.globalAlpha=a.fillOpacity,i.fillStyle=a.fillColor||a.color,i.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(i.setLineDash&&i.setLineDash(o.options&&o.options._dashArray||[]),i.globalAlpha=a.opacity,i.lineWidth=a.weight,i.strokeStyle=a.color,i.lineCap=a.lineCap,i.lineJoin=a.lineJoin,i.stroke())},_onClick:function(i){for(var o=this._map.mouseEventToLayerPoint(i),a,u,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(o)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(a))&&(u=a);this._fireEvent(u?[u]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,o)}},_handleMouseOut:function(i){var o=this._hoveredLayer;o&&(Me(this._container,"leaflet-interactive"),this._fireEvent([o],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,o){if(!this._mouseHoverThrottled){for(var a,u,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(o)&&(u=a);u!==this._hoveredLayer&&(this._handleMouseOut(i),u&&(W(this._container,"leaflet-interactive"),this._fireEvent([u],i,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,o,a){this._map._fireDOMEvent(o,a||o.type,i)},_bringToFront:function(i){var o=i._order;if(o){var a=o.next,u=o.prev;if(a)a.prev=u;else return;u?u.next=a:a&&(this._drawFirst=a),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(i)}},_bringToBack:function(i){var o=i._order;if(o){var a=o.next,u=o.prev;if(u)u.next=a;else return;a?a.prev=u:u&&(this._drawLast=u),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(i)}}});function Qd(i){return A.canvas?new Kd(i):null}var vr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ly={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wt.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var o=i._container=vr("shape");W(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",i._path=vr("path"),o.appendChild(i._path),this._updateStyle(i),this._layers[c(i)]=i},_addPath:function(i){var o=i._container;this._container.appendChild(o),i.options.interactive&&i.addInteractiveTarget(o)},_removePath:function(i){var o=i._container;be(o),i.removeInteractiveTarget(o),delete this._layers[c(i)]},_updateStyle:function(i){var o=i._stroke,a=i._fill,u=i.options,f=i._container;f.stroked=!!u.stroke,f.filled=!!u.fill,u.stroke?(o||(o=i._stroke=vr("stroke")),f.appendChild(o),o.weight=u.weight+"px",o.color=u.color,o.opacity=u.opacity,u.dashArray?o.dashStyle=N(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=u.lineCap.replace("butt","flat"),o.joinstyle=u.lineJoin):o&&(f.removeChild(o),i._stroke=null),u.fill?(a||(a=i._fill=vr("fill")),f.appendChild(a),a.color=u.fillColor||u.color,a.opacity=u.fillOpacity):a&&(f.removeChild(a),i._fill=null)},_updateCircle:function(i){var o=i._point.round(),a=Math.round(i._radius),u=Math.round(i._radiusY||a);this._setPath(i,i._empty()?"M0 0":"AL "+o.x+","+o.y+" "+a+","+u+" 0,"+65535*360)},_setPath:function(i,o){i._path.v=o},_bringToFront:function(i){ai(i._container)},_bringToBack:function(i){li(i._container)}},Co=A.vml?vr:ri,yr=Wt.extend({_initContainer:function(){this._container=Co("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Co("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){be(this._container),ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wt.prototype._update.call(this);var i=this._bounds,o=i.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,a.setAttribute("width",o.x),a.setAttribute("height",o.y)),Se(a,i.min),a.setAttribute("viewBox",[i.min.x,i.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(i){var o=i._path=Co("path");i.options.className&&W(o,i.options.className),i.options.interactive&&W(o,"leaflet-interactive"),this._updateStyle(i),this._layers[c(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){be(i._path),i.removeInteractiveTarget(i._path),delete this._layers[c(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var o=i._path,a=i.options;o&&(a.stroke?(o.setAttribute("stroke",a.color),o.setAttribute("stroke-opacity",a.opacity),o.setAttribute("stroke-width",a.weight),o.setAttribute("stroke-linecap",a.lineCap),o.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?o.setAttribute("stroke-dasharray",a.dashArray):o.removeAttribute("stroke-dasharray"),a.dashOffset?o.setAttribute("stroke-dashoffset",a.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),a.fill?(o.setAttribute("fill",a.fillColor||a.color),o.setAttribute("fill-opacity",a.fillOpacity),o.setAttribute("fill-rule",a.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(i,o){this._setPath(i,so(i._parts,o))},_updateCircle:function(i){var o=i._point,a=Math.max(Math.round(i._radius),1),u=Math.max(Math.round(i._radiusY),1)||a,f="a"+a+","+u+" 0 1,0 ",p=i._empty()?"M0 0":"M"+(o.x-a)+","+o.y+f+a*2+",0 "+f+-a*2+",0 ";this._setPath(i,p)},_setPath:function(i,o){i._path.setAttribute("d",o)},_bringToFront:function(i){ai(i._path)},_bringToBack:function(i){li(i._path)}});A.vml&&yr.include(ly);function Jd(i){return A.svg||A.vml?new yr(i):null}re.include({getRenderer:function(i){var o=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var o=this._paneRenderers[i];return o===void 0&&(o=this._createRenderer({pane:i}),this._paneRenderers[i]=o),o},_createRenderer:function(i){return this.options.preferCanvas&&Qd(i)||Jd(i)}});var Xd=di.extend({initialize:function(i,o){di.prototype.initialize.call(this,this._boundsToLatLngs(i),o)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=_e(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function cy(i,o){return new Xd(i,o)}yr.create=Co,yr.pointsToPath=so,Gt.geometryToLayer=vo,Gt.coordsToLatLng=Xa,Gt.coordsToLatLngs=yo,Gt.latLngToCoords=el,Gt.latLngsToCoords=_o,Gt.getFeature=fi,Gt.asFeature=wo,re.mergeOptions({boxZoom:!0});var ef=Pt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){$(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),cr(),Ra(),this._startPoint=this._map.mouseEventToContainerPoint(i),$(document,{contextmenu:yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),W(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var o=new pe(this._point,this._startPoint),a=o.getSize();Se(this._box,o.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(be(this._box),Me(this._container,"leaflet-crosshair")),ur(),Fa(),ge(document,{contextmenu:yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var o=new ze(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",ef),re.mergeOptions({doubleClickZoom:!0});var tf=Pt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var o=this._map,a=o.getZoom(),u=o.options.zoomDelta,f=i.originalEvent.shiftKey?a-u:a+u;o.options.doubleClickZoom==="center"?o.setZoom(f):o.setZoomAround(i.containerPoint,f)}});re.addInitHook("addHandler","doubleClickZoom",tf),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nf=Pt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new sn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}W(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Me(this._map._container,"leaflet-grab"),Me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=_e(this._map.options.maxBounds);this._offsetLimit=ke(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var o=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(o),this._prunePositions(o)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,o){return i-(i-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;i.x<o.min.x&&(i.x=this._viscousLimit(i.x,o.min.x)),i.y<o.min.y&&(i.y=this._viscousLimit(i.y,o.min.y)),i.x>o.max.x&&(i.x=this._viscousLimit(i.x,o.max.x)),i.y>o.max.y&&(i.y=this._viscousLimit(i.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,o=Math.round(i/2),a=this._initialWorldOffset,u=this._draggable._newPos.x,f=(u-o+a)%i+o-a,p=(u+o+a)%i-o-a,v=Math.abs(f+a)<Math.abs(p+a)?f:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(i){var o=this._map,a=o.options,u=!a.inertia||i.noInertia||this._times.length<2;if(o.fire("dragend",i),u)o.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,v=a.easeLinearity,w=f.multiplyBy(v/p),E=w.distanceTo([0,0]),C=Math.min(a.inertiaMaxSpeed,E),M=w.multiplyBy(C/E),R=C/(a.inertiaDeceleration*v),K=M.multiplyBy(-R/2).round();!K.x&&!K.y?o.fire("moveend"):(K=o._limitOffset(K,o.options.maxBounds),B(function(){o.panBy(K,{duration:R,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",nf),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rf=Pt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),$(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,o=document.documentElement,a=i.scrollTop||o.scrollTop,u=i.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(u,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var o=this._panKeys={},a=this.keyCodes,u,f;for(u=0,f=a.left.length;u<f;u++)o[a.left[u]]=[-1*i,0];for(u=0,f=a.right.length;u<f;u++)o[a.right[u]]=[i,0];for(u=0,f=a.down.length;u<f;u++)o[a.down[u]]=[0,i];for(u=0,f=a.up.length;u<f;u++)o[a.up[u]]=[0,-1*i]},_setZoomDelta:function(i){var o=this._zoomKeys={},a=this.keyCodes,u,f;for(u=0,f=a.zoomIn.length;u<f;u++)o[a.zoomIn[u]]=i;for(u=0,f=a.zoomOut.length;u<f;u++)o[a.zoomOut[u]]=-i},_addHooks:function(){$(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var o=i.keyCode,a=this._map,u;if(o in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(u=this._panKeys[o],i.shiftKey&&(u=k(u).multiplyBy(3)),a.options.maxBounds&&(u=a._limitOffset(k(u),a.options.maxBounds)),a.options.worldCopyJump){var f=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(u)));a.panTo(f)}else a.panBy(u)}else if(o in this._zoomKeys)a.setZoom(a.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;yn(i)}}});re.addInitHook("addHandler","keyboard",rf),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var of=Pt.extend({addHooks:function(){$(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var o=xd(i),a=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var u=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),u),yn(i)},_performZoom:function(){var i=this._map,o=i.getZoom(),a=this._map.options.zoomSnap||0;i._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,p=a?Math.ceil(f/a)*a:f,v=i._limitZoom(o+(this._delta>0?p:-p))-o;this._delta=0,this._startTime=null,v&&(i.options.scrollWheelZoom==="center"?i.setZoom(o+v):i.setZoomAround(this._lastMousePos,o+v))}});re.addInitHook("addHandler","scrollWheelZoom",of);var uy=600;re.mergeOptions({tapHold:A.touchNative&&A.safari&&A.mobile,tapTolerance:15});var sf=Pt.extend({addHooks:function(){$(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var o=i.touches[0];this._startPos=this._newPos=new F(o.clientX,o.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&($(document,"touchend",Be),$(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),uy),$(document,"touchend touchcancel contextmenu",this._cancel,this),$(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ge(document,"touchend",Be),ge(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)},_onMove:function(i){var o=i.touches[0];this._newPos=new F(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,o){var a=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});a._simulated=!0,o.target.dispatchEvent(a)}});re.addInitHook("addHandler","tapHold",sf),re.mergeOptions({touchZoom:A.touch,bounceAtZoomLimits:!0});var af=Pt.extend({addHooks:function(){W(this._map._container,"leaflet-touch-zoom"),$(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var o=this._map;if(!(!i.touches||i.touches.length!==2||o._animatingZoom||this._zooming)){var a=o.mouseEventToContainerPoint(i.touches[0]),u=o.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(a.add(u)._divideBy(2))),this._startDist=a.distanceTo(u),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),$(document,"touchmove",this._onTouchMove,this),$(document,"touchend touchcancel",this._onTouchEnd,this),Be(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var o=this._map,a=o.mouseEventToContainerPoint(i.touches[0]),u=o.mouseEventToContainerPoint(i.touches[1]),f=a.distanceTo(u)/this._startDist;if(this._zoom=o.getScaleZoom(f,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&f<1||this._zoom>o.getMaxZoom()&&f>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var p=a._add(u)._divideBy(2)._subtract(this._centerPoint);if(f===1&&p.x===0&&p.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var v=s(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(v,this,!0),Be(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",af),re.BoxZoom=ef,re.DoubleClickZoom=tf,re.Drag=nf,re.Keyboard=rf,re.ScrollWheelZoom=of,re.TapHold=sf,re.TouchZoom=af,e.Bounds=pe,e.Browser=A,e.CRS=ce,e.Canvas=Kd,e.Circle=Ja,e.CircleMarker=go,e.Class=Fe,e.Control=wt,e.DivIcon=Wd,e.DivOverlay=Nt,e.DomEvent=xv,e.DomUtil=Mv,e.Draggable=sn,e.Evented=ct,e.FeatureGroup=$t,e.GeoJSON=Gt,e.GridLayer=gr,e.Handler=Pt,e.Icon=ui,e.ImageOverlay=bo,e.LatLng=de,e.LatLngBounds=ze,e.Layer=bt,e.LayerGroup=ci,e.LineUtil=Hv,e.Map=re,e.Marker=mo,e.Mixin=kv,e.Path=an,e.Point=F,e.PolyUtil=Rv,e.Polygon=di,e.Polyline=Zt,e.Popup=Do,e.PosAnimation=Sd,e.Projection=zv,e.Rectangle=Xd,e.Renderer=Wt,e.SVG=yr,e.SVGOverlay=Gd,e.TileLayer=hi,e.Tooltip=Eo,e.Transformation=ii,e.Util=He,e.VideoOverlay=Zd,e.bind=s,e.bounds=ke,e.canvas=Qd,e.circle=Kv,e.circleMarker=Yv,e.control=hr,e.divIcon=oy,e.extend=n,e.featureGroup=Gv,e.geoJSON=$d,e.geoJson=Xv,e.gridLayer=sy,e.icon=Wv,e.imageOverlay=ey,e.latLng=G,e.latLngBounds=_e,e.layerGroup=Zv,e.map=Sv,e.marker=qv,e.point=k,e.polygon=Jv,e.polyline=Qv,e.popup=iy,e.rectangle=cy,e.setOptions=y,e.stamp=c,e.svg=Jd,e.svgOverlay=ny,e.tileLayer=qd,e.tooltip=ry,e.transformation=on,e.version=t,e.videoOverlay=ty;var dy=window.L;e.noConflict=function(){return window.L=dy,this},window.L=e})});var rl=null;var pf=1,wr=Symbol("SIGNAL");function oe(e){let t=rl;return rl=e,t}function sl(){return rl}var al={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mf(e){if(!(fl(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===pf)){if(!e.producerMustRecompute(e)&&!cl(e)){ol(e);return}e.producerRecomputeValue(e),ol(e)}}function ol(e){e.dirty=!1,e.lastCleanEpoch=pf}function ll(e){return e&&(e.nextProducerIndex=0),oe(e)}function gf(e,t){if(oe(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(fl(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)dl(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function cl(e){hl(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(mf(n),r!==n.version))return!0}return!1}function ul(e){if(hl(e),fl(e))for(let t=0;t<e.producerNode.length;t++)dl(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function dl(e,t){if(Sy(e),e.liveConsumerNode.length===1&&Py(e))for(let r=0;r<e.producerNode.length;r++)dl(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],s=e.liveConsumerNode[t];hl(s),s.producerIndexOfThis[r]=t}}function fl(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function hl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Sy(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Py(e){return e.producerNode!==void 0}function Ny(){throw new Error}var Oy=Ny;function pl(e){Oy=e}var ml;function br(){return ml}function qt(e){let t=ml;return ml=e,t}var Mo=Symbol("NotFound");function ee(e){return typeof e=="function"}function To(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var xo=To(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,s)=>`${s+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function wn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var je=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let l of n)l.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(l){t=l instanceof xo?l.errors:[l]}let{_finalizers:s}=this;if(s){this._finalizers=null;for(let l of s)try{vf(l)}catch(c){t=t??[],c instanceof xo?t=[...t,...c.errors]:t.push(c)}}if(t)throw new xo(t)}}add(t){var n;if(t&&t!==this)if(this.closed)vf(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&wn(n,t)}remove(t){let{_finalizers:n}=this;n&&wn(n,t),t instanceof e&&t._removeParent(this)}};je.EMPTY=(()=>{let e=new je;return e.closed=!0,e})();var gl=je.EMPTY;function So(e){return e instanceof je||e&&"closed"in e&&ee(e.remove)&&ee(e.add)&&ee(e.unsubscribe)}function vf(e){ee(e)?e():e.unsubscribe()}var Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mi={setTimeout(e,t,...n){let{delegate:r}=mi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=mi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Po(e){mi.setTimeout(()=>{let{onUnhandledError:t}=Dt;if(t)t(e);else throw e})}function vl(){}var yf=yl("C",void 0,void 0);function _f(e){return yl("E",void 0,e)}function wf(e){return yl("N",e,void 0)}function yl(e,t,n){return{kind:e,value:t,error:n}}var bn=null;function gi(e){if(Dt.useDeprecatedSynchronousErrorHandling){let t=!bn;if(t&&(bn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=bn;if(bn=null,n)throw r}}else e()}function bf(e){Dt.useDeprecatedSynchronousErrorHandling&&bn&&(bn.errorThrown=!0,bn.error=e)}var Dn=class extends je{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,So(t)&&t.add(this)):this.destination=Zy}static create(t,n,r){return new vi(t,n,r)}next(t){this.isStopped?wl(wf(t),this):this._next(t)}error(t){this.isStopped?wl(_f(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?wl(yf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Uy=Function.prototype.bind;function _l(e,t){return Uy.call(e,t)}var bl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){No(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){No(r)}else No(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){No(n)}}},vi=class extends Dn{constructor(t,n,r){super();let s;if(ee(t)||!t)s={next:t??void 0,error:n??void 0,complete:r??void 0};else{let l;this&&Dt.useDeprecatedNextContext?(l=Object.create(t),l.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&_l(t.next,l),error:t.error&&_l(t.error,l),complete:t.complete&&_l(t.complete,l)}):s=t}this.destination=new bl(s)}};function No(e){Dt.useDeprecatedSynchronousErrorHandling?bf(e):Po(e)}function $y(e){throw e}function wl(e,t){let{onStoppedNotification:n}=Dt;n&&mi.setTimeout(()=>n(e,t))}var Zy={closed:!0,next:vl,error:$y,complete:vl};var yi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dr(e){return e}function Df(e){return e.length===0?Dr:e.length===1?e[0]:function(n){return e.reduce((r,s)=>s(r),n)}}var De=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,s){let l=Wy(n)?n:new vi(n,r,s);return gi(()=>{let{operator:c,source:d}=this;l.add(c?c.call(l,d):d?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ef(r),new r((s,l)=>{let c=new vi({next:d=>{try{n(d)}catch(h){l(h),c.unsubscribe()}},error:l,complete:s});this.subscribe(c)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[yi](){return this}pipe(...n){return Df(n)(this)}toPromise(n){return n=Ef(n),new n((r,s)=>{let l;this.subscribe(c=>l=c,c=>s(c),()=>r(l))})}}return e.create=t=>new e(t),e})();function Ef(e){var t;return(t=e??Dt.Promise)!==null&&t!==void 0?t:Promise}function Gy(e){return e&&ee(e.next)&&ee(e.error)&&ee(e.complete)}function Wy(e){return e&&e instanceof Dn||Gy(e)&&So(e)}function qy(e){return ee(e?.lift)}function Ke(e){return t=>{if(qy(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(e,t,n,r,s){return new Dl(e,t,n,r,s)}var Dl=class extends Dn{constructor(t,n,r,s,l,c){super(t),this.onFinalize=l,this.shouldUnsubscribe=c,this._next=n?function(d){try{n(d)}catch(h){t.error(h)}}:super._next,this._error=s?function(d){try{s(d)}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var Cf=To(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Lt=(()=>{class e extends De{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Oo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Cf}next(n){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:s,observers:l}=this;return r||s?gl:(this.currentObservers=null,l.push(n),new je(()=>{this.currentObservers=null,wn(l,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:s,isStopped:l}=this;r?n.error(s):l&&n.complete()}asObservable(){let n=new De;return n.source=this,n}}return e.create=(t,n)=>new Oo(t,n),e})(),Oo=class extends Lt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:gl}};var ln=class extends Lt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var El={now(){return(El.delegate||Date).now()},delegate:void 0};var Ao=class extends je{constructor(t,n){super()}schedule(t,n=0){return this}};var Er={setInterval(e,t,...n){let{delegate:r}=Er;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Er;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Lo=class extends Ao{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let s=this.id,l=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(l,s,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(l,this.id,n),this}requestAsyncId(t,n,r=0){return Er.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Er.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,s;try{this.work(t)}catch(l){r=!0,s=l||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,wn(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var _i=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};_i.now=El.now;var ko=class extends _i{constructor(t,n=_i.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Cl=new ko(Lo),If=Cl;function Ro(e){return e&&ee(e.schedule)}function Mf(e){return e[e.length-1]}function Tf(e){return ee(Mf(e))?e.pop():void 0}function Fo(e){return Ro(Mf(e))?e.pop():void 0}function Sf(e,t,n,r){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(g){try{m(r.next(g))}catch(_){c(_)}}function h(g){try{m(r.throw(g))}catch(_){c(_)}}function m(g){g.done?l(g.value):s(g.value).then(d,h)}m((r=r.apply(e,t||[])).next())})}function xf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function En(e){return this instanceof En?(this.v=e,this):new En(e)}function Pf(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,l=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(y){return function(b){return Promise.resolve(b).then(y,_)}}function d(y,b){r[y]&&(s[y]=function(I){return new Promise(function(P,N){l.push([y,I,P,N])>1||h(y,I)})},b&&(s[y]=b(s[y])))}function h(y,b){try{m(r[y](b))}catch(I){D(l[0][3],I)}}function m(y){y.value instanceof En?Promise.resolve(y.value.v).then(g,_):D(l[0][2],y)}function g(y){h("next",y)}function _(y){h("throw",y)}function D(y,b){y(b),l.shift(),l.length&&h(l[0][0],l[0][1])}}function Nf(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof xf=="function"?xf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(c){return new Promise(function(d,h){c=e[l](c),s(d,h,c.done,c.value)})}}function s(l,c,d,h){Promise.resolve(h).then(function(m){l({value:m,done:d})},c)}}var Bo=e=>e&&typeof e.length=="number"&&typeof e!="function";function jo(e){return ee(e?.then)}function Vo(e){return ee(e[yi])}function Ho(e){return Symbol.asyncIterator&&ee(e?.[Symbol.asyncIterator])}function zo(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Yy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Uo=Yy();function $o(e){return ee(e?.[Uo])}function Zo(e){return Pf(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:s}=yield En(n.read());if(s)return yield En(void 0);yield yield En(r)}}finally{n.releaseLock()}})}function Go(e){return ee(e?.getReader)}function pt(e){if(e instanceof De)return e;if(e!=null){if(Vo(e))return Ky(e);if(Bo(e))return Qy(e);if(jo(e))return Jy(e);if(Ho(e))return Of(e);if($o(e))return Xy(e);if(Go(e))return e_(e)}throw zo(e)}function Ky(e){return new De(t=>{let n=e[yi]();if(ee(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Qy(e){return new De(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Jy(e){return new De(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Po)})}function Xy(e){return new De(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Of(e){return new De(t=>{t_(e,t).catch(n=>t.error(n))})}function e_(e){return Of(Zo(e))}function t_(e,t){var n,r,s,l;return Sf(this,void 0,void 0,function*(){try{for(n=Nf(e);r=yield n.next(),!r.done;){let c=r.value;if(t.next(c),t.closed)return}}catch(c){s={error:c}}finally{try{r&&!r.done&&(l=n.return)&&(yield l.call(n))}finally{if(s)throw s.error}}t.complete()})}function Je(e,t,n,r=0,s=!1){let l=t.schedule(function(){n(),s?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(l),!s)return l}function Wo(e,t=0){return Ke((n,r)=>{n.subscribe(Qe(r,s=>Je(r,e,()=>r.next(s),t),()=>Je(r,e,()=>r.complete(),t),s=>Je(r,e,()=>r.error(s),t)))})}function qo(e,t=0){return Ke((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Af(e,t){return pt(e).pipe(qo(t),Wo(t))}function Lf(e,t){return pt(e).pipe(qo(t),Wo(t))}function kf(e,t){return new De(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Rf(e,t){return new De(n=>{let r;return Je(n,t,()=>{r=e[Uo](),Je(n,t,()=>{let s,l;try{({value:s,done:l}=r.next())}catch(c){n.error(c);return}l?n.complete():n.next(s)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Yo(e,t){if(!e)throw new Error("Iterable cannot be null");return new De(n=>{Je(n,t,()=>{let r=e[Symbol.asyncIterator]();Je(n,t,()=>{r.next().then(s=>{s.done?n.complete():n.next(s.value)})},0,!0)})})}function Ff(e,t){return Yo(Zo(e),t)}function Bf(e,t){if(e!=null){if(Vo(e))return Af(e,t);if(Bo(e))return kf(e,t);if(jo(e))return Lf(e,t);if(Ho(e))return Yo(e,t);if($o(e))return Rf(e,t);if(Go(e))return Ff(e,t)}throw zo(e)}function cn(e,t){return t?Bf(e,t):pt(e)}function Ko(...e){let t=Fo(e);return cn(e,t)}function jf(e){return e instanceof Date&&!isNaN(e)}function mt(e,t){return Ke((n,r)=>{let s=0;n.subscribe(Qe(r,l=>{r.next(e.call(t,l,s++))}))})}var{isArray:n_}=Array;function i_(e,t){return n_(t)?e(...t):e(t)}function Vf(e){return mt(t=>i_(e,t))}var{isArray:r_}=Array,{getPrototypeOf:o_,prototype:s_,keys:a_}=Object;function Hf(e){if(e.length===1){let t=e[0];if(r_(t))return{args:t,keys:null};if(l_(t)){let n=a_(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function l_(e){return e&&typeof e=="object"&&o_(e)===s_}function zf(e,t){return e.reduce((n,r,s)=>(n[r]=t[s],n),{})}function Il(...e){let t=Fo(e),n=Tf(e),{args:r,keys:s}=Hf(e);if(r.length===0)return cn([],t);let l=new De(c_(r,t,s?c=>zf(s,c):Dr));return n?l.pipe(Vf(n)):l}function c_(e,t,n=Dr){return r=>{Uf(t,()=>{let{length:s}=e,l=new Array(s),c=s,d=s;for(let h=0;h<s;h++)Uf(t,()=>{let m=cn(e[h],t),g=!1;m.subscribe(Qe(r,_=>{l[h]=_,g||(g=!0,d--),d||r.next(n(l.slice()))},()=>{--c||r.complete()}))},r)},r)}}function Uf(e,t,n){e?Je(n,e,t):t()}function $f(e,t,n,r,s,l,c,d){let h=[],m=0,g=0,_=!1,D=()=>{_&&!h.length&&!m&&t.complete()},y=I=>m<r?b(I):h.push(I),b=I=>{l&&t.next(I),m++;let P=!1;pt(n(I,g++)).subscribe(Qe(t,N=>{s?.(N),l?y(N):t.next(N)},()=>{P=!0},void 0,()=>{if(P)try{for(m--;h.length&&m<r;){let N=h.shift();c?Je(t,c,()=>b(N)):b(N)}D()}catch(N){t.error(N)}}))};return e.subscribe(Qe(t,y,()=>{_=!0,D()})),()=>{d?.()}}function Qo(e,t,n=1/0){return ee(t)?Qo((r,s)=>mt((l,c)=>t(r,l,s,c))(pt(e(r,s))),n):(typeof t=="number"&&(n=t),Ke((r,s)=>$f(r,s,e,n)))}function Zf(e=0,t,n=If){let r=-1;return t!=null&&(Ro(t)?n=t:r=t),new De(s=>{let l=jf(e)?+e-n.now():e;l<0&&(l=0);let c=0;return n.schedule(function(){s.closed||(s.next(c++),0<=r?this.schedule(void 0,r):s.complete())},l)})}function Cr(e=0,t=Cl){return e<0&&(e=0),Zf(e,e,t)}function Ml(e,t){return Ke((n,r)=>{let s=0;n.subscribe(Qe(r,l=>e.call(t,l,s++)&&r.next(l)))})}function Tl(e,t){return ee(t)?Qo(e,t,1):Qo(e,1)}function Jo(e){return Ke((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function xl(e,t){return Ke((n,r)=>{let s=null,l=0,c=!1,d=()=>c&&!s&&r.complete();n.subscribe(Qe(r,h=>{s?.unsubscribe();let m=0,g=l++;pt(e(h,g)).subscribe(s=Qe(r,_=>r.next(t?t(h,_,g,m++):_),()=>{s=null,d()}))},()=>{c=!0,d()}))})}var Lh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(t,n){super(d_(t,n)),this.code=t}};function u_(e){return`NG0${Math.abs(e)}`}function d_(e,t){return`${u_(e)}${t?": "+t:""}`}function Ls(e){return{toString:e}.toString()}var Xo="__parameters__";function f_(e){return function(...n){if(e){let r=e(...n);for(let s in r)this[s]=r[s]}}}function kh(e,t,n){return Ls(()=>{let r=f_(t);function s(...l){if(this instanceof s)return r.apply(this,l),this;let c=new s(...l);return d.annotation=c,d;function d(h,m,g){let _=h.hasOwnProperty(Xo)?h[Xo]:Object.defineProperty(h,Xo,{value:[]})[Xo];for(;_.length<=g;)_.push(null);return(_[g]=_[g]||[]).push(c),h}}return s.prototype.ngMetadataName=e,s.annotationCls=s,s})}var Yt=globalThis;function ye(e){for(let t in e)if(e[t]===ye)return t;throw Error("Could not find renamed property on target object.")}function gt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(gt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Hl(e,t){return e?t?`${e} ${t}`:e:t||""}var h_=ye({__forward_ref__:ye});function Rh(e){return e.__forward_ref__=Rh,e.toString=function(){return gt(this())},e}function It(e){return p_(e)?e():e}function p_(e){return typeof e=="function"&&e.hasOwnProperty(h_)&&e.__forward_ref__===Rh}function z(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Oi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Fc(e){return Gf(e,Fh)||Gf(e,Bh)}function Gf(e,t){return e.hasOwnProperty(t)?e[t]:null}function m_(e){let t=e&&(e[Fh]||e[Bh]);return t||null}function Wf(e){return e&&(e.hasOwnProperty(qf)||e.hasOwnProperty(g_))?e[qf]:null}var Fh=ye({\u0275prov:ye}),qf=ye({\u0275inj:ye}),Bh=ye({ngInjectableDef:ye}),g_=ye({ngInjectorDef:ye}),Z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jh(e){return e&&!!e.\u0275providers}var v_=ye({\u0275cmp:ye}),y_=ye({\u0275dir:ye}),__=ye({\u0275pipe:ye});var Yf=ye({\u0275fac:ye}),xr=ye({__NG_ELEMENT_ID__:ye}),Kf=ye({__NG_ENV_ID__:ye});function Br(e){return typeof e=="string"?e:e==null?"":String(e)}function w_(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Br(e)}function Vh(e,t){throw new H(-200,e)}function Bc(e,t){throw new H(-201,!1)}var te=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(te||{}),zl;function Hh(){return zl}function Xe(e){let t=zl;return zl=e,t}function zh(e,t,n){let r=Fc(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(t!==void 0)return t;Bc(e,"Injector")}var b_={},In=b_,Ul="__NG_DI_FLAG__",us=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Mo:In,r)}},ds="ngTempTokenPath",D_="ngTokenPath",E_=/\n/gm,C_="\u0275",Qf="__source";function I_(e,t=te.Default){if(br()===void 0)throw new H(-203,!1);if(br()===null)return zh(e,void 0,t);{let n=br(),r;return n instanceof us?r=n.injector:r=n,r.get(e,t&te.Optional?null:void 0,t)}}function V(e,t=te.Default){return(Hh()||I_)(It(e),t)}function q(e,t=te.Default){return V(e,ks(t))}function ks(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function $l(e){let t=[];for(let n=0;n<e.length;n++){let r=It(e[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let s,l=te.Default;for(let c=0;c<r.length;c++){let d=r[c],h=M_(d);typeof h=="number"?h===-1?s=d.token:l|=h:s=d}t.push(V(s,l))}else t.push(V(r))}return t}function Uh(e,t){return e[Ul]=t,e.prototype[Ul]=t,e}function M_(e){return e[Ul]}function T_(e,t,n,r){let s=e[ds];throw t[Qf]&&s.unshift(t[Qf]),e.message=x_(`
`+e.message,s,n,r),e[D_]=s,e[ds]=null,e}function x_(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==C_?e.slice(2):e;let s=gt(t);if(Array.isArray(t))s=t.map(gt).join(" -> ");else if(typeof t=="object"){let l=[];for(let c in t)if(t.hasOwnProperty(c)){let d=t[c];l.push(c+":"+(typeof d=="string"?JSON.stringify(d):gt(d)))}s=`{${l.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(E_,`
  `)}`}var S_=Uh(kh("Optional"),8);var P_=Uh(kh("SkipSelf"),4);function Ci(e,t){let n=e.hasOwnProperty(Yf);return n?e[Yf]:null}function N_(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],l=t[r];if(n&&(s=n(s),l=n(l)),l!==s)return!1}return!0}function O_(e){return e.flat(Number.POSITIVE_INFINITY)}function jc(e,t){e.forEach(n=>Array.isArray(n)?jc(n,t):t(n))}function $h(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function fs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function A_(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function L_(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(s===1)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;){let l=s-2;e[s]=e[l],s--}e[t]=n,e[t+1]=r}}function Vc(e,t,n){let r=jr(e,t);return r>=0?e[r|1]=n:(r=~r,L_(e,r,t,n)),r}function Sl(e,t){let n=jr(e,t);if(n>=0)return e[n|1]}function jr(e,t){return k_(e,t,1)}function k_(e,t,n){let r=0,s=e.length>>n;for(;s!==r;){let l=r+(s-r>>1),c=e[l<<n];if(t===c)return l<<n;c>t?s=l:r=l+1}return~(s<<n)}var Ii={},st=[],hs=new Z(""),Zh=new Z("",-1),Gh=new Z(""),ps=class{get(t,n=In){if(n===In){let r=new Error(`NullInjectorError: No provider for ${gt(t)}!`);throw r.name="NullInjectorError",r}return n}};function Sr(e){return e[v_]||null}function R_(e){return e[y_]||null}function F_(e){return e[__]||null}function Wh(e){return{\u0275providers:e}}function Hc(...e){return{\u0275providers:qh(!0,e),\u0275fromNgModule:!0}}function qh(e,...t){let n=[],r=new Set,s,l=c=>{n.push(c)};return jc(t,c=>{let d=c;Zl(d,l,[],r)&&(s||=[],s.push(d))}),s!==void 0&&Yh(s,l),n}function Yh(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:s}=e[n];zc(s,l=>{t(l,r)})}}function Zl(e,t,n,r){if(e=It(e),!e)return!1;let s=null,l=Wf(e),c=!l&&Sr(e);if(!l&&!c){let h=e.ngModule;if(l=Wf(h),l)s=h;else return!1}else{if(c&&!c.standalone)return!1;s=e}let d=r.has(s);if(c){if(d)return!1;if(r.add(s),c.dependencies){let h=typeof c.dependencies=="function"?c.dependencies():c.dependencies;for(let m of h)Zl(m,t,n,r)}}else if(l){if(l.imports!=null&&!d){r.add(s);let m;try{jc(l.imports,g=>{Zl(g,t,n,r)&&(m||=[],m.push(g))})}finally{}m!==void 0&&Yh(m,t)}if(!d){let m=Ci(s)||(()=>new s);t({provide:s,useFactory:m,deps:st},s),t({provide:Gh,useValue:s,multi:!0},s),t({provide:hs,useValue:()=>V(s),multi:!0},s)}let h=l.providers;if(h!=null&&!d){let m=e;zc(h,g=>{t(g,m)})}}else return!1;return s!==e&&e.providers!==void 0}function zc(e,t){for(let n of e)jh(n)&&(n=n.\u0275providers),Array.isArray(n)?zc(n,t):t(n)}var B_=ye({provide:String,useValue:ye});function Kh(e){return e!==null&&typeof e=="object"&&B_ in e}function j_(e){return!!(e&&e.useExisting)}function V_(e){return!!(e&&e.useFactory)}function Gl(e){return typeof e=="function"}var Rs=new Z(""),rs={},Jf={},Pl;function Uc(){return Pl===void 0&&(Pl=new ps),Pl}var Rt=class{},Pr=class extends Rt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,ql(t,c=>this.processProvider(c)),this.records.set(Zh,wi(void 0,this)),s.has("environment")&&this.records.set(Rt,wi(void 0,this));let l=this.records.get(Rs);l!=null&&typeof l.value=="string"&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Gh,st,te.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Mo:In,r)}destroy(){Mr(this),this._destroyed=!0;let t=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(t)}}onDestroy(t){return Mr(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Mr(this);let n=qt(this),r=Xe(void 0),s;try{return t()}finally{qt(n),Xe(r)}}get(t,n=In,r=te.Default){if(Mr(this),t.hasOwnProperty(Kf))return t[Kf](this);r=ks(r);let s,l=qt(this),c=Xe(void 0);try{if(!(r&te.SkipSelf)){let h=this.records.get(t);if(h===void 0){let m=G_(t)&&Fc(t);m&&this.injectableDefInScope(m)?h=wi(Wl(t),rs):h=null,this.records.set(t,h)}if(h!=null)return this.hydrate(t,h)}let d=r&te.Self?Uc():this.parent;return n=r&te.Optional&&n===In?null:n,d.get(t,n)}catch(d){if(d.name==="NullInjectorError"){if((d[ds]=d[ds]||[]).unshift(gt(t)),l)throw d;return T_(d,t,"R3InjectorError",this.source)}else throw d}finally{Xe(c),qt(l)}}resolveInjectorInitializers(){let t=oe(null),n=qt(this),r=Xe(void 0),s;try{let l=this.get(hs,st,te.Self);for(let c of l)c()}finally{qt(n),Xe(r),oe(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(gt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=It(t);let n=Gl(t)?t:It(t&&t.provide),r=z_(t);if(!Gl(t)&&t.multi===!0){let s=this.records.get(n);s||(s=wi(void 0,rs,!0),s.factory=()=>$l(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=oe(null);try{return n.value===Jf?Vh(gt(t)):n.value===rs&&(n.value=Jf,n.value=n.factory()),typeof n.value=="object"&&n.value&&Z_(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{oe(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=It(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Wl(e){let t=Fc(e),n=t!==null?t.factory:Ci(e);if(n!==null)return n;if(e instanceof Z)throw new H(204,!1);if(e instanceof Function)return H_(e);throw new H(204,!1)}function H_(e){if(e.length>0)throw new H(204,!1);let n=m_(e);return n!==null?()=>n.factory(e):()=>new e}function z_(e){if(Kh(e))return wi(void 0,e.useValue);{let t=U_(e);return wi(t,rs)}}function U_(e,t,n){let r;if(Gl(e)){let s=It(e);return Ci(s)||Wl(s)}else if(Kh(e))r=()=>It(e.useValue);else if(V_(e))r=()=>e.useFactory(...$l(e.deps||[]));else if(j_(e))r=()=>V(It(e.useExisting));else{let s=It(e&&(e.useClass||e.provide));if($_(e))r=()=>new s(...$l(e.deps));else return Ci(s)||Wl(s)}return r}function Mr(e){if(e.destroyed)throw new H(205,!1)}function wi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function $_(e){return!!e.deps}function Z_(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function G_(e){return typeof e=="function"||typeof e=="object"&&e instanceof Z}function ql(e,t){for(let n of e)Array.isArray(n)?ql(n,t):n&&jh(n)?ql(n.\u0275providers,t):t(n)}function Fs(e,t){let n;e instanceof Pr?(Mr(e),n=e):n=new us(e);let r,s=qt(n),l=Xe(void 0);try{return t()}finally{qt(s),Xe(l)}}function W_(){return Hh()!==void 0||br()!=null}function q_(e){return typeof e=="function"}var en=0,Q=1,U=2,$e=3,Mt=4,tt=5,Nr=6,ms=7,et=8,Mi=9,Kt=10,Te=11,Or=12,Xf=13,Ai=14,yt=15,Tn=16,bi=17,Qt=18,Bs=19,Qh=20,un=21,Nl=22,gs=23,vt=24,Ol=25,We=26,Jh=1;var xn=7,vs=8,Ti=9,at=10;function dn(e){return Array.isArray(e)&&typeof e[Jh]=="object"}function tn(e){return Array.isArray(e)&&e[Jh]===!0}function $c(e){return(e.flags&4)!==0}function Li(e){return e.componentOffset>-1}function js(e){return(e.flags&1)===1}function Ln(e){return!!e.template}function ys(e){return(e[U]&512)!==0}function Vr(e){return(e[U]&256)===256}var Yl=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Xh(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var kn=(()=>{let e=()=>ep;return e.ngInherit=!0,e})();function ep(e){return e.type.prototype.ngOnChanges&&(e.setInput=K_),Y_}function Y_(){let e=np(this),t=e?.current;if(t){let n=e.previous;if(n===Ii)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function K_(e,t,n,r,s){let l=this.declaredInputs[r],c=np(e)||Q_(e,{previous:Ii,current:null}),d=c.current||(c.current={}),h=c.previous,m=h[l];d[l]=new Yl(m&&m.currentValue,n,h===Ii),Xh(e,t,s,n)}var tp="__ngSimpleChanges__";function np(e){return e[tp]||null}function Q_(e,t){return e[tp]=t}var eh=null;var ve=function(e,t=null,n){eh?.(e,t,n)},J_="svg",X_="math";function Ft(e){for(;Array.isArray(e);)e=e[en];return e}function ip(e,t){return Ft(t[e])}function Vt(e,t){return Ft(t[e.index])}function rp(e,t){return e.data[t]}function op(e,t){return e[t]}function Bt(e,t){let n=t[e];return dn(n)?n:n[en]}function ew(e){return(e[U]&4)===4}function Zc(e){return(e[U]&128)===128}function tw(e){return tn(e[$e])}function xi(e,t){return t==null?null:e[t]}function sp(e){e[bi]=0}function ap(e){e[U]&1024||(e[U]|=1024,Zc(e)&&Hs(e))}function nw(e,t){for(;e>0;)t=t[Ai],e--;return t}function Vs(e){return!!(e[U]&9216||e[vt]?.dirty)}function Kl(e){e[Kt].changeDetectionScheduler?.notify(8),e[U]&64&&(e[U]|=1024),Vs(e)&&Hs(e)}function Hs(e){e[Kt].changeDetectionScheduler?.notify(0);let t=Sn(e);for(;t!==null&&!(t[U]&8192||(t[U]|=8192,!Zc(t)));)t=Sn(t)}function lp(e,t){if(Vr(e))throw new H(911,!1);e[un]===null&&(e[un]=[]),e[un].push(t)}function iw(e,t){if(e[un]===null)return;let n=e[un].indexOf(t);n!==-1&&e[un].splice(n,1)}function Sn(e){let t=e[$e];return tn(t)?t[$e]:t}function Gc(e){return e[ms]??=[]}function Wc(e){return e.cleanup??=[]}function rw(e,t,n,r){let s=Gc(t);s.push(n),e.firstCreatePass&&Wc(e).push(r,s.length-1)}var Y={lFrame:gp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ql=!1;function ow(){return Y.lFrame.elementDepthCount}function sw(){Y.lFrame.elementDepthCount++}function aw(){Y.lFrame.elementDepthCount--}function qc(){return Y.bindingsEnabled}function cp(){return Y.skipHydrationRootTNode!==null}function lw(e){return Y.skipHydrationRootTNode===e}function cw(){Y.skipHydrationRootTNode=null}function ue(){return Y.lFrame.lView}function Ve(){return Y.lFrame.tView}function Oe(e){return Y.lFrame.contextLView=e,e[et]}function Ae(e){return Y.lFrame.contextLView=null,e}function Tt(){let e=up();for(;e!==null&&e.type===64;)e=e.parent;return e}function up(){return Y.lFrame.currentTNode}function uw(){let e=Y.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Rn(e,t){let n=Y.lFrame;n.currentTNode=e,n.isParent=t}function Yc(){return Y.lFrame.isParent}function Kc(){Y.lFrame.isParent=!1}function dw(){return Y.lFrame.contextLView}function dp(){return Ql}function th(e){let t=Ql;return Ql=e,t}function fw(){let e=Y.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function hw(e){return Y.lFrame.bindingIndex=e}function Qc(){return Y.lFrame.bindingIndex++}function fp(e){let t=Y.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function pw(){return Y.lFrame.inI18n}function mw(e,t){let n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=e,Jl(t)}function gw(){return Y.lFrame.currentDirectiveIndex}function Jl(e){Y.lFrame.currentDirectiveIndex=e}function vw(e){let t=Y.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function hp(){return Y.lFrame.currentQueryIndex}function Jc(e){Y.lFrame.currentQueryIndex=e}function yw(e){let t=e[Q];return t.type===2?t.declTNode:t.type===1?e[tt]:null}function pp(e,t,n){if(n&te.SkipSelf){let s=t,l=e;for(;s=s.parent,s===null&&!(n&te.Host);)if(s=yw(l),s===null||(l=l[Ai],s.type&10))break;if(s===null)return!1;t=s,e=l}let r=Y.lFrame=mp();return r.currentTNode=t,r.lView=e,!0}function Xc(e){let t=mp(),n=e[Q];Y.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function mp(){let e=Y.lFrame,t=e===null?null:e.child;return t===null?gp(e):t}function gp(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function vp(){let e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var yp=vp;function eu(){let e=vp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _w(e){return(Y.lFrame.contextLView=nw(e,Y.lFrame.contextLView))[et]}function Fn(){return Y.lFrame.selectedIndex}function Pn(e){Y.lFrame.selectedIndex=e}function tu(){let e=Y.lFrame;return rp(e.tView,e.selectedIndex)}function ww(){return Y.lFrame.currentNamespace}var _p=!0;function zs(){return _p}function Us(e){_p=e}function bw(e,t,n){let{ngOnChanges:r,ngOnInit:s,ngDoCheck:l}=t.type.prototype;if(r){let c=ep(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}s&&(n.preOrderHooks??=[]).push(0-e,s),l&&((n.preOrderHooks??=[]).push(e,l),(n.preOrderCheckHooks??=[]).push(e,l))}function nu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let l=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:d,ngAfterViewInit:h,ngAfterViewChecked:m,ngOnDestroy:g}=l;c&&(e.contentHooks??=[]).push(-n,c),d&&((e.contentHooks??=[]).push(n,d),(e.contentCheckHooks??=[]).push(n,d)),h&&(e.viewHooks??=[]).push(-n,h),m&&((e.viewHooks??=[]).push(n,m),(e.viewCheckHooks??=[]).push(n,m)),g!=null&&(e.destroyHooks??=[]).push(n,g)}}function os(e,t,n){wp(e,t,3,n)}function ss(e,t,n,r){(e[U]&3)===n&&wp(e,t,n,r)}function Al(e,t){let n=e[U];(n&3)===t&&(n&=16383,n+=1,e[U]=n)}function wp(e,t,n,r){let s=r!==void 0?e[bi]&65535:0,l=r??-1,c=t.length-1,d=0;for(let h=s;h<c;h++)if(typeof t[h+1]=="number"){if(d=t[h],r!=null&&d>=r)break}else t[h]<0&&(e[bi]+=65536),(d<l||l==-1)&&(Dw(e,n,t,h),e[bi]=(e[bi]&4294901760)+h+2),h++}function nh(e,t){ve(4,e,t);let n=oe(null);try{t.call(e)}finally{oe(n),ve(5,e,t)}}function Dw(e,t,n,r){let s=n[r]<0,l=n[r+1],c=s?-n[r]:n[r],d=e[c];s?e[U]>>14<e[bi]>>16&&(e[U]&3)===t&&(e[U]+=16384,nh(d,l)):nh(d,l)}var Ei=-1,Ar=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function Ew(e){return(e.flags&8)!==0}function Cw(e){return(e.flags&16)!==0}function Iw(e,t,n){let r=0;for(;r<n.length;){let s=n[r];if(typeof s=="number"){if(s!==0)break;r++;let l=n[r++],c=n[r++],d=n[r++];e.setAttribute(t,c,d,l)}else{let l=s,c=n[++r];Tw(l)?e.setProperty(t,l,c):e.setAttribute(t,l,c),r++}}return r}function Mw(e){return e===3||e===4||e===6}function Tw(e){return e.charCodeAt(0)===64}function $s(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let s=t[r];typeof s=="number"?n=s:n===0||(n===-1||n===2?ih(e,n,s,null,t[++r]):ih(e,n,s,null,null))}}return e}function ih(e,t,n,r,s){let l=0,c=e.length;if(t===-1)c=-1;else for(;l<e.length;){let d=e[l++];if(typeof d=="number"){if(d===t){c=-1;break}else if(d>t){c=l-1;break}}}for(;l<e.length;){let d=e[l];if(typeof d=="number")break;if(d===n){s!==null&&(e[l+1]=s);return}l++,s!==null&&l++}c!==-1&&(e.splice(c,0,t),l=c+1),e.splice(l++,0,n),s!==null&&e.splice(l++,0,s)}function bp(e){return e!==Ei}function _s(e){return e&32767}function xw(e){return e>>16}function ws(e,t){let n=xw(e),r=t;for(;n>0;)r=r[Ai],n--;return r}var Xl=!0;function bs(e){let t=Xl;return Xl=e,t}var Sw=256,Dp=Sw-1,Ep=5,Pw=0,kt={};function Nw(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(xr)&&(r=n[xr]),r==null&&(r=n[xr]=Pw++);let s=r&Dp,l=1<<s;t.data[e+(s>>Ep)]|=l}function Cp(e,t){let n=Ip(e,t);if(n!==-1)return n;let r=t[Q];r.firstCreatePass&&(e.injectorIndex=t.length,Ll(r.data,e),Ll(t,null),Ll(r.blueprint,null));let s=iu(e,t),l=e.injectorIndex;if(bp(s)){let c=_s(s),d=ws(s,t),h=d[Q].data;for(let m=0;m<8;m++)t[l+m]=d[c+m]|h[c+m]}return t[l+8]=s,l}function Ll(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ip(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function iu(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;s!==null;){if(r=Pp(s),r===null)return Ei;if(n++,s=s[Ai],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ei}function Ow(e,t,n){Nw(e,t,n)}function Mp(e,t,n){if(n&te.Optional||e!==void 0)return e;Bc(t,"NodeInjector")}function Tp(e,t,n,r){if(n&te.Optional&&r===void 0&&(r=null),(n&(te.Self|te.Host))===0){let s=e[Mi],l=Xe(void 0);try{return s?s.get(t,r,n&te.Optional):zh(t,r,n&te.Optional)}finally{Xe(l)}}return Mp(r,t,n)}function xp(e,t,n,r=te.Default,s){if(e!==null){if(t[U]&2048&&!(r&te.Self)){let c=Rw(e,t,n,r,kt);if(c!==kt)return c}let l=Sp(e,t,n,r,kt);if(l!==kt)return l}return Tp(t,n,r,s)}function Sp(e,t,n,r,s){let l=Lw(n);if(typeof l=="function"){if(!pp(t,e,r))return r&te.Host?Mp(s,n,r):Tp(t,n,r,s);try{let c;if(c=l(r),c==null&&!(r&te.Optional))Bc(n);else return c}finally{yp()}}else if(typeof l=="number"){let c=null,d=Ip(e,t),h=Ei,m=r&te.Host?t[yt][tt]:null;for((d===-1||r&te.SkipSelf)&&(h=d===-1?iu(e,t):t[d+8],h===Ei||!oh(r,!1)?d=-1:(c=t[Q],d=_s(h),t=ws(h,t)));d!==-1;){let g=t[Q];if(rh(l,d,g.data)){let _=Aw(d,t,n,c,r,m);if(_!==kt)return _}h=t[d+8],h!==Ei&&oh(r,t[Q].data[d+8]===m)&&rh(l,d,t)?(c=g,d=_s(h),t=ws(h,t)):d=-1}}return s}function Aw(e,t,n,r,s,l){let c=t[Q],d=c.data[e+8],h=r==null?Li(d)&&Xl:r!=c&&(d.type&3)!==0,m=s&te.Host&&l===d,g=as(d,c,n,h,m);return g!==null?Ds(t,c,g,d):kt}function as(e,t,n,r,s){let l=e.providerIndexes,c=t.data,d=l&1048575,h=e.directiveStart,m=e.directiveEnd,g=l>>20,_=r?d:d+g,D=s?d+g:m;for(let y=_;y<D;y++){let b=c[y];if(y<h&&n===b||y>=h&&b.type===n)return y}if(s){let y=c[h];if(y&&Ln(y)&&y.type===n)return h}return null}function Ds(e,t,n,r){let s=e[n],l=t.data;if(s instanceof Ar){let c=s;c.resolving&&Vh(w_(l[n]));let d=bs(c.canSeeViewProviders);c.resolving=!0;let h,m=c.injectImpl?Xe(c.injectImpl):null,g=pp(e,r,te.Default);try{s=e[n]=c.factory(void 0,l,e,r),t.firstCreatePass&&n>=r.directiveStart&&bw(n,l[n],t)}finally{m!==null&&Xe(m),bs(d),c.resolving=!1,yp()}}return s}function Lw(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(xr)?e[xr]:void 0;return typeof t=="number"?t>=0?t&Dp:kw:t}function rh(e,t,n){let r=1<<e;return!!(n[t+(e>>Ep)]&r)}function oh(e,t){return!(e&te.Self)&&!(e&te.Host&&t)}var Mn=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return xp(this._tNode,this._lView,t,ks(r),n)}};function kw(){return new Mn(Tt(),ue())}function Rw(e,t,n,r,s){let l=e,c=t;for(;l!==null&&c!==null&&c[U]&2048&&!ys(c);){let d=Sp(l,c,n,r|te.Self,kt);if(d!==kt)return d;let h=l.parent;if(!h){let m=c[Qh];if(m){let g=m.get(n,kt,r);if(g!==kt)return g}h=Pp(c),c=c[Ai]}l=h}return s}function Pp(e){let t=e[Q],n=t.type;return n===2?t.declTNode:n===1?e[tt]:null}function sh(e,t=null,n=null,r){let s=Fw(e,t,n,r);return s.resolveInjectorInitializers(),s}function Fw(e,t=null,n=null,r,s=new Set){let l=[n||st,Hc(e)];return r=r||(typeof e=="object"?void 0:gt(e)),new Pr(l,t||Uc(),r||null,s)}var Si=class e{static THROW_IF_NOT_FOUND=In;static NULL=new ps;static create(t,n){if(Array.isArray(t))return sh({name:""},n,t,"");{let r=t.name??"";return sh({name:r},t.parent,t.providers,r)}}static \u0275prov=z({token:e,providedIn:"any",factory:()=>V(Zh)});static __NG_ELEMENT_ID__=-1};var Bw=new Z("");Bw.__NG_ELEMENT_ID__=e=>{let t=Tt();if(t===null)throw new H(204,!1);if(t.type&2)return t.value;if(e&te.Optional)return null;throw new H(204,!1)};var Np=!1,Op=(()=>{class e{static __NG_ELEMENT_ID__=jw;static __NG_ENV_ID__=n=>n}return e})(),ec=class extends Op{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return lp(this._lView,t),()=>iw(this._lView,t)}};function jw(){return new ec(ue())}var Lr=class{},Ap=new Z("",{providedIn:"root",factory:()=>!1});var Lp=new Z(""),kp=new Z(""),Bn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ln(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=z({token:e,providedIn:"root",factory:()=>new e})}return e})();var tc=class extends Lt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,W_()&&(this.destroyRef=q(Op,{optional:!0})??void 0,this.pendingTasks=q(Bn,{optional:!0})??void 0)}emit(t){let n=oe(null);try{super.next(t)}finally{oe(n)}}subscribe(t,n,r){let s=t,l=n||(()=>null),c=r;if(t&&typeof t=="object"){let h=t;s=h.next?.bind(h),l=h.error?.bind(h),c=h.complete?.bind(h)}this.__isAsync&&(l=this.wrapInTimeout(l),s&&(s=this.wrapInTimeout(s)),c&&(c=this.wrapInTimeout(c)));let d=super.subscribe({next:s,error:l,complete:c});return t instanceof je&&t.add(d),d}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ee=tc;function Es(...e){}function Rp(e){let t,n;function r(){e=Es;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function ah(e){return queueMicrotask(()=>e()),()=>{e=Es}}var ru="isAngularZone",Cs=ru+"_ID",Vw=0,Ue=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ee(!1);onMicrotaskEmpty=new Ee(!1);onStable=new Ee(!1);onError=new Ee(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:l=Np}=t;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&r,c.shouldCoalesceRunChangeDetection=s,c.callbackScheduled=!1,c.scheduleInRootZone=l,Uw(c)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ru)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new H(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){let l=this._inner,c=l.scheduleEventTask("NgZoneEvent: "+s,t,Hw,Es,Es);try{return l.runTask(c,n,r)}finally{l.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Hw={};function ou(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Rp(()=>{e.callbackScheduled=!1,nc(e),e.isCheckStableRunning=!0,ou(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),nc(e)}function Uw(e){let t=()=>{zw(e)},n=Vw++;e._inner=e._inner.fork({name:"angular",properties:{[ru]:!0,[Cs]:n,[Cs+n]:!0},onInvokeTask:(r,s,l,c,d,h)=>{if($w(h))return r.invokeTask(l,c,d,h);try{return lh(e),r.invokeTask(l,c,d,h)}finally{(e.shouldCoalesceEventChangeDetection&&c.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),ch(e)}},onInvoke:(r,s,l,c,d,h,m)=>{try{return lh(e),r.invoke(l,c,d,h,m)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Zw(h)&&t(),ch(e)}},onHasTask:(r,s,l,c)=>{r.hasTask(l,c),s===l&&(c.change=="microTask"?(e._hasPendingMicrotasks=c.microTask,nc(e),ou(e)):c.change=="macroTask"&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(r,s,l,c)=>(r.handleError(l,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}function nc(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function lh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ch(e){e._nesting--,ou(e)}var ic=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ee;onMicrotaskEmpty=new Ee;onStable=new Ee;onError=new Ee;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,s){return t.apply(n,r)}};function $w(e){return Fp(e,"__ignore_ng_zone__")}function Zw(e){return Fp(e,"__scheduler_tick__")}function Fp(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Jt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Gw=new Z("",{providedIn:"root",factory:()=>{let e=q(Ue),t=q(Jt);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Ww(){return ki(Tt(),ue())}function ki(e,t){return new Ri(Vt(e,t))}var Ri=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Ww}return e})();function qw(e){return e instanceof Ri?e.nativeElement:e}function Yw(){return this._results[Symbol.iterator]()}var rc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Lt}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=O_(t);(this._changesDetected=!N_(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Yw};function Bp(e){return(e.flags&128)===128}var jp=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(jp||{}),Vp=new Map,Kw=0;function Qw(){return Kw++}function Jw(e){Vp.set(e[Bs],e)}function oc(e){Vp.delete(e[Bs])}var uh="__ngContext__";function Fi(e,t){dn(t)?(e[uh]=t[Bs],Jw(t)):e[uh]=t}function Hp(e){return Up(e[Or])}function zp(e){return Up(e[Mt])}function Up(e){for(;e!==null&&!tn(e);)e=e[Mt];return e}var sc;function $p(e){sc=e}function Zp(){if(sc!==void 0)return sc;if(typeof document<"u")return document;throw new H(210,!1)}var su=new Z("",{providedIn:"root",factory:()=>Xw}),Xw="ng",au=new Z(""),jn=new Z("",{providedIn:"platform",factory:()=>"unknown"});var lu=new Z("",{providedIn:"root",factory:()=>Zp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var eb="h",tb="b";var Gp=!1,nb=new Z("",{providedIn:"root",factory:()=>Gp});var Wp=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Wp||{}),Zs=new Z(""),dh=new Set;function ib(e){dh.has(e)||(dh.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var rb=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:e,providedIn:"root",factory:()=>new e})}return e})();var ob=()=>null;function qp(e,t,n=!1){return ob(e,t,n)}function Yp(e,t){let n=e.contentQueries;if(n!==null){let r=oe(null);try{for(let s=0;s<n.length;s+=2){let l=n[s],c=n[s+1];if(c!==-1){let d=e.data[c];Jc(l),d.contentQueries(2,t[c],c)}}}finally{oe(r)}}}function ac(e,t,n){Jc(0);let r=oe(null);try{t(e,n)}finally{oe(r)}}function cu(e,t,n){if($c(t)){let r=oe(null);try{let s=t.directiveStart,l=t.directiveEnd;for(let c=s;c<l;c++){let d=e.data[c];if(d.contentQueries){let h=n[c];d.contentQueries(1,h,c)}}}finally{oe(r)}}}var jt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(jt||{}),es;function sb(){if(es===void 0&&(es=null,Yt.trustedTypes))try{es=Yt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return es}function Gs(e){return sb()?.createHTML(e)||e}var ts;function ab(){if(ts===void 0&&(ts=null,Yt.trustedTypes))try{ts=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ts}function fh(e){return ab()?.createHTML(e)||e}var Is=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lh})`}};function Ws(e){return e instanceof Is?e.changingThisBreaksApplicationSecurity:e}function Kp(e,t){let n=lb(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Lh})`)}return n===t}function lb(e){return e instanceof Is&&e.getTypeName()||null}function cb(e){let t=new cc(e);return ub()?new lc(t):t}var lc=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(Gs(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},cc=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=Gs(t),n}};function ub(){try{return!!new window.DOMParser().parseFromString(Gs(""),"text/html")}catch{return!1}}var db=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qp(e){return e=String(e),e.match(db)?e:"unsafe:"+e}function nn(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function Hr(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var Jp=nn("area,br,col,hr,img,wbr"),Xp=nn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),em=nn("rp,rt"),fb=Hr(em,Xp),hb=Hr(Xp,nn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pb=Hr(em,nn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hh=Hr(Jp,hb,pb,fb),tm=nn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mb=nn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gb=nn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),vb=Hr(tm,mb,gb),yb=nn("script,style,template"),uc=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,s=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){s.push(n),n=bb(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let l=wb(n);if(l){n=l;break}n=s.pop()}}return this.buf.join("")}startElement(t){let n=ph(t).toLowerCase();if(!hh.hasOwnProperty(n))return this.sanitizedSomething=!0,!yb.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let s=0;s<r.length;s++){let l=r.item(s),c=l.name,d=c.toLowerCase();if(!vb.hasOwnProperty(d)){this.sanitizedSomething=!0;continue}let h=l.value;tm[d]&&(h=Qp(h)),this.buf.push(" ",c,'="',mh(h),'"')}return this.buf.push(">"),!0}endElement(t){let n=ph(t).toLowerCase();hh.hasOwnProperty(n)&&!Jp.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(mh(t))}};function _b(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function wb(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw nm(t);return t}function bb(e){let t=e.firstChild;if(t&&_b(e,t))throw nm(t);return t}function ph(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function nm(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var Db=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Eb=/([^\#-~ |!])/g;function mh(e){return e.replace(/&/g,"&amp;").replace(Db,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(Eb,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ns;function Cb(e,t){let n=null;try{ns=ns||cb(e);let r=t?String(t):"";n=ns.getInertBodyElement(r);let s=5,l=r;do{if(s===0)throw new Error("Failed to sanitize html because the input is unstable");s--,r=l,l=n.innerHTML,n=ns.getInertBodyElement(r)}while(r!==l);let d=new uc().sanitizeChildren(gh(n)||n);return Gs(d)}finally{if(n){let r=gh(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function gh(e){return"content"in e&&Ib(e)?e.content:null}function Ib(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var uu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(uu||{});function qs(e){let t=im();return t?fh(t.sanitize(uu.HTML,e)||""):Kp(e,"HTML")?fh(Ws(e)):Cb(Zp(),Br(e))}function Ys(e){let t=im();return t?t.sanitize(uu.URL,e)||"":Kp(e,"URL")?Ws(e):Qp(Br(e))}function im(){let e=ue();return e&&e[Kt].sanitizer}var Mb=/^>|^->|<!--|-->|--!>|<!-$/g,Tb=/(<|>)/g,xb="\u200B$1\u200B";function Sb(e){return e.replace(Mb,t=>t.replace(Tb,xb))}function Pb(e,t,n){let r=e.length;for(;;){let s=e.indexOf(t,n);if(s===-1)return s;if(s===0||e.charCodeAt(s-1)<=32){let l=t.length;if(s+l===r||e.charCodeAt(s+l)<=32)return s}n=s+1}}var rm="ng-template";function Nb(e,t,n,r){let s=0;if(r){for(;s<t.length&&typeof t[s]=="string";s+=2)if(t[s]==="class"&&Pb(t[s+1].toLowerCase(),n,0)!==-1)return!0}else if(du(e))return!1;if(s=t.indexOf(1,s),s>-1){let l;for(;++s<t.length&&typeof(l=t[s])=="string";)if(l.toLowerCase()===n)return!0}return!1}function du(e){return e.type===4&&e.value!==rm}function Ob(e,t,n){let r=e.type===4&&!n?rm:e.value;return t===r}function Ab(e,t,n){let r=4,s=e.attrs,l=s!==null?Rb(s):0,c=!1;for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="number"){if(!c&&!Et(r)&&!Et(h))return!1;if(c&&Et(h))continue;c=!1,r=h|r&1;continue}if(!c)if(r&4){if(r=2|r&1,h!==""&&!Ob(e,h,n)||h===""&&t.length===1){if(Et(r))return!1;c=!0}}else if(r&8){if(s===null||!Nb(e,s,h,n)){if(Et(r))return!1;c=!0}}else{let m=t[++d],g=Lb(h,s,du(e),n);if(g===-1){if(Et(r))return!1;c=!0;continue}if(m!==""){let _;if(g>l?_="":_=s[g+1].toLowerCase(),r&2&&m!==_){if(Et(r))return!1;c=!0}}}}return Et(r)||c}function Et(e){return(e&1)===0}function Lb(e,t,n,r){if(t===null)return-1;let s=0;if(r||!n){let l=!1;for(;s<t.length;){let c=t[s];if(c===e)return s;if(c===3||c===6)l=!0;else if(c===1||c===2){let d=t[++s];for(;typeof d=="string";)d=t[++s];continue}else{if(c===4)break;if(c===0){s+=4;continue}}s+=l?1:2}return-1}else return Fb(t,e)}function om(e,t,n=!1){for(let r=0;r<t.length;r++)if(Ab(e,t[r],n))return!0;return!1}function kb(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function Rb(e){for(let t=0;t<e.length;t++){let n=e[t];if(Mw(n))return t}return e.length}function Fb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Bb(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let s=0;s<e.length;s++)if(e[s]!==r[s])continue e;return!0}}return!1}function vh(e,t){return e?":not("+t.trim()+")":t}function jb(e){let t=e[0],n=1,r=2,s="",l=!1;for(;n<e.length;){let c=e[n];if(typeof c=="string")if(r&2){let d=e[++n];s+="["+c+(d.length>0?'="'+d+'"':"")+"]"}else r&8?s+="."+c:r&4&&(s+=" "+c);else s!==""&&!Et(c)&&(t+=vh(l,s),s=""),r=c,l=l||!Et(r);n++}return s!==""&&(t+=vh(l,s)),t}function Vb(e){return e.map(jb).join(",")}function Hb(e){let t=[],n=[],r=1,s=2;for(;r<e.length;){let l=e[r];if(typeof l=="string")s===2?l!==""&&t.push(l,e[++r]):s===8&&n.push(l);else{if(!Et(s))break;s=l}r++}return n.length&&t.push(1,...n),t}var Ht={};function zb(e,t){return e.createText(t)}function Ub(e,t,n){e.setValue(t,n)}function $b(e,t){return e.createComment(Sb(t))}function sm(e,t,n){return e.createElement(t,n)}function Ms(e,t,n,r,s){e.insertBefore(t,n,r,s)}function am(e,t,n){e.appendChild(t,n)}function yh(e,t,n,r,s){r!==null?Ms(e,t,n,r,s):am(e,t,n)}function Zb(e,t,n){e.removeChild(null,t,n)}function Gb(e,t,n){e.setAttribute(t,"style",n)}function Wb(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function lm(e,t,n){let{mergedAttrs:r,classes:s,styles:l}=n;r!==null&&Iw(e,t,r),s!==null&&Wb(e,t,s),l!==null&&Gb(e,t,l)}function fu(e,t,n,r,s,l,c,d,h,m,g){let _=We+r,D=_+s,y=qb(_,D),b=typeof m=="function"?m():m;return y[Q]={type:e,blueprint:y,template:n,queries:null,viewQuery:d,declTNode:t,data:y.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof l=="function"?l():l,pipeRegistry:typeof c=="function"?c():c,firstChild:null,schemas:h,consts:b,incompleteFirstPass:!1,ssrId:g}}function qb(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ht);return n}function Yb(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=fu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function hu(e,t,n,r,s,l,c,d,h,m,g){let _=t.blueprint.slice();return _[en]=s,_[U]=r|4|128|8|64|1024,(m!==null||e&&e[U]&2048)&&(_[U]|=2048),sp(_),_[$e]=_[Ai]=e,_[et]=n,_[Kt]=c||e&&e[Kt],_[Te]=d||e&&e[Te],_[Mi]=h||e&&e[Mi]||null,_[tt]=l,_[Bs]=Qw(),_[Nr]=g,_[Qh]=m,_[yt]=t.type==2?e[yt]:_,_}function Kb(e,t,n){let r=Vt(t,e),s=Yb(n),l=e[Kt].rendererFactory,c=pu(e,hu(e,s,null,cm(n),r,t,null,l.createRenderer(r,n),null,null,null));return e[t.index]=c}function cm(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function um(e,t,n,r){if(n===0)return-1;let s=t.length;for(let l=0;l<n;l++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function pu(e,t){return e[Or]?e[Xf][Mt]=t:e[Or]=t,e[Xf]=t,t}function x(e=1){dm(Ve(),ue(),Fn()+e,!1)}function dm(e,t,n,r){if(!r)if((t[U]&3)===3){let l=e.preOrderCheckHooks;l!==null&&os(t,l,n)}else{let l=e.preOrderHooks;l!==null&&ss(t,l,0,n)}Pn(n)}var Ks=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ks||{});function dc(e,t,n,r){let s=oe(null);try{let[l,c,d]=e.inputs[n],h=null;(c&Ks.SignalBased)!==0&&(h=t[l][wr]),h!==null&&h.transformFn!==void 0?r=h.transformFn(r):d!==null&&(r=d.call(t,r)),e.setInput!==null?e.setInput(t,h,r,n,l):Xh(t,h,l,r)}finally{oe(s)}}function fm(e,t,n,r,s){let l=Fn(),c=r&2;try{Pn(-1),c&&t.length>We&&dm(e,t,We,!1),ve(c?2:0,s),n(r,s)}finally{Pn(l),ve(c?3:1,s)}}function Qs(e,t,n){nD(e,t,n),(n.flags&64)===64&&iD(e,t,n)}function mu(e,t,n=Vt){let r=t.localNames;if(r!==null){let s=t.index+1;for(let l=0;l<r.length;l+=2){let c=r[l+1],d=c===-1?n(t,e):e[c];e[s++]=d}}}function Qb(e,t,n,r){let l=r.get(nb,Gp)||n===jt.ShadowDom,c=e.selectRootElement(t,l);return Jb(c),c}function Jb(e){Xb(e)}var Xb=()=>null;function eD(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function hm(e,t,n,r,s,l,c,d){if(!d&&vu(t,e,n,r,s)){Li(t)&&tD(n,t.index);return}if(t.type&3){let h=Vt(t,n);r=eD(r),s=c!=null?c(s,t.value||"",r):s,l.setProperty(h,r,s)}else t.type&12}function tD(e,t){let n=Bt(t,e);n[U]&16||(n[U]|=64)}function nD(e,t,n){let r=n.directiveStart,s=n.directiveEnd;Li(n)&&Kb(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Cp(n,t);let l=n.initialInputs;for(let c=r;c<s;c++){let d=e.data[c],h=Ds(t,e,c,n);if(Fi(h,t),l!==null&&aD(t,c-r,h,d,n,l),Ln(d)){let m=Bt(n.index,t);m[et]=Ds(t,e,c,n)}}}function iD(e,t,n){let r=n.directiveStart,s=n.directiveEnd,l=n.index,c=gw();try{Pn(l);for(let d=r;d<s;d++){let h=e.data[d],m=t[d];Jl(d),(h.hostBindings!==null||h.hostVars!==0||h.hostAttrs!==null)&&rD(h,m)}}finally{Pn(-1),Jl(c)}}function rD(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function gu(e,t){let n=e.directiveRegistry,r=null;if(n)for(let s=0;s<n.length;s++){let l=n[s];om(t,l.selectors,!1)&&(r??=[],Ln(l)?r.unshift(l):r.push(l))}return r}function oD(e,t,n,r,s,l){let c=Vt(e,t);sD(t[Te],c,l,e.value,n,r,s)}function sD(e,t,n,r,s,l,c){if(l==null)e.removeAttribute(t,s,n);else{let d=c==null?Br(l):c(l,r||"",s);e.setAttribute(t,s,d,n)}}function aD(e,t,n,r,s,l){let c=l[t];if(c!==null)for(let d=0;d<c.length;d+=2){let h=c[d],m=c[d+1];dc(r,n,h,m)}}function lD(e,t){let n=e[Mi],r=n?n.get(Jt,null):null;r&&r.handleError(t)}function vu(e,t,n,r,s){let l=e.inputs?.[r],c=e.hostDirectiveInputs?.[r],d=!1;if(c)for(let h=0;h<c.length;h+=2){let m=c[h],g=c[h+1],_=t.data[m];dc(_,n[m],g,s),d=!0}if(l)for(let h of l){let m=n[h],g=t.data[h];dc(g,m,r,s),d=!0}return d}function cD(e,t){let n=Bt(t,e),r=n[Q];uD(r,n);let s=n[en];s!==null&&n[Nr]===null&&(n[Nr]=qp(s,n[Mi])),ve(18),yu(r,n,n[et]),ve(19,n[et])}function uD(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function yu(e,t,n){Xc(t);try{let r=e.viewQuery;r!==null&&ac(1,r,n);let s=e.template;s!==null&&fm(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Qt]?.finishViewCreation(e),e.staticContentQueries&&Yp(e,t),e.staticViewQueries&&ac(2,e.viewQuery,n);let l=e.components;l!==null&&dD(t,l)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[U]&=-5,eu()}}function dD(e,t){for(let n=0;n<t.length;n++)cD(e,t[n])}function pm(e,t,n,r){let s=oe(null);try{let l=t.tView,d=e[U]&4096?4096:16,h=hu(e,l,n,d,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),m=e[t.index];h[Tn]=m;let g=e[Qt];return g!==null&&(h[Qt]=g.createEmbeddedView(l)),yu(l,h,n),h}finally{oe(s)}}function fc(e,t){return!t||t.firstChild===null||Bp(e)}var fD;function _u(e,t){return fD(e,t)}var Xt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Xt||{});function wu(e){return(e.flags&32)===32}function Di(e,t,n,r,s){if(r!=null){let l,c=!1;tn(r)?l=r:dn(r)&&(c=!0,r=r[en]);let d=Ft(r);e===0&&n!==null?s==null?am(t,n,d):Ms(t,n,d,s||null,!0):e===1&&n!==null?Ms(t,n,d,s||null,!0):e===2?Zb(t,d,c):e===3&&t.destroyNode(d),l!=null&&DD(t,e,l,n,s)}}function hD(e,t){mm(e,t),t[en]=null,t[tt]=null}function pD(e,t,n,r,s,l){r[en]=s,r[tt]=t,Xs(e,r,n,1,s,l)}function mm(e,t){t[Kt].changeDetectionScheduler?.notify(9),Xs(e,t,t[Te],2,null,null)}function mD(e){let t=e[Or];if(!t)return kl(e[Q],e);for(;t;){let n=null;if(dn(t))n=t[Or];else{let r=t[at];r&&(n=r)}if(!n){for(;t&&!t[Mt]&&t!==e;)dn(t)&&kl(t[Q],t),t=t[$e];t===null&&(t=e),dn(t)&&kl(t[Q],t),n=t&&t[Mt]}t=n}}function bu(e,t){let n=e[Ti],r=n.indexOf(t);n.splice(r,1)}function gm(e,t){if(Vr(t))return;let n=t[Te];n.destroyNode&&Xs(e,t,n,3,null,null),mD(t)}function kl(e,t){if(Vr(t))return;let n=oe(null);try{t[U]&=-129,t[U]|=256,t[vt]&&ul(t[vt]),vD(e,t),gD(e,t),t[Q].type===1&&t[Te].destroy();let r=t[Tn];if(r!==null&&tn(t[$e])){r!==t[$e]&&bu(r,t);let s=t[Qt];s!==null&&s.detachView(e)}oc(t)}finally{oe(n)}}function gD(e,t){let n=e.cleanup,r=t[ms];if(n!==null)for(let c=0;c<n.length-1;c+=2)if(typeof n[c]=="string"){let d=n[c+3];d>=0?r[d]():r[-d].unsubscribe(),c+=2}else{let d=r[n[c+1]];n[c].call(d)}r!==null&&(t[ms]=null);let s=t[un];if(s!==null){t[un]=null;for(let c=0;c<s.length;c++){let d=s[c];d()}}let l=t[gs];if(l!==null){t[gs]=null;for(let c of l)c.destroy()}}function vD(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let s=t[n[r]];if(!(s instanceof Ar)){let l=n[r+1];if(Array.isArray(l))for(let c=0;c<l.length;c+=2){let d=s[l[c]],h=l[c+1];ve(4,d,h);try{h.call(d)}finally{ve(5,d,h)}}else{ve(4,s,l);try{l.call(s)}finally{ve(5,s,l)}}}}}function vm(e,t,n){return yD(e,t.parent,n)}function yD(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[en];if(Li(r)){let{encapsulation:s}=e.data[r.directiveStart+r.componentOffset];if(s===jt.None||s===jt.Emulated)return null}return Vt(r,n)}function ym(e,t,n){return wD(e,t,n)}function _D(e,t,n){return e.type&40?Vt(e,n):null}var wD=_D,_h;function Js(e,t,n,r){let s=vm(e,r,t),l=t[Te],c=r.parent||t[tt],d=ym(c,r,t);if(s!=null)if(Array.isArray(n))for(let h=0;h<n.length;h++)yh(l,s,n[h],d,!1);else yh(l,s,n,d,!1);_h!==void 0&&_h(l,r,t,n,s)}function Tr(e,t){if(t!==null){let n=t.type;if(n&3)return Vt(t,e);if(n&4)return hc(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Tr(e,r);{let s=e[t.index];return tn(s)?hc(-1,s):Ft(s)}}else{if(n&128)return Tr(e,t.next);if(n&32)return _u(t,e)()||Ft(e[t.index]);{let r=_m(e,t);if(r!==null){if(Array.isArray(r))return r[0];let s=Sn(e[yt]);return Tr(s,r)}else return Tr(e,t.next)}}}return null}function _m(e,t){if(t!==null){let r=e[yt][tt],s=t.projection;return r.projection[s]}return null}function hc(e,t){let n=at+e+1;if(n<t.length){let r=t[n],s=r[Q].firstChild;if(s!==null)return Tr(r,s)}return t[xn]}function Du(e,t,n,r,s,l,c){for(;n!=null;){if(n.type===128){n=n.next;continue}let d=r[n.index],h=n.type;if(c&&t===0&&(d&&Fi(Ft(d),r),n.flags|=2),!wu(n))if(h&8)Du(e,t,n.child,r,s,l,!1),Di(t,e,s,d,l);else if(h&32){let m=_u(n,r),g;for(;g=m();)Di(t,e,s,g,l);Di(t,e,s,d,l)}else h&16?wm(e,t,r,n,s,l):Di(t,e,s,d,l);n=c?n.projectionNext:n.next}}function Xs(e,t,n,r,s,l){Du(n,r,e.firstChild,t,s,l,!1)}function bD(e,t,n){let r=t[Te],s=vm(e,n,t),l=n.parent||t[tt],c=ym(l,n,t);wm(r,0,t,n,s,c)}function wm(e,t,n,r,s,l){let c=n[yt],h=c[tt].projection[r.projection];if(Array.isArray(h))for(let m=0;m<h.length;m++){let g=h[m];Di(t,e,s,g,l)}else{let m=h,g=c[$e];Bp(r)&&(m.flags|=128),Du(e,t,m,g,s,l,!0)}}function DD(e,t,n,r,s){let l=n[xn],c=Ft(n);l!==c&&Di(t,e,r,l,s);for(let d=at;d<n.length;d++){let h=n[d];Xs(h[Q],h,e,t,r,l)}}function ED(e,t,n,r,s){if(t)s?e.addClass(n,r):e.removeClass(n,r);else{let l=r.indexOf("-")===-1?void 0:Xt.DashCase;s==null?e.removeStyle(n,r,l):(typeof s=="string"&&s.endsWith("!important")&&(s=s.slice(0,-10),l|=Xt.Important),e.setStyle(n,r,s,l))}}function Ts(e,t,n,r,s=!1){for(;n!==null;){if(n.type===128){n=s?n.projectionNext:n.next;continue}let l=t[n.index];l!==null&&r.push(Ft(l)),tn(l)&&CD(l,r);let c=n.type;if(c&8)Ts(e,t,n.child,r);else if(c&32){let d=_u(n,t),h;for(;h=d();)r.push(h)}else if(c&16){let d=_m(t,n);if(Array.isArray(d))r.push(...d);else{let h=Sn(t[yt]);Ts(h[Q],h,d,r,!0)}}n=s?n.projectionNext:n.next}return r}function CD(e,t){for(let n=at;n<e.length;n++){let r=e[n],s=r[Q].firstChild;s!==null&&Ts(r[Q],r,s,t)}e[xn]!==e[en]&&t.push(e[xn])}function bm(e){if(e[Ol]!==null){for(let t of e[Ol])t.impl.addSequence(t);e[Ol].length=0}}var Dm=[];function ID(e){return e[vt]??MD(e)}function MD(e){let t=Dm.pop()??Object.create(xD);return t.lView=e,t}function TD(e){e.lView[vt]!==e&&(e.lView=null,Dm.push(e))}var xD=Ot(Ye({},al),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Hs(e.lView)},consumerOnSignalRead(){this.lView[vt]=this}});function SD(e){let t=e[vt]??Object.create(PD);return t.lView=e,t}var PD=Ot(Ye({},al),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Sn(e.lView);for(;t&&!Em(t[Q]);)t=Sn(t);t&&ap(t)},consumerOnSignalRead(){this.lView[vt]=this}});function Em(e){return e.type!==2}function Cm(e){if(e[gs]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[gs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[U]&8192)}}var ND=100;function Im(e,t=!0,n=0){let s=e[Kt].rendererFactory,l=!1;l||s.begin?.();try{OD(e,n)}catch(c){throw t&&lD(e,c),c}finally{l||s.end?.()}}function OD(e,t){let n=dp();try{th(!0),pc(e,t);let r=0;for(;Vs(e);){if(r===ND)throw new H(103,!1);r++,pc(e,1)}}finally{th(n)}}function AD(e,t,n,r){if(Vr(t))return;let s=t[U],l=!1,c=!1;Xc(t);let d=!0,h=null,m=null;l||(Em(e)?(m=ID(t),h=ll(m)):sl()===null?(d=!1,m=SD(t),h=ll(m)):t[vt]&&(ul(t[vt]),t[vt]=null));try{sp(t),hw(e.bindingStartIndex),n!==null&&fm(e,t,n,2,r);let g=(s&3)===3;if(!l)if(g){let y=e.preOrderCheckHooks;y!==null&&os(t,y,null)}else{let y=e.preOrderHooks;y!==null&&ss(t,y,0,null),Al(t,0)}if(c||LD(t),Cm(t),Mm(t,0),e.contentQueries!==null&&Yp(e,t),!l)if(g){let y=e.contentCheckHooks;y!==null&&os(t,y)}else{let y=e.contentHooks;y!==null&&ss(t,y,1),Al(t,1)}RD(e,t);let _=e.components;_!==null&&xm(t,_,0);let D=e.viewQuery;if(D!==null&&ac(2,D,r),!l)if(g){let y=e.viewCheckHooks;y!==null&&os(t,y)}else{let y=e.viewHooks;y!==null&&ss(t,y,2),Al(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Nl]){for(let y of t[Nl])y();t[Nl]=null}l||(bm(t),t[U]&=-73)}catch(g){throw l||Hs(t),g}finally{m!==null&&(gf(m,h),d&&TD(m)),eu()}}function Mm(e,t){for(let n=Hp(e);n!==null;n=zp(n))for(let r=at;r<n.length;r++){let s=n[r];Tm(s,t)}}function LD(e){for(let t=Hp(e);t!==null;t=zp(t)){if(!(t[U]&2))continue;let n=t[Ti];for(let r=0;r<n.length;r++){let s=n[r];ap(s)}}}function kD(e,t,n){ve(18);let r=Bt(t,e);Tm(r,n),ve(19,r[et])}function Tm(e,t){Zc(e)&&pc(e,t)}function pc(e,t){let r=e[Q],s=e[U],l=e[vt],c=!!(t===0&&s&16);if(c||=!!(s&64&&t===0),c||=!!(s&1024),c||=!!(l?.dirty&&cl(l)),c||=!1,l&&(l.dirty=!1),e[U]&=-9217,c)AD(r,e,r.template,e[et]);else if(s&8192){Cm(e),Mm(e,1);let d=r.components;d!==null&&xm(e,d,1),bm(e)}}function xm(e,t,n){for(let r=0;r<t.length;r++)kD(e,t[r],n)}function RD(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let s=n[r];if(s<0)Pn(~s);else{let l=s,c=n[++r],d=n[++r];mw(c,l);let h=t[l];ve(24,h),d(2,h),ve(25,h)}}}finally{Pn(-1)}}function Eu(e,t){let n=dp()?64:1088;for(e[Kt].changeDetectionScheduler?.notify(t);e;){e[U]|=n;let r=Sn(e);if(ys(e)&&!r)return e;e=r}return null}function Sm(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Pm(e,t,n,r=!0){let s=t[Q];if(FD(s,t,e,n),r){let c=hc(n,e),d=t[Te],h=d.parentNode(e[xn]);h!==null&&pD(s,e[tt],d,t,h,c)}let l=t[Nr];l!==null&&l.firstChild!==null&&(l.firstChild=null)}function mc(e,t){if(e.length<=at)return;let n=at+t,r=e[n];if(r){let s=r[Tn];s!==null&&s!==e&&bu(s,r),t>0&&(e[n-1][Mt]=r[Mt]);let l=fs(e,at+t);hD(r[Q],r);let c=l[Qt];c!==null&&c.detachView(l[Q]),r[$e]=null,r[Mt]=null,r[U]&=-129}return r}function FD(e,t,n,r){let s=at+r,l=n.length;r>0&&(n[s-1][Mt]=t),r<l-at?(t[Mt]=n[s],$h(n,at+r,t)):(n.push(t),t[Mt]=null),t[$e]=n;let c=t[Tn];c!==null&&n!==c&&Nm(c,t);let d=t[Qt];d!==null&&d.insertView(e),Kl(t),t[U]|=128}function Nm(e,t){let n=e[Ti],r=t[$e];if(dn(r))e[U]|=2;else{let s=r[$e][yt];t[yt]!==s&&(e[U]|=2)}n===null?e[Ti]=[t]:n.push(t)}var kr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[Q];return Ts(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[et]}set context(t){this._lView[et]=t}get destroyed(){return Vr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[$e];if(tn(t)){let n=t[vs],r=n?n.indexOf(this):-1;r>-1&&(mc(t,r),fs(n,r))}this._attachedToViewContainer=!1}gm(this._lView[Q],this._lView)}onDestroy(t){lp(this._lView,t)}markForCheck(){Eu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[U]&=-129}reattach(){Kl(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,Im(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ys(this._lView),n=this._lView[Tn];n!==null&&!t&&bu(n,this._lView),mm(this._lView[Q],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=t;let n=ys(this._lView),r=this._lView[Tn];r!==null&&!n&&Nm(r,this._lView),Kl(this._lView)}};var Nn=(()=>{class e{static __NG_ELEMENT_ID__=VD}return e})(),BD=Nn,jD=class extends BD{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let s=pm(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new kr(s)}};function VD(){return ea(Tt(),ue())}function ea(e,t){return e.type&4?new jD(t,e,ki(e,t)):null}function zr(e,t,n,r,s){let l=e.data[t];if(l===null)l=HD(e,t,n,r,s),pw()&&(l.flags|=32);else if(l.type&64){l.type=n,l.value=r,l.attrs=s;let c=uw();l.injectorIndex=c===null?-1:c.injectorIndex}return Rn(l,!0),l}function HD(e,t,n,r,s){let l=up(),c=Yc(),d=c?l:l&&l.parent,h=e.data[t]=UD(e,d,n,t,r,s);return zD(e,h,l,c),h}function zD(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function UD(e,t,n,r,s,l){let c=t?t.injectorIndex:-1,d=0;return cp()&&(d|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:s,attrs:l,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var XS=new RegExp(`^(\\d+)*(${tb}|${eb})*(.*)`);var $D=()=>null;function gc(e,t){return $D(e,t)}var ZD=class{},Om=class{},vc=class{resolveComponentFactory(t){throw Error(`No component factory found for ${gt(t)}.`)}},Cu=class{static NULL=new vc},Pi=class{},Am=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>GD()}return e})();function GD(){let e=ue(),t=Tt(),n=Bt(t.index,e);return(dn(n)?n:e)[Te]}var WD=(()=>{class e{static \u0275prov=z({token:e,providedIn:"root",factory:()=>null})}return e})();var Rl={},yc=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ks(r);let s=this.injector.get(t,Rl,r);return s!==Rl||n===Rl?s:this.parentInjector.get(t,n,r)}};function _c(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,l=0;if(t!==null)for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="number")l=d;else if(l==1)s=Hl(s,d);else if(l==2){let h=d,m=t[++c];r=Hl(r,h+": "+m+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function fe(e,t=te.Default){let n=ue();if(n===null)return V(e,t);let r=Tt();return xp(r,n,It(e),t)}function Iu(e,t,n,r,s){let l=r===null?null:{"":-1},c=s(e,n);if(c!==null){let d,h=null,m=null,g=YD(c);g===null?d=c:[d,h,m]=g,JD(e,t,n,d,l,h,m)}l!==null&&r!==null&&qD(n,r,l)}function qD(e,t,n){let r=e.localNames=[];for(let s=0;s<t.length;s+=2){let l=n[t[s+1]];if(l==null)throw new H(-301,!1);r.push(t[s],l)}}function YD(e){let t=null,n=!1;for(let c=0;c<e.length;c++){let d=e[c];if(c===0&&Ln(d)&&(t=d),d.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,s=null,l=null;for(let c of e)c.findHostDirectiveDefs!==null&&(r??=[],s??=new Map,l??=new Map,KD(c,r,l,s)),c===t&&(r??=[],r.push(c));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,s,l]):null}function KD(e,t,n,r){let s=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[s,t.length-1])}function QD(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function JD(e,t,n,r,s,l,c){let d=r.length,h=!1;for(let D=0;D<d;D++){let y=r[D];!h&&Ln(y)&&(h=!0,QD(e,n,D)),Ow(Cp(n,t),e,y.type)}r0(n,e.data.length,d);for(let D=0;D<d;D++){let y=r[D];y.providersResolver&&y.providersResolver(y)}let m=!1,g=!1,_=um(e,t,d,null);d>0&&(n.directiveToIndex=new Map);for(let D=0;D<d;D++){let y=r[D];if(n.mergedAttrs=$s(n.mergedAttrs,y.hostAttrs),e0(e,n,t,_,y),i0(_,y,s),c!==null&&c.has(y)){let[I,P]=c.get(y);n.directiveToIndex.set(y.type,[_,I+n.directiveStart,P+n.directiveStart])}else(l===null||!l.has(y))&&n.directiveToIndex.set(y.type,_);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let b=y.type.prototype;!m&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),m=!0),!g&&(b.ngOnChanges||b.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),g=!0),_++}XD(e,n,l)}function XD(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let s=e.data[r];if(n===null||!n.has(s))wh(0,t,s,r),wh(1,t,s,r),Dh(t,r,!1);else{let l=n.get(s);bh(0,t,l,r),bh(1,t,l,r),Dh(t,r,!0)}}}function wh(e,t,n,r){let s=e===0?n.inputs:n.outputs;for(let l in s)if(s.hasOwnProperty(l)){let c;e===0?c=t.inputs??={}:c=t.outputs??={},c[l]??=[],c[l].push(r),Lm(t,l)}}function bh(e,t,n,r){let s=e===0?n.inputs:n.outputs;for(let l in s)if(s.hasOwnProperty(l)){let c=s[l],d;e===0?d=t.hostDirectiveInputs??={}:d=t.hostDirectiveOutputs??={},d[c]??=[],d[c].push(r,l),Lm(t,c)}}function Lm(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Dh(e,t,n){let{attrs:r,inputs:s,hostDirectiveInputs:l}=e;if(r===null||!n&&s===null||n&&l===null||du(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let c=null,d=0;for(;d<r.length;){let h=r[d];if(h===0){d+=4;continue}else if(h===5){d+=2;continue}else if(typeof h=="number")break;if(!n&&s.hasOwnProperty(h)){let m=s[h];for(let g of m)if(g===t){c??=[],c.push(h,r[d+1]);break}}else if(n&&l.hasOwnProperty(h)){let m=l[h];for(let g=0;g<m.length;g+=2)if(m[g]===t){c??=[],c.push(m[g+1],r[d+1]);break}}d+=2}e.initialInputs??=[],e.initialInputs.push(c)}function e0(e,t,n,r,s){e.data[r]=s;let l=s.factory||(s.factory=Ci(s.type,!0)),c=new Ar(l,Ln(s),fe);e.blueprint[r]=c,n[r]=c,t0(e,t,r,um(e,n,s.hostVars,Ht),s)}function t0(e,t,n,r,s){let l=s.hostBindings;if(l){let c=e.hostBindingOpCodes;c===null&&(c=e.hostBindingOpCodes=[]);let d=~t.index;n0(c)!=d&&c.push(d),c.push(n,r,l)}}function n0(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function i0(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ln(t)&&(n[""]=e)}}function r0(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function km(e,t,n,r,s,l,c,d){let h=t.consts,m=xi(h,c),g=zr(t,e,2,r,m);return l&&Iu(t,n,g,xi(h,d),s),g.mergedAttrs=$s(g.mergedAttrs,g.attrs),g.attrs!==null&&_c(g,g.attrs,!1),g.mergedAttrs!==null&&_c(g,g.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,g),g}function Rm(e,t){nu(e,t),$c(t)&&e.queries.elementEnd(t)}var wc=class extends Cu{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Sr(t);return new xs(n,this.ngModule)}};function o0(e){return Object.keys(e).map(t=>{let[n,r,s]=e[t],l={propName:n,templateName:t,isSignal:(r&Ks.SignalBased)!==0};return s&&(l.transform=s),l})}function s0(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function a0(e,t,n){let r=t instanceof Rt?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new yc(n,r):n}function l0(e){let t=e.get(Pi,null);if(t===null)throw new H(407,!1);let n=e.get(WD,null),r=e.get(Lr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function c0(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return sm(t,n,n==="svg"?J_:n==="math"?X_:null)}var xs=class extends Om{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=o0(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=s0(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Vb(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,s){ve(22);let l=oe(null);try{let c=this.componentDef,d=r?["ng-version","19.2.5"]:Hb(this.componentDef.selectors[0]),h=fu(0,null,null,1,0,null,null,null,null,[d],null),m=a0(c,s||this.ngModule,t),g=l0(m),_=g.rendererFactory.createRenderer(null,c),D=r?Qb(_,r,c.encapsulation,m):c0(c,_),y=hu(null,h,null,512|cm(c),null,null,g,_,m,null,qp(D,m,!0));y[We]=D,Xc(y);let b=null;try{let I=km(We,h,y,"#host",()=>[this.componentDef],!0,0);D&&(lm(_,D,I),Fi(D,y)),Qs(h,y,I),cu(h,I,y),Rm(h,I),n!==void 0&&u0(I,this.ngContentSelectors,n),b=Bt(I.index,y),y[et]=b[et],yu(h,y,null)}catch(I){throw b!==null&&oc(b),oc(y),I}finally{ve(23),eu()}return new bc(this.componentType,y)}finally{oe(l)}}},bc=class extends ZD{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=rp(n[Q],We),this.location=ki(this._tNode,n),this.instance=Bt(this._tNode.index,n)[et],this.hostView=this.changeDetectorRef=new kr(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let s=this._rootLView,l=vu(r,s[Q],s,t,n);this.previousInputValues.set(t,n);let c=Bt(r.index,s);Eu(c,1)}get injector(){return new Mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function u0(e,t,n){let r=e.projection=[];for(let s=0;s<t.length;s++){let l=n[s];r.push(l!=null&&l.length?Array.from(l):null)}}var Bi=(()=>{class e{static __NG_ELEMENT_ID__=d0}return e})();function d0(){let e=Tt();return Bm(e,ue())}var f0=Bi,Fm=class extends f0{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ki(this._hostTNode,this._hostLView)}get injector(){return new Mn(this._hostTNode,this._hostLView)}get parentInjector(){let t=iu(this._hostTNode,this._hostLView);if(bp(t)){let n=ws(t,this._hostLView),r=_s(t),s=n[Q].data[r+8];return new Mn(s,n)}else return new Mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Eh(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-at}createEmbeddedView(t,n,r){let s,l;typeof r=="number"?s=r:r!=null&&(s=r.index,l=r.injector);let c=gc(this._lContainer,t.ssrId),d=t.createEmbeddedViewImpl(n||{},l,c);return this.insertImpl(d,s,fc(this._hostTNode,c)),d}createComponent(t,n,r,s,l){let c=t&&!q_(t),d;if(c)d=n;else{let b=n||{};d=b.index,r=b.injector,s=b.projectableNodes,l=b.environmentInjector||b.ngModuleRef}let h=c?t:new xs(Sr(t)),m=r||this.parentInjector;if(!l&&h.ngModule==null){let I=(c?m:this.parentInjector).get(Rt,null);I&&(l=I)}let g=Sr(h.componentType??{}),_=gc(this._lContainer,g?.id??null),D=_?.firstChild??null,y=h.create(m,s,D,l);return this.insertImpl(y.hostView,d,fc(this._hostTNode,_)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let s=t._lView;if(tw(s)){let d=this.indexOf(t);if(d!==-1)this.detach(d);else{let h=s[$e],m=new Fm(h,h[tt],h[$e]);m.detach(m.indexOf(t))}}let l=this._adjustIndex(n),c=this._lContainer;return Pm(c,s,l,r),t.attachToViewContainerRef(),$h(Fl(c),l,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Eh(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=mc(this._lContainer,n);r&&(fs(Fl(this._lContainer),n),gm(r[Q],r))}detach(t){let n=this._adjustIndex(t,-1),r=mc(this._lContainer,n);return r&&fs(Fl(this._lContainer),n)!=null?new kr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Eh(e){return e[vs]}function Fl(e){return e[vs]||(e[vs]=[])}function Bm(e,t){let n,r=t[e.index];return tn(r)?n=r:(n=Sm(r,t,null,e),t[e.index]=n,pu(t,n)),p0(n,t,e,r),new Fm(n,e,t)}function h0(e,t){let n=e[Te],r=n.createComment(""),s=Vt(t,e),l=n.parentNode(s);return Ms(n,l,r,n.nextSibling(s),!1),r}var p0=v0,m0=()=>!1;function g0(e,t,n){return m0(e,t,n)}function v0(e,t,n,r){if(e[xn])return;let s;n.type&8?s=Ft(r):s=h0(t,n),e[xn]=s}var Dc=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Ec=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,s=[];for(let l=0;l<r;l++){let c=n.getByIndex(l),d=this.queries[c.indexInDeclarationView];s.push(d.clone())}return new e(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Mu(t,n).matches!==null&&this.queries[n].setDirty()}},Cc=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=I0(t):this.predicate=t}},Ic=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let s=n!==null?n.length:0,l=this.getByIndex(r).embeddedTView(t,s);l&&(l.indexInDeclarationView=r,n!==null?n.push(l):n=[l])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Mc=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){let l=r[s];this.matchTNodeWithReadOption(t,n,y0(n,l)),this.matchTNodeWithReadOption(t,n,as(n,t,l,!1,!1))}else r===Nn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,as(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let s=this.metadata.read;if(s!==null)if(s===Ri||s===Bi||s===Nn&&n.type&4)this.addMatch(n.index,-2);else{let l=as(n,t,s,!1,!1);l!==null&&this.addMatch(n.index,l)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function y0(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function _0(e,t){return e.type&11?ki(e,t):e.type&4?ea(e,t):null}function w0(e,t,n,r){return n===-1?_0(t,e):n===-2?b0(e,t,r):Ds(e,e[Q],n,t)}function b0(e,t,n){if(n===Ri)return ki(t,e);if(n===Nn)return ea(t,e);if(n===Bi)return Bm(t,e)}function jm(e,t,n,r){let s=t[Qt].queries[r];if(s.matches===null){let l=e.data,c=n.matches,d=[];for(let h=0;c!==null&&h<c.length;h+=2){let m=c[h];if(m<0)d.push(null);else{let g=l[m];d.push(w0(t,g,c[h+1],n.metadata.read))}}s.matches=d}return s.matches}function Tc(e,t,n,r){let s=e.queries.getByIndex(n),l=s.matches;if(l!==null){let c=jm(e,t,s,n);for(let d=0;d<l.length;d+=2){let h=l[d];if(h>0)r.push(c[d/2]);else{let m=l[d+1],g=t[-h];for(let _=at;_<g.length;_++){let D=g[_];D[Tn]===D[$e]&&Tc(D[Q],D,m,r)}if(g[Ti]!==null){let _=g[Ti];for(let D=0;D<_.length;D++){let y=_[D];Tc(y[Q],y,m,r)}}}}}return r}function D0(e,t){return e[Qt].queries[t].queryList}function E0(e,t,n){let r=new rc((n&4)===4);return rw(e,t,r,r.destroy),(t[Qt]??=new Ec).queries.push(new Dc(r))-1}function C0(e,t,n){let r=Ve();return r.firstCreatePass&&(M0(r,new Cc(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),E0(r,ue(),t)}function I0(e){return e.split(",").map(t=>t.trim())}function M0(e,t,n){e.queries===null&&(e.queries=new Ic),e.queries.track(new Mc(t,n))}function Mu(e,t){return e.queries.getByIndex(t)}function T0(e,t){let n=e[Q],r=Mu(n,t);return r.crossesNgTemplate?Tc(n,e,t,[]):jm(n,e,r,t)}var Ss=class{};var Ps=class extends Ss{injector;componentFactoryResolver=new wc(this);instance=null;constructor(t){super();let n=new Pr([...t.providers,{provide:Ss,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],t.parent||Uc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function x0(e,t,n=null){return new Ps({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var S0=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=qh(!1,n.type),s=r.length>0?x0([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(V(Rt))})}return e})();function Ze(e){return Ls(()=>{let t=Hm(e),n=Ot(Ye({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===jp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?s=>s.get(S0).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||jt.Emulated,styles:e.styles||st,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&ib("NgStandalone"),zm(n);let r=e.dependencies;return n.directiveDefs=Ch(r,!1),n.pipeDefs=Ch(r,!0),n.id=L0(n),n})}function P0(e){return Sr(e)||R_(e)}function N0(e){return e!==null}function ji(e){return Ls(()=>({type:e.type,bootstrap:e.bootstrap||st,declarations:e.declarations||st,imports:e.imports||st,exports:e.exports||st,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function O0(e,t){if(e==null)return Ii;let n={};for(let r in e)if(e.hasOwnProperty(r)){let s=e[r],l,c,d,h;Array.isArray(s)?(d=s[0],l=s[1],c=s[2]??l,h=s[3]||null):(l=s,c=s,d=Ks.None,h=null),n[l]=[r,d,h],t[l]=c}return n}function A0(e){if(e==null)return Ii;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ta(e){return Ls(()=>{let t=Hm(e);return zm(t),t})}function Vm(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Hm(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Ii,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||st,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:O0(e.inputs,t),outputs:A0(e.outputs),debugInfo:null}}function zm(e){e.features?.forEach(t=>t(e))}function Ch(e,t){if(!e)return null;let n=t?F_:P0;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(N0)}function L0(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let l of r.join("|"))t=Math.imul(31,t)+l.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Um(e){return R0(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function k0(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function R0(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function F0(e,t,n){return e[t]=n}function On(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function B0(e,t,n,r){let s=On(e,t,n);return On(e,t+1,r)||s}function j0(e,t,n,r,s,l,c,d,h){let m=t.consts,g=zr(t,e,4,c||null,d||null);qc()&&Iu(t,n,g,xi(m,h),gu),g.mergedAttrs=$s(g.mergedAttrs,g.attrs),nu(t,g);let _=g.tView=fu(2,g,r,s,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m,null);return t.queries!==null&&(t.queries.template(t,g),_.queries=t.queries.embeddedTView(g)),g}function $m(e,t,n,r,s,l,c,d,h,m){let g=n+We,_=t.firstCreatePass?j0(g,t,e,r,s,l,c,d,h):t.data[g];Rn(_,!1);let D=V0(t,e,_,n);zs()&&Js(t,e,D,_),Fi(D,e);let y=Sm(D,e,D,_);return e[g]=y,pu(e,y),g0(y,_,e),js(_)&&Qs(t,e,_),h!=null&&mu(e,_,m),_}function Le(e,t,n,r,s,l,c,d){let h=ue(),m=Ve(),g=xi(m.consts,l);return $m(h,m,e,t,n,r,s,g,c,d),Le}var V0=H0;function H0(e,t,n,r){return Us(!0),t[Te].createComment("")}var Zm=new Z("");var z0=(()=>{class e{static \u0275prov=z({token:e,providedIn:"root",factory:()=>new xc})}return e})(),xc=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Tu(e){return!!e&&typeof e.then=="function"}function Gm(e){return!!e&&typeof e.subscribe=="function"}var U0=new Z("");var Wm=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=q(U0,{optional:!0})??[];injector=q(Si);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let l=Fs(this.injector,s);if(Tu(l))n.push(l);else if(Gm(l)){let c=new Promise((d,h)=>{l.subscribe({complete:d,error:h})});n.push(c)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$0=new Z("");function Z0(){pl(()=>{throw new H(600,!1)})}function G0(e){return e.isBoundToModule}var W0=10;var Rr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=q(Gw);afterRenderManager=q(rb);zonelessEnabled=q(Ap);rootEffectScheduler=q(z0);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Lt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=q(Bn).hasPendingTasks.pipe(mt(n=>!n));constructor(){q(Zs,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=q(Rt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){ve(10);let s=n instanceof Om;if(!this._injector.get(Wm).done){let D="";throw new H(405,D)}let c;s?c=n:c=this._injector.get(Cu).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let d=G0(c)?void 0:this._injector.get(Ss),h=r||c.selector,m=c.create(Si.NULL,[],h,d),g=m.location.nativeElement,_=m.injector.get(Zm,null);return _?.registerApplication(g),m.onDestroy(()=>{this.detachView(m.hostView),ls(this.components,m),_?.unregisterApplication(g)}),this._loadComponent(m),ve(11,m),m}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Wp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let n=oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,oe(n),this.afterTick.next(),ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Pi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<W0;)ve(14),this.synchronizeOnce(),ve(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:s}of this.allViews)q0(r,s,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Vs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ls(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get($0,[]).forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ls(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new H(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ls(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function q0(e,t,n,r){if(!n&&!Vs(e))return;Im(e,t,n&&!r?0:1)}function Ur(e,t,n,r){let s=ue(),l=Qc();if(On(s,l,t)){let c=Ve(),d=tu();oD(d,s,e,t,n,r)}return Ur}function qm(e,t,n,r){return On(e,Qc(),n)?t+Br(n)+r:Ht}function is(e,t){return e<<17|t<<2}function An(e){return e>>17&32767}function Y0(e){return(e&2)==2}function K0(e,t){return e&131071|t<<17}function Sc(e){return e|2}function Ni(e){return(e&131068)>>2}function Bl(e,t){return e&-131069|t<<2}function Q0(e){return(e&1)===1}function Pc(e){return e|1}function J0(e,t,n,r,s,l){let c=l?t.classBindings:t.styleBindings,d=An(c),h=Ni(c);e[r]=n;let m=!1,g;if(Array.isArray(n)){let _=n;g=_[1],(g===null||jr(_,g)>0)&&(m=!0)}else g=n;if(s)if(h!==0){let D=An(e[d+1]);e[r+1]=is(D,d),D!==0&&(e[D+1]=Bl(e[D+1],r)),e[d+1]=K0(e[d+1],r)}else e[r+1]=is(d,0),d!==0&&(e[d+1]=Bl(e[d+1],r)),d=r;else e[r+1]=is(h,0),d===0?d=r:e[h+1]=Bl(e[h+1],r),h=r;m&&(e[r+1]=Sc(e[r+1])),Ih(e,g,r,!0),Ih(e,g,r,!1),X0(t,g,e,r,l),c=is(d,h),l?t.classBindings=c:t.styleBindings=c}function X0(e,t,n,r,s){let l=s?e.residualClasses:e.residualStyles;l!=null&&typeof t=="string"&&jr(l,t)>=0&&(n[r+1]=Pc(n[r+1]))}function Ih(e,t,n,r){let s=e[n+1],l=t===null,c=r?An(s):Ni(s),d=!1;for(;c!==0&&(d===!1||l);){let h=e[c],m=e[c+1];eE(h,t)&&(d=!0,e[c+1]=r?Pc(m):Sc(m)),c=r?An(m):Ni(m)}d&&(e[n+1]=r?Sc(s):Pc(s))}function eE(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?jr(e,t)>=0:!1}var Ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tE(e){return e.substring(Ct.key,Ct.keyEnd)}function nE(e){return iE(e),Ym(e,Km(e,0,Ct.textEnd))}function Ym(e,t){let n=Ct.textEnd;return n===t?-1:(t=Ct.keyEnd=rE(e,Ct.key=t,n),Km(e,t,n))}function iE(e){Ct.key=0,Ct.keyEnd=0,Ct.value=0,Ct.valueEnd=0,Ct.textEnd=e.length}function Km(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function rE(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function j(e,t,n){let r=ue(),s=Qc();if(On(r,s,t)){let l=Ve(),c=tu();hm(l,c,r,e,t,r[Te],n,!1)}return j}function Nc(e,t,n,r,s){vu(t,e,n,s?"class":"style",r)}function Vi(e,t,n){return Jm(e,t,n,!1),Vi}function $r(e,t){return Jm(e,t,null,!0),$r}function Qm(e){sE(fE,oE,e,!0)}function oE(e,t){for(let n=nE(t);n>=0;n=Ym(t,n))Vc(e,tE(t),!0)}function Jm(e,t,n,r){let s=ue(),l=Ve(),c=fp(2);if(l.firstUpdatePass&&eg(l,e,c,r),t!==Ht&&On(s,c,t)){let d=l.data[Fn()];tg(l,d,s,s[Te],e,s[c+1]=pE(t,n),r,c)}}function sE(e,t,n,r){let s=Ve(),l=fp(2);s.firstUpdatePass&&eg(s,null,l,r);let c=ue();if(n!==Ht&&On(c,l,n)){let d=s.data[Fn()];if(ng(d,r)&&!Xm(s,l)){let h=r?d.classesWithoutHost:d.stylesWithoutHost;h!==null&&(n=Hl(h,n||"")),Nc(s,d,c,n,r)}else hE(s,d,c,c[Te],c[l+1],c[l+1]=dE(e,t,n),r,l)}}function Xm(e,t){return t>=e.expandoStartIndex}function eg(e,t,n,r){let s=e.data;if(s[n+1]===null){let l=s[Fn()],c=Xm(e,n);ng(l,r)&&t===null&&!c&&(t=!1),t=aE(s,l,t,r),J0(s,l,t,n,c,r)}}function aE(e,t,n,r){let s=vw(e),l=r?t.residualClasses:t.residualStyles;if(s===null)(r?t.classBindings:t.styleBindings)===0&&(n=jl(null,e,t,n,r),n=Fr(n,t.attrs,r),l=null);else{let c=t.directiveStylingLast;if(c===-1||e[c]!==s)if(n=jl(s,e,t,n,r),l===null){let h=lE(e,t,r);h!==void 0&&Array.isArray(h)&&(h=jl(null,e,t,h[1],r),h=Fr(h,t.attrs,r),cE(e,t,r,h))}else l=uE(e,t,r)}return l!==void 0&&(r?t.residualClasses=l:t.residualStyles=l),n}function lE(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Ni(r)!==0)return e[An(r)]}function cE(e,t,n,r){let s=n?t.classBindings:t.styleBindings;e[An(s)]=r}function uE(e,t,n){let r,s=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<s;l++){let c=e[l].hostAttrs;r=Fr(r,c,n)}return Fr(r,t.attrs,n)}function jl(e,t,n,r,s){let l=null,c=n.directiveEnd,d=n.directiveStylingLast;for(d===-1?d=n.directiveStart:d++;d<c&&(l=t[d],r=Fr(r,l.hostAttrs,s),l!==e);)d++;return e!==null&&(n.directiveStylingLast=d),r}function Fr(e,t,n){let r=n?1:2,s=-1;if(t!==null)for(let l=0;l<t.length;l++){let c=t[l];typeof c=="number"?s=c:s===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Vc(e,c,n?!0:t[++l]))}return e===void 0?null:e}function dE(e,t,n){if(n==null||n==="")return st;let r=[],s=Ws(n);if(Array.isArray(s))for(let l=0;l<s.length;l++)e(r,s[l],!0);else if(typeof s=="object")for(let l in s)s.hasOwnProperty(l)&&e(r,l,s[l]);else typeof s=="string"&&t(r,s);return r}function fE(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Vc(e,r,n)}function hE(e,t,n,r,s,l,c,d){s===Ht&&(s=st);let h=0,m=0,g=0<s.length?s[0]:null,_=0<l.length?l[0]:null;for(;g!==null||_!==null;){let D=h<s.length?s[h+1]:void 0,y=m<l.length?l[m+1]:void 0,b=null,I;g===_?(h+=2,m+=2,D!==y&&(b=_,I=y)):_===null||g!==null&&g<_?(h+=2,b=g):(m+=2,b=_,I=y),b!==null&&tg(e,t,n,r,b,I,c,d),g=h<s.length?s[h]:null,_=m<l.length?l[m]:null}}function tg(e,t,n,r,s,l,c,d){if(!(t.type&3))return;let h=e.data,m=h[d+1],g=Q0(m)?Mh(h,t,n,s,Ni(m),c):void 0;if(!Ns(g)){Ns(l)||Y0(m)&&(l=Mh(h,null,n,s,d,c));let _=ip(Fn(),n);ED(r,c,_,s,l)}}function Mh(e,t,n,r,s,l){let c=t===null,d;for(;s>0;){let h=e[s],m=Array.isArray(h),g=m?h[1]:h,_=g===null,D=n[s+1];D===Ht&&(D=_?st:void 0);let y=_?Sl(D,r):g===r?D:void 0;if(m&&!Ns(y)&&(y=Sl(h,r)),Ns(y)&&(d=y,c))return d;let b=e[s+1];s=c?An(b):Ni(b)}if(t!==null){let h=l?t.residualClasses:t.residualStyles;h!=null&&(d=Sl(h,r))}return d}function Ns(e){return e!==void 0}function pE(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=gt(Ws(e)))),e}function ng(e,t){return(e.flags&(t?8:16))!==0}function S(e,t,n,r){let s=ue(),l=Ve(),c=We+e,d=s[Te],h=l.firstCreatePass?km(c,l,s,t,gu,qc(),n,r):l.data[c],m=mE(l,s,h,d,t,e);s[c]=m;let g=js(h);return Rn(h,!0),lm(d,m,h),!wu(h)&&zs()&&Js(l,s,m,h),(ow()===0||g)&&Fi(m,s),sw(),g&&(Qs(l,s,h),cu(l,h,s)),r!==null&&mu(s,h),S}function T(){let e=Tt();Yc()?Kc():(e=e.parent,Rn(e,!1));let t=e;lw(t)&&cw(),aw();let n=Ve();return n.firstCreatePass&&Rm(n,t),t.classesWithoutHost!=null&&Ew(t)&&Nc(n,t,ue(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Cw(t)&&Nc(n,t,ue(),t.stylesWithoutHost,!1),T}function nt(e,t,n,r){return S(e,t,n,r),T(),nt}var mE=(e,t,n,r,s,l)=>(Us(!0),sm(r,s,ww()));function gE(e,t,n,r,s){let l=t.consts,c=xi(l,r),d=zr(t,e,8,"ng-container",c);c!==null&&_c(d,c,!0);let h=xi(l,s);return qc()&&Iu(t,n,d,h,gu),d.mergedAttrs=$s(d.mergedAttrs,d.attrs),t.queries!==null&&t.queries.elementStart(t,d),d}function Hi(e,t,n){let r=ue(),s=Ve(),l=e+We,c=s.firstCreatePass?gE(l,s,r,t,n):s.data[l];Rn(c,!0);let d=vE(s,r,c,e);return r[l]=d,zs()&&Js(s,r,d,c),Fi(d,r),js(c)&&(Qs(s,r,c),cu(s,c,r)),n!=null&&mu(r,c),Hi}function zi(){let e=Tt(),t=Ve();return Yc()?Kc():(e=e.parent,Rn(e,!1)),t.firstCreatePass&&(nu(t,e),$c(e)&&t.queries.elementEnd(e)),zi}var vE=(e,t,n,r)=>(Us(!0),$b(t[Te],""));function Vn(){return ue()}var Cn=void 0;function yE(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var _E=["en",[["a","p"],["AM","PM"],Cn],[["AM","PM"],Cn,Cn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cn,"{1} 'at' {0}",Cn],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",yE],Vl={};function xu(e){let t=wE(e),n=Th(t);if(n)return n;let r=t.split("-")[0];if(n=Th(r),n)return n;if(r==="en")return _E;throw new H(701,!1)}function Th(e){return e in Vl||(Vl[e]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[e]),Vl[e]}var Ui=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ui||{});function wE(e){return e.toLowerCase().replace(/_/g,"-")}var Os="en-US";var bE=Os;function DE(e){typeof e=="string"&&(bE=e.toLowerCase().replace(/_/g,"-"))}function xh(e,t,n){return function r(s){if(s===Function)return n;let l=Li(e)?Bt(e.index,t):t;Eu(l,5);let c=t[et],d=Sh(t,c,n,s),h=r.__ngNextListenerFn__;for(;h;)d=Sh(t,c,h,s)&&d,h=h.__ngNextListenerFn__;return d}}function Sh(e,t,n,r){let s=oe(null);try{return ve(6,t,n),n(r)!==!1}catch(l){return EE(e,l),!1}finally{ve(7,t,n),oe(s)}}function EE(e,t){let n=e[Mi],r=n?n.get(Jt,null):null;r&&r.handleError(t)}function Ph(e,t,n,r,s,l){let c=t[n],d=t[Q],m=d.data[n].outputs[r],g=c[m],_=d.firstCreatePass?Wc(d):null,D=Gc(t),y=g.subscribe(l),b=D.length;D.push(l,y),_&&_.push(s,e.index,b,-(b+1))}var CE=(e,t,n)=>{};function Ce(e,t,n,r){let s=ue(),l=Ve(),c=Tt();return ME(l,s,s[Te],c,e,t,r),Ce}function IE(e,t,n,r){let s=e.cleanup;if(s!=null)for(let l=0;l<s.length-1;l+=2){let c=s[l];if(c===n&&s[l+1]===r){let d=t[ms],h=s[l+2];return d.length>h?d[h]:null}typeof c=="string"&&(l+=2)}return null}function ME(e,t,n,r,s,l,c){let d=js(r),m=e.firstCreatePass?Wc(e):null,g=Gc(t),_=!0;if(r.type&3||c){let D=Vt(r,t),y=c?c(D):D,b=g.length,I=c?N=>c(Ft(N[r.index])):r.index,P=null;if(!c&&d&&(P=IE(e,t,s,r.index)),P!==null){let N=P.__ngLastListenerFn__||P;N.__ngNextListenerFn__=l,P.__ngLastListenerFn__=l,_=!1}else{l=xh(r,t,l),CE(y,s,l);let N=n.listen(y,s,l);g.push(l,N),m&&m.push(s,I,b,b+1)}}else l=xh(r,t,l);if(_){let D=r.outputs?.[s],y=r.hostDirectiveOutputs?.[s];if(y&&y.length)for(let b=0;b<y.length;b+=2){let I=y[b],P=y[b+1];Ph(r,t,I,P,s,l)}if(D&&D.length)for(let b of D)Ph(r,t,b,s,s,l)}}function Ie(e=1){return _w(e)}function TE(e,t){let n=null,r=kb(e);for(let s=0;s<t.length;s++){let l=t[s];if(l==="*"){n=s;continue}if(r===null?om(e,l,!0):Bb(r,l))return s}return n}function ig(e){let t=ue()[yt][tt];if(!t.projection){let n=e?e.length:1,r=t.projection=A_(n,null),s=r.slice(),l=t.child;for(;l!==null;){if(l.type!==128){let c=e?TE(l,e):0;c!==null&&(s[c]?s[c].projectionNext=l:r[c]=l,s[c]=l)}l=l.next}}}function rg(e,t=0,n,r,s,l){let c=ue(),d=Ve(),h=r?e+1:null;h!==null&&$m(c,d,h,r,s,l,null,n);let m=zr(d,We+e,16,null,n||null);m.projection===null&&(m.projection=t),Kc();let _=!c[Nr]||cp();c[yt][tt].projection[m.projection]===null&&h!==null?xE(c,d,h):_&&!wu(m)&&bD(d,c,m)}function xE(e,t,n){let r=We+n,s=t.data[r],l=e[r],c=gc(l,s.tView.ssrId),d=pm(e,s,void 0,{dehydratedView:c});Pm(l,d,0,fc(s,c))}function Zr(e,t,n,r,s){let l=ue(),c=qm(l,t,n,r);if(c!==Ht){let d=Ve(),h=tu();hm(d,h,l,e,c,l[Te],s,!1)}return Zr}function Hn(e,t,n){C0(e,t,n)}function zn(e){let t=ue(),n=Ve(),r=hp();Jc(r+1);let s=Mu(n,r);if(e.dirty&&ew(t)===((s.metadata.flags&2)===2)){if(s.matches===null)e.reset([]);else{let l=T0(t,r);e.reset(l,qw),e.notifyOnChanges()}return!0}return!1}function Un(){return D0(ue(),hp())}function SE(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function $n(e){let t=dw();return op(t,We+e)}function X(e,t=""){let n=ue(),r=Ve(),s=e+We,l=r.firstCreatePass?zr(r,s,1,t,null):r.data[s],c=PE(r,n,l,t,e);n[s]=c,zs()&&Js(r,n,c,l),Rn(l,!1)}var PE=(e,t,n,r,s)=>(Us(!0),zb(t[Te],r));function _t(e){return it("",e,""),_t}function it(e,t,n){let r=ue(),s=qm(r,e,t,n);return s!==Ht&&NE(r,Fn(),s),it}function NE(e,t,n){let r=ip(t,e);Ub(e[Te],r,n)}function OE(e,t){let n=e[t];return n===Ht?void 0:n}function AE(e,t,n,r,s,l,c){let d=t+n;return B0(e,d,s,l)?F0(e,d+2,c?r.call(c,s,l):r(s,l)):OE(e,d+2)}function Su(e,t){let n=Ve(),r,s=e+We;n.firstCreatePass?(r=LE(t,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks??=[]).push(s,r.onDestroy)):r=n.data[s];let l=r.factory||(r.factory=Ci(r.type,!0)),c,d=Xe(fe);try{let h=bs(!1),m=l();return bs(h),SE(n,ue(),s,m),m}finally{Xe(d)}}function LE(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Pu(e,t,n,r){let s=e+We,l=ue(),c=op(l,s);return kE(l,s)?AE(l,fw(),t,c.transform,n,r,c):c.transform(n,r)}function kE(e,t){return e[Q].data[t].pure}function Zn(e,t){return ea(e,t)}var RE=(()=>{class e{zone=q(Ue);changeDetectionScheduler=q(Lr);applicationRef=q(Rr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FE({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Ue(Ot(Ye({},BE()),{scheduleInRootZone:n})),[{provide:Ue,useFactory:e},{provide:hs,multi:!0,useFactory:()=>{let r=q(RE,{optional:!0});return()=>r.initialize()}},{provide:hs,multi:!0,useFactory:()=>{let r=q(jE);return()=>{r.initialize()}}},t===!0?{provide:Lp,useValue:!0}:[],{provide:kp,useValue:n??Np}]}function BE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var jE=(()=>{class e{subscription=new je;initialized=!1;zone=q(Ue);pendingTasks=q(Bn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var VE=(()=>{class e{appRef=q(Rr);taskService=q(Bn);ngZone=q(Ue);zonelessEnabled=q(Ap);tracing=q(Zs,{optional:!0});disableScheduling=q(Lp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Cs):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(q(kp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ic||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let s=this.useMicrotaskScheduler?ah:Rp;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>s(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Cs+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ah(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function HE(){return typeof $localize<"u"&&$localize.locale||Os}var na=new Z("",{providedIn:"root",factory:()=>q(na,te.Optional|te.SkipSelf)||HE()});var Oc=new Z(""),zE=new Z("");function Ir(e){return!e.moduleRef}function UE(e){let t=Ir(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Ue);return n.run(()=>{Ir(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Jt,null),s;if(n.runOutsideAngular(()=>{s=n.onError.subscribe({next:l=>{r.handleError(l)}})}),Ir(e)){let l=()=>t.destroy(),c=e.platformInjector.get(Oc);c.add(l),t.onDestroy(()=>{s.unsubscribe(),c.delete(l)})}else{let l=()=>e.moduleRef.destroy(),c=e.platformInjector.get(Oc);c.add(l),e.moduleRef.onDestroy(()=>{ls(e.allPlatformModules,e.moduleRef),s.unsubscribe(),c.delete(l)})}return ZE(r,n,()=>{let l=t.get(Wm);return l.runInitializers(),l.donePromise.then(()=>{let c=t.get(na,Os);if(DE(c||Os),!t.get(zE,!0))return Ir(e)?t.get(Rr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ir(e)){let h=t.get(Rr);return e.rootComponent!==void 0&&h.bootstrap(e.rootComponent),h}else return $E(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function $E(e,t){let n=e.injector.get(Rr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new H(-403,!1);t.push(e)}function ZE(e,t,n){try{let r=n();return Tu(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var cs=null;function GE(e=[],t){return Si.create({name:t,providers:[{provide:Rs,useValue:"platform"},{provide:Oc,useValue:new Set([()=>cs=null])},...e]})}function WE(e=[]){if(cs)return cs;let t=GE(e);return cs=t,Z0(),qE(t),t}function qE(e){let t=e.get(au,null);Fs(e,()=>{t?.forEach(n=>n())})}var Gr=(()=>{class e{static __NG_ELEMENT_ID__=YE}return e})();function YE(e){return KE(Tt(),ue(),(e&16)===16)}function KE(e,t,n){if(Li(e)&&!n){let r=Bt(e.index,t);return new kr(r,r)}else if(e.type&175){let r=t[yt];return new kr(r,t)}return null}var Ac=class{constructor(){}supports(t){return Um(t)}create(t){return new Lc(t)}},QE=(e,t)=>t,Lc=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||QE}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,l=null;for(;n||r;){let c=!r||n&&n.currentIndex<Nh(r,s,l)?n:r,d=Nh(c,s,l),h=c.currentIndex;if(c===r)s--,r=r._nextRemoved;else if(n=n._next,c.previousIndex==null)s++;else{l||(l=[]);let m=d-s,g=h-s;if(m!=g){for(let D=0;D<m;D++){let y=D<l.length?l[D]:l[D]=0,b=y+D;g<=b&&b<m&&(l[D]=y+1)}let _=c.previousIndex;l[_]=g-m}}d!==h&&t(c,d,h)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Um(t))throw new H(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,s,l,c;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)l=t[d],c=this._trackByFn(d,l),n===null||!Object.is(n.trackById,c)?(n=this._mismatch(n,l,c,d),r=!0):(r&&(n=this._verifyReinsertion(n,l,c,d)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next}else s=0,k0(t,d=>{c=this._trackByFn(s,d),n===null||!Object.is(n.trackById,c)?(n=this._mismatch(n,d,c,s),r=!0):(r&&(n=this._verifyReinsertion(n,d,c,s)),Object.is(n.item,d)||this._addIdentityChange(n,d)),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let l;return t===null?l=this._itTail:(l=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,l,s)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,s),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,l,s)):t=this._addAfter(new kc(n,r),l,s)),t}_verifyReinsertion(t,n,r,s){let l=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return l!==null?t=this._reinsertAfter(l,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let s=t._prevRemoved,l=t._nextRemoved;return s===null?this._removalsHead=l:s._nextRemoved=l,l===null?this._removalsTail=s:l._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let s=n===null?this._itHead:n._next;return t._next=s,t._prev=n,s===null?this._itTail=t:s._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new As),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new As),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},kc=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Rc=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},As=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Rc,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,s=this.map.get(r);return s?s.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Nh(e,t,n){let r=e.previousIndex;if(r===null)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}function Oh(){return new Nu([new Ac])}var Nu=(()=>{class e{factories;static \u0275prov=z({token:e,providedIn:"root",factory:Oh});constructor(n){this.factories=n}static create(n,r){if(r!=null){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Oh()),deps:[[e,new P_,new S_]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r!=null)return r;throw new H(901,!1)}}return e})();function og(e){ve(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,s=WE(r),l=[FE({}),{provide:Lr,useExisting:VE},...n||[]],c=new Ps({providers:l,parent:s,debugName:"",runEnvironmentInitializers:!1});return UE({r3Injector:c.injector,platformInjector:s,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ve(9)}}var Ah=class{[wr];constructor(t){this[wr]=t}destroy(){this[wr].destroy()}};var rt=new Z("");var sg=null;function $i(){return sg}function Ou(e){sg??=e}var Wr=class{};var Ru=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Ru||{});var zt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Zi(e,t){let n=xu(e),r=n[Ui.NumberSymbols][t];if(typeof r>"u"){if(t===zt.CurrencyDecimal)return n[Ui.NumberSymbols][zt.Decimal];if(t===zt.CurrencyGroup)return n[Ui.NumberSymbols][zt.Group]}return r}function dg(e,t){return xu(e)[Ui.NumberFormats][t]}var JE=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ag=22,ia=".",qr="0",XE=";",eC=",",Au="#";function tC(e,t,n,r,s,l,c=!1){let d="",h=!1;if(!isFinite(e))d=Zi(n,zt.Infinity);else{let m=rC(e);c&&(m=iC(m));let g=t.minInt,_=t.minFrac,D=t.maxFrac;if(l){let se=l.match(JE);if(se===null)throw new Error(`${l} is not a valid digit info`);let O=se[1],ne=se[3],le=se[5];O!=null&&(g=Lu(O)),ne!=null&&(_=Lu(ne)),le!=null?D=Lu(le):ne!=null&&_>D&&(D=_)}oC(m,_,D);let y=m.digits,b=m.integerLen,I=m.exponent,P=[];for(h=y.every(se=>!se);b<g;b++)y.unshift(0);for(;b<0;b++)y.unshift(0);b>0?P=y.splice(b,y.length):(P=y,y=[0]);let N=[];for(y.length>=t.lgSize&&N.unshift(y.splice(-t.lgSize,y.length).join(""));y.length>t.gSize;)N.unshift(y.splice(-t.gSize,y.length).join(""));y.length&&N.unshift(y.join("")),d=N.join(Zi(n,r)),P.length&&(d+=Zi(n,s)+P.join("")),I&&(d+=Zi(n,zt.Exponential)+"+"+I)}return e<0&&!h?d=t.negPre+d+t.negSuf:d=t.posPre+d+t.posSuf,d}function fg(e,t,n){let r=dg(t,Ru.Decimal),s=nC(r,Zi(t,zt.MinusSign));return tC(e,s,t,zt.Group,zt.Decimal,n)}function nC(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(XE),s=r[0],l=r[1],c=s.indexOf(ia)!==-1?s.split(ia):[s.substring(0,s.lastIndexOf(qr)+1),s.substring(s.lastIndexOf(qr)+1)],d=c[0],h=c[1]||"";n.posPre=d.substring(0,d.indexOf(Au));for(let g=0;g<h.length;g++){let _=h.charAt(g);_===qr?n.minFrac=n.maxFrac=g+1:_===Au?n.maxFrac=g+1:n.posSuf+=_}let m=d.split(eC);if(n.gSize=m[1]?m[1].length:0,n.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,l){let g=s.length-n.posPre.length-n.posSuf.length,_=l.indexOf(Au);n.negPre=l.substring(0,_).replace(/'/g,""),n.negSuf=l.slice(_+g).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function iC(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function rC(e){let t=Math.abs(e)+"",n=0,r,s,l,c,d;for((s=t.indexOf(ia))>-1&&(t=t.replace(ia,"")),(l=t.search(/e/i))>0?(s<0&&(s=l),s+=+t.slice(l+1),t=t.substring(0,l)):s<0&&(s=t.length),l=0;t.charAt(l)===qr;l++);if(l===(d=t.length))r=[0],s=1;else{for(d--;t.charAt(d)===qr;)d--;for(s-=l,r=[],c=0;l<=d;l++,c++)r[c]=Number(t.charAt(l))}return s>ag&&(r=r.splice(0,ag-1),n=s-1,s=1),{digits:r,exponent:n,integerLen:s}}function oC(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,s=r.length-e.integerLen,l=Math.min(Math.max(t,s),n),c=l+e.integerLen,d=r[c];if(c>0){r.splice(Math.max(e.integerLen,c));for(let _=c;_<r.length;_++)r[_]=0}else{s=Math.max(0,s),e.integerLen=1,r.length=Math.max(1,c=l+1),r[0]=0;for(let _=1;_<c;_++)r[_]=0}if(d>=5)if(c-1<0){for(let _=0;_>c;_--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[c-1]++;for(;s<Math.max(0,l);s++)r.push(0);let h=l!==0,m=t+e.integerLen,g=r.reduceRight(function(_,D,y,b){return D=D+_,b[y]=D<10?D:D-10,h&&(b[y]===0&&y>=m?b.pop():h=!1),D>=10?1:0},0);g&&(r.unshift(g),e.integerLen++)}function Lu(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var ku=/\s+/,lg=[],Fu=(()=>{class e{_ngEl;_renderer;initialClasses=lg;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(ku):lg}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(ku):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let s=this.stateMap.get(n);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],s=n[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(ku).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static \u0275fac=function(r){return new(r||e)(fe(Ri),fe(Am))};static \u0275dir=ta({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var ra=class{$implicit;ngForOf;index;count;constructor(t,n,r,s){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=s}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},sa=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((s,l,c)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new ra(s.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)r.remove(l===null?void 0:l);else if(l!==null){let d=r.get(l);r.move(d,c),cg(d,s)}});for(let s=0,l=r.length;s<l;s++){let d=r.get(s).context;d.index=s,d.count=l,d.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let l=r.get(s.currentIndex);cg(l,s)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(fe(Bi),fe(Nn),fe(Nu))};static \u0275dir=ta({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function cg(e,t){e.context.$implicit=t.item}var Gn=(()=>{class e{_viewContainer;_context=new oa;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ug(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ug(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(fe(Bi),fe(Nn))};static \u0275dir=ta({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),oa=class{$implicit=null;ngIf=null};function ug(e,t){if(e&&!e.createEmbeddedView)throw new H(2020,!1)}function sC(e,t){return new H(2100,!1)}var Bu=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,s){if(!aC(n))return null;s||=this._locale;try{let l=lC(n);return fg(l,s,r)}catch(l){throw sC(e,l.message)}}static \u0275fac=function(r){return new(r||e)(fe(na,16))};static \u0275pipe=Vm({name:"number",type:e,pure:!0})}return e})();function aC(e){return!(e==null||e===""||e!==e)}function lC(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var ot=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ji({type:e});static \u0275inj=Oi({})}return e})();function Yr(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[s,l]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(s.trim()===t)return decodeURIComponent(l)}return null}var ju="browser",hg="server";function aa(e){return e===hg}var Wn=class{};var ua=new Z(""),$u=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s,l){return this._findPluginFor(r).addEventListener(n,r,s,l)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(l=>l.supports(n)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(V(ua),V(Ue))};static \u0275prov=z({token:e,factory:e.\u0275fac})}return e})(),Kr=class{_doc;constructor(t){this._doc=t}manager},la="ng-app-id";function pg(e){for(let t of e)t.remove()}function mg(e,t){let n=t.createElement("style");return n.textContent=e,n}function cC(e,t,n,r){let s=e.head?.querySelectorAll(`style[${la}="${t}"],link[${la}="${t}"]`);if(s)for(let l of s)l.removeAttribute(la),l instanceof HTMLLinkElement?r.set(l.href.slice(l.href.lastIndexOf("/")+1),{usage:0,elements:[l]}):l.textContent&&n.set(l.textContent,{usage:0,elements:[l]})}function zu(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Zu=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,s,l={}){this.doc=n,this.appId=r,this.nonce=s,this.isServer=aa(l),cC(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let s of n)this.addUsage(s,this.inline,mg);r?.forEach(s=>this.addUsage(s,this.external,zu))}removeStyles(n,r){for(let s of n)this.removeUsage(s,this.inline);r?.forEach(s=>this.removeUsage(s,this.external))}addUsage(n,r,s){let l=r.get(n);l?l.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(c=>this.addElement(c,s(n,this.doc)))})}removeUsage(n,r){let s=r.get(n);s&&(s.usage--,s.usage<=0&&(pg(s.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])pg(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:s}]of this.inline)s.push(this.addElement(n,mg(r,this.doc)));for(let[r,{elements:s}]of this.external)s.push(this.addElement(n,zu(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(la,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(V(rt),V(su),V(lu,8),V(jn))};static \u0275prov=z({token:e,factory:e.\u0275fac})}return e})(),Hu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gu=/%COMP%/g;var vg="%COMP%",uC=`_nghost-${vg}`,dC=`_ngcontent-${vg}`,fC=!0,hC=new Z("",{providedIn:"root",factory:()=>fC});function pC(e){return dC.replace(Gu,e)}function mC(e){return uC.replace(Gu,e)}function yg(e,t){return t.map(n=>n.replace(Gu,e))}var Wu=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,s,l,c,d,h,m=null,g=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=l,this.doc=c,this.platformId=d,this.ngZone=h,this.nonce=m,this.tracingService=g,this.platformIsServer=aa(d),this.defaultRenderer=new Qr(n,c,h,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jt.ShadowDom&&(r=Ot(Ye({},r),{encapsulation:jt.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof ca?s.applyToHost(n):s instanceof Jr&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,l=s.get(r.id);if(!l){let c=this.doc,d=this.ngZone,h=this.eventManager,m=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer,D=this.tracingService;switch(r.encapsulation){case jt.Emulated:l=new ca(h,m,r,this.appId,g,c,d,_,D);break;case jt.ShadowDom:return new Uu(h,m,n,r,c,d,this.nonce,_,D);default:l=new Jr(h,m,r,g,c,d,_,D);break}s.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(V($u),V(Zu),V(su),V(hC),V(rt),V(jn),V(Ue),V(lu),V(Zs,8))};static \u0275prov=z({token:e,factory:e.\u0275fac})}return e})(),Qr=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,s,l){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=s,this.tracingService=l}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Hu[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(gg(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(gg(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,s){if(s){n=s+":"+n;let l=Hu[s];l?t.setAttributeNS(l,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let s=Hu[r];s?t.removeAttributeNS(s,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,s){s&(Xt.DashCase|Xt.Important)?t.style.setProperty(n,r,s&Xt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Xt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,s){if(typeof t=="string"&&(t=$i().getGlobalEventTarget(this.doc,t),!t))throw new H(5102,!1);let l=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(l=this.tracingService.wrapEventListener(t,n,l)),this.eventManager.addEventListener(t,n,l,s)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function gg(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Uu=class extends Qr{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,s,l,c,d,h,m){super(t,l,c,h,m),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=s.styles;g=yg(s.id,g);for(let D of g){let y=document.createElement("style");d&&y.setAttribute("nonce",d),y.textContent=D,this.shadowRoot.appendChild(y)}let _=s.getExternalStyles?.();if(_)for(let D of _){let y=zu(D,l);d&&y.setAttribute("nonce",d),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jr=class extends Qr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,s,l,c,d,h,m){super(t,l,c,d,h),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=s;let g=r.styles;this.styles=m?yg(m,g):g,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ca=class extends Jr{contentAttr;hostAttr;constructor(t,n,r,s,l,c,d,h,m){let g=s+"-"+r.id;super(t,n,r,l,c,d,h,m,g),this.contentAttr=pC(g),this.hostAttr=mC(g)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var qu=class extends Wr{supportsDOMEvents=!0},da=class e extends qu{static makeCurrent(){Ou(new e)}onAndCancel(t,n,r,s){return t.addEventListener(n,r,s),()=>{t.removeEventListener(n,r,s)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=gC();return n==null?null:vC(n)}resetBaseElement(){Xr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Yr(document.cookie,t)}},Xr=null;function gC(){return Xr=Xr||document.querySelector("base"),Xr?Xr.getAttribute("href"):null}function vC(e){return new URL(e,document.baseURI).pathname}var yC=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=z({token:e,factory:e.\u0275fac})}return e})(),wg=(()=>{class e extends Kr{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s,l){return n.addEventListener(r,s,l),()=>this.removeEventListener(n,r,s,l)}removeEventListener(n,r,s,l){return n.removeEventListener(r,s,l)}static \u0275fac=function(r){return new(r||e)(V(rt))};static \u0275prov=z({token:e,factory:e.\u0275fac})}return e})(),_g=["alt","control","meta","shift"],_C={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wC={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},bg=(()=>{class e extends Kr{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,s,l){let c=e.parseEventName(r),d=e.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$i().onAndCancel(n,c.domEventName,d,l))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let l=e._normalizeKey(r.pop()),c="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),c="code."),_g.forEach(m=>{let g=r.indexOf(m);g>-1&&(r.splice(g,1),c+=m+".")}),c+=l,r.length!=0||l.length===0)return null;let h={};return h.domEventName=s,h.fullKey=c,h}static matchEventFullKeyCode(n,r){let s=_C[n.key]||n.key,l="";return r.indexOf("code.")>-1&&(s=n.code,l="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),_g.forEach(c=>{if(c!==s){let d=wC[c];d(n)&&(l+=c+".")}}),l+=s,l===r)}static eventCallback(n,r,s){return l=>{e.matchEventFullKeyCode(l,n)&&s.runGuarded(()=>r(l))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(V(rt))};static \u0275prov=z({token:e,factory:e.\u0275fac})}return e})();function Yu(e,t){return og(Ye({rootComponent:e},bC(t)))}function bC(e){return{appProviders:[...MC,...e?.providers??[]],platformProviders:IC}}function DC(){da.makeCurrent()}function EC(){return new Jt}function CC(){return $p(document),document}var IC=[{provide:jn,useValue:ju},{provide:au,useValue:DC,multi:!0},{provide:rt,useFactory:CC}];var MC=[{provide:Rs,useValue:"root"},{provide:Jt,useFactory:EC},{provide:ua,useClass:wg,multi:!0,deps:[rt]},{provide:ua,useClass:bg,multi:!0,deps:[rt]},Wu,Zu,$u,{provide:Pi,useExisting:Wu},{provide:Wn,useClass:yC},[]];var Wi=class{},eo=class{},fn=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let s=n.slice(0,r),l=n.slice(r+1).trim();this.addHeaderEntry(s,l)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let s=(t.op==="a"?this.headers.get(n):void 0)||[];s.push(...r),this.headers.set(n,s);break;case"d":let l=t.value;if(!l)this.headers.delete(n),this.normalizedNames.delete(n);else{let c=this.headers.get(n);if(!c)return;c=c.filter(d=>l.indexOf(d)===-1),c.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,c)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(l=>l.toString()),s=t.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(t,s)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var ha=class{encodeKey(t){return Dg(t)}encodeValue(t){return Dg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function TC(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{let l=s.indexOf("="),[c,d]=l==-1?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,l)),t.decodeValue(s.slice(l+1))],h=n.get(c)||[];h.push(d),n.set(c,h)}),n}var xC=/%(\d[a-f0-9])/gi,SC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dg(e){return encodeURIComponent(e).replace(xC,(t,n)=>SC[n]??t)}function fa(e){return`${e}`}var rn=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new ha,t.fromString){if(t.fromObject)throw new H(2805,!1);this.map=TC(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],s=Array.isArray(r)?r.map(fa):[fa(r)];this.map.set(n,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let s=t[r];Array.isArray(s)?s.forEach(l=>{n.push({param:r,value:l,op:"a"})}):n.push({param:r,value:s,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(fa(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],s=r.indexOf(fa(t.value));s!==-1&&r.splice(s,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var pa=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function PC(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Eg(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Cg(e){return typeof Blob<"u"&&e instanceof Blob}function Ig(e){return typeof FormData<"u"&&e instanceof FormData}function NC(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Mg="Content-Type",Tg="Accept",Sg="X-Request-URL",Pg="text/plain",Ng="application/json",OC=`${Ng}, ${Pg}, */*`,Gi=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,s){this.url=n,this.method=t.toUpperCase();let l;if(PC(this.method)||s?(this.body=r!==void 0?r:null,l=s):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),this.transferCache=l.transferCache),this.headers??=new fn,this.context??=new pa,!this.params)this.params=new rn,this.urlWithParams=n;else{let c=this.params.toString();if(c.length===0)this.urlWithParams=n;else{let d=n.indexOf("?"),h=d===-1?"?":d<n.length-1?"&":"";this.urlWithParams=n+h+c}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Eg(this.body)||Cg(this.body)||Ig(this.body)||NC(this.body)?this.body:this.body instanceof rn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ig(this.body)?null:Cg(this.body)?this.body.type||null:Eg(this.body)?null:typeof this.body=="string"?Pg:this.body instanceof rn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Ng:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,l=t.transferCache??this.transferCache,c=t.body!==void 0?t.body:this.body,d=t.withCredentials??this.withCredentials,h=t.reportProgress??this.reportProgress,m=t.headers||this.headers,g=t.params||this.params,_=t.context??this.context;return t.setHeaders!==void 0&&(m=Object.keys(t.setHeaders).reduce((D,y)=>D.set(y,t.setHeaders[y]),m)),t.setParams&&(g=Object.keys(t.setParams).reduce((D,y)=>D.set(y,t.setParams[y]),g)),new e(n,r,c,{params:g,headers:m,context:_,reportProgress:h,responseType:s,withCredentials:d,transferCache:l})}},qn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(qn||{}),qi=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new fn,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},ma=class e extends qi{constructor(t={}){super(t)}type=qn.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},to=class e extends qi{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=qn.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},no=class extends qi{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},AC=200,LC=204;function Ku(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Yi=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,s={}){let l;if(n instanceof Gi)l=n;else{let h;s.headers instanceof fn?h=s.headers:h=new fn(s.headers);let m;s.params&&(s.params instanceof rn?m=s.params:m=new rn({fromObject:s.params})),l=new Gi(n,r,s.body!==void 0?s.body:null,{headers:h,context:s.context,params:m,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let c=Ko(l).pipe(Tl(h=>this.handler.handle(h)));if(n instanceof Gi||s.observe==="events")return c;let d=c.pipe(Ml(h=>h instanceof to));switch(s.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return d.pipe(mt(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new H(2806,!1);return h.body}));case"blob":return d.pipe(mt(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new H(2807,!1);return h.body}));case"text":return d.pipe(mt(h=>{if(h.body!==null&&typeof h.body!="string")throw new H(2808,!1);return h.body}));case"json":default:return d.pipe(mt(h=>h.body))}case"response":return d;default:throw new H(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new rn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,Ku(s,r))}post(n,r,s={}){return this.request("POST",n,Ku(s,r))}put(n,r,s={}){return this.request("PUT",n,Ku(s,r))}static \u0275fac=function(r){return new(r||e)(V(Wi))};static \u0275prov=z({token:e,factory:e.\u0275fac})}return e})();var kC=new Z("");function Og(e,t){return t(e)}function RC(e,t){return(n,r)=>t.intercept(n,{handle:s=>e(s,r)})}function FC(e,t,n){return(r,s)=>Fs(n,()=>t(r,l=>e(l,s)))}var Ag=new Z(""),Ju=new Z(""),Lg=new Z(""),Xu=new Z("",{providedIn:"root",factory:()=>!0});function BC(){let e=null;return(t,n)=>{e===null&&(e=(q(Ag,{optional:!0})??[]).reduceRight(RC,Og));let r=q(Bn);if(q(Xu)){let l=r.add();return e(t,n).pipe(Jo(()=>r.remove(l)))}else return e(t,n)}}var ga=(()=>{class e extends Wi{backend;injector;chain=null;pendingTasks=q(Bn);contributeToStability=q(Xu);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Ju),...this.injector.get(Lg,[])]));this.chain=r.reduceRight((s,l)=>FC(s,l,this.injector),Og)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(Jo(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(V(eo),V(Rt))};static \u0275prov=z({token:e,factory:e.\u0275fac})}return e})();var jC=/^\)\]\}',?\n/,VC=RegExp(`^${Sg}:`,"m");function HC(e){return"responseURL"in e&&e.responseURL?e.responseURL:VC.test(e.getAllResponseHeaders())?e.getResponseHeader(Sg):null}var Qu=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new H(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?cn(r.\u0275loadImpl()):Ko(null)).pipe(xl(()=>new De(l=>{let c=r.build();if(c.open(n.method,n.urlWithParams),n.withCredentials&&(c.withCredentials=!0),n.headers.forEach((I,P)=>c.setRequestHeader(I,P.join(","))),n.headers.has(Tg)||c.setRequestHeader(Tg,OC),!n.headers.has(Mg)){let I=n.detectContentTypeHeader();I!==null&&c.setRequestHeader(Mg,I)}if(n.responseType){let I=n.responseType.toLowerCase();c.responseType=I!=="json"?I:"text"}let d=n.serializeBody(),h=null,m=()=>{if(h!==null)return h;let I=c.statusText||"OK",P=new fn(c.getAllResponseHeaders()),N=HC(c)||n.url;return h=new ma({headers:P,status:c.status,statusText:I,url:N}),h},g=()=>{let{headers:I,status:P,statusText:N,url:se}=m(),O=null;P!==LC&&(O=typeof c.response>"u"?c.responseText:c.response),P===0&&(P=O?AC:0);let ne=P>=200&&P<300;if(n.responseType==="json"&&typeof O=="string"){let le=O;O=O.replace(jC,"");try{O=O!==""?JSON.parse(O):null}catch(me){O=le,ne&&(ne=!1,O={error:me,text:O})}}ne?(l.next(new to({body:O,headers:I,status:P,statusText:N,url:se||void 0})),l.complete()):l.error(new no({error:O,headers:I,status:P,statusText:N,url:se||void 0}))},_=I=>{let{url:P}=m(),N=new no({error:I,status:c.status||0,statusText:c.statusText||"Unknown Error",url:P||void 0});l.error(N)},D=!1,y=I=>{D||(l.next(m()),D=!0);let P={type:qn.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(P.total=I.total),n.responseType==="text"&&c.responseText&&(P.partialText=c.responseText),l.next(P)},b=I=>{let P={type:qn.UploadProgress,loaded:I.loaded};I.lengthComputable&&(P.total=I.total),l.next(P)};return c.addEventListener("load",g),c.addEventListener("error",_),c.addEventListener("timeout",_),c.addEventListener("abort",_),n.reportProgress&&(c.addEventListener("progress",y),d!==null&&c.upload&&c.upload.addEventListener("progress",b)),c.send(d),l.next({type:qn.Sent}),()=>{c.removeEventListener("error",_),c.removeEventListener("abort",_),c.removeEventListener("load",g),c.removeEventListener("timeout",_),n.reportProgress&&(c.removeEventListener("progress",y),d!==null&&c.upload&&c.upload.removeEventListener("progress",b)),c.readyState!==c.DONE&&c.abort()}})))}static \u0275fac=function(r){return new(r||e)(V(Wn))};static \u0275prov=z({token:e,factory:e.\u0275fac})}return e})(),kg=new Z(""),zC="XSRF-TOKEN",UC=new Z("",{providedIn:"root",factory:()=>zC}),$C="X-XSRF-TOKEN",ZC=new Z("",{providedIn:"root",factory:()=>$C}),io=class{},GC=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yr(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(V(rt),V(jn),V(UC))};static \u0275prov=z({token:e,factory:e.\u0275fac})}return e})();function WC(e,t){let n=e.url.toLowerCase();if(!q(kg)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=q(io).getToken(),s=q(ZC);return r!=null&&!e.headers.has(s)&&(e=e.clone({headers:e.headers.set(s,r)})),t(e)}var ed=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(ed||{});function qC(e,t){return{\u0275kind:e,\u0275providers:t}}function Rg(...e){let t=[Yi,Qu,ga,{provide:Wi,useExisting:ga},{provide:eo,useFactory:()=>q(kC,{optional:!0})??q(Qu)},{provide:Ju,useValue:WC,multi:!0},{provide:kg,useValue:!0},{provide:io,useClass:GC}];for(let n of e)t.push(...n.\u0275providers);return Wh(t)}var xg=new Z("");function Fg(){return qC(ed.LegacyInterceptors,[{provide:xg,useFactory:BC},{provide:Ju,useExisting:xg,multi:!0}])}var td=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ji({type:e});static \u0275inj=Oi({providers:[Rg(Fg())]})}return e})();var jg=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(V(rt))};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var lt=_r(Ki());function Yn(e,t,n,r){let s=g=>g*Math.PI/180,c=s(n-e),d=s(r-t),h=Math.sin(c/2)**2+Math.cos(s(e))*Math.cos(s(n))*Math.sin(d/2)**2;return 6371*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)))}function nd(e,t,n,r){let s=D=>D*Math.PI/180,l=D=>D*180/Math.PI,c=s(e),d=s(n),h=s(r-t),m=Math.sin(h)*Math.cos(d),g=Math.cos(c)*Math.sin(d)-Math.sin(c)*Math.cos(d)*Math.cos(h);return(l(Math.atan2(m,g))+360)%360}function Hg(e){let t=["N","NE","E","SE","S","SW","W","NW"],n=Math.round(e/45)%8;return t[n]}function zg(e){return{N:"\u2191",NE:"\u2197",E:"\u2192",SE:"\u2198",S:"\u2193",SW:"\u2199",W:"\u2190",NW:"\u2196"}[e]||""}var Ug=_r(Ki());var ya=class e{map;lat;lon;radiusKm;circle;ngOnChanges(){this.map&&this.lat&&this.lon&&this.radiusKm!==void 0&&this.drawRadius()}drawRadius(){let t=this.map.getPanes().overlayPane.querySelector("svg"),n="circleGradient";if(!t.querySelector(`#${n}`)){let s=document.createElementNS("http://www.w3.org/2000/svg","defs"),l=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");l.setAttribute("id",n),l.innerHTML='<stop offset="90%" stop-color="black" stop-opacity="0.4"/><stop offset="98%" stop-color="black" stop-opacity="0.6"/>',s.appendChild(l),t.insertBefore(s,t.firstChild)}this.circle&&this.map.removeLayer(this.circle),this.circle=Ug.circle([this.lat,this.lon],{radius:this.radiusKm*1e3,stroke:!0,color:"white",weight:4,fill:!0,fillColor:`url(#${n})`,fillOpacity:1,className:"main-radius"}).addTo(this.map),this.circle.bringToBack();let r=this.circle._path;r&&(r.style.mixBlendMode="normal")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["app-radius"]],inputs:{map:"map",lat:"lat",lon:"lon",radiusKm:"radiusKm"},features:[kn],decls:0,vars:0,template:function(n,r){},encapsulation:2})};var Qn=_r(Ki());var _a=class e{map;lat;lon;distanceKm;opacity=1;visualCones=[];arcElements=[];ngOnChanges(t){"opacity"in t&&this.updateOpacity(),this.map&&this.lat&&this.lon&&this.distanceKm&&(this.map.getContainer().classList.add("custom-leaflet-container"),this.map.on("zoomend moveend",()=>{this.drawVisualCones()}),this.drawVisualCones())}drawVisualCones(){this.visualCones.forEach(l=>this.map.removeLayer(l)),this.visualCones=[];let t=this.map.getPanes().overlayPane.querySelector("svg");this.arcElements.forEach(({path:l,textGroup:c})=>{t.contains(l)&&t.removeChild(l),t.contains(c)&&t.removeChild(c)}),this.arcElements=[];let n="stripePattern";if(t&&!t.querySelector(`#${n}`)){let l=document.createElementNS("http://www.w3.org/2000/svg","defs"),c=document.createElementNS("http://www.w3.org/2000/svg","pattern");c.setAttribute("id",n),c.setAttribute("width","4"),c.setAttribute("height","4"),c.setAttribute("patternUnits","userSpaceOnUse"),c.setAttribute("patternTransform","rotate(45)");let d=document.createElementNS("http://www.w3.org/2000/svg","rect");d.setAttribute("width","2"),d.setAttribute("height","4"),d.setAttribute("fill","white"),d.setAttribute("fill-opacity","0.5"),c.appendChild(d),l.appendChild(c),t.insertBefore(l,t.firstChild)}let r=this.createCone(this.lat,this.lon,75,190,12),s=this.createCone(this.lat,this.lon,245,345,12);r.addTo(this.map),s.addTo(this.map),this.visualCones.push(r,s),this.addTextArc(t,"Balcony",this.lat,this.lon,75,190,this.distanceKm,"white"),this.addTextArc(t,"Streetside",this.lat,this.lon,245,345,this.distanceKm,"white"),this.updateOpacity()}updateOpacity(){this.visualCones.forEach(t=>{let n=t._path;n&&(n.style.opacity=String(this.opacity))}),this.arcElements.forEach(({path:t,textGroup:n})=>{t.style.opacity=String(this.opacity),n.style.opacity=String(this.opacity)})}createCone(t,n,r,s,l){let c=[Qn.latLng(t,n)],d=5;for(let h=r;h<=s;h+=d){let[m,g]=this.computeDestinationPoint(t,n,l,h);c.push(Qn.latLng(m,g))}return c.push(Qn.latLng(t,n)),Qn.polygon(c,{className:"visual-cone",interactive:!1,color:"white",fill:!0,fillColor:"url(#stripePattern)",fillOpacity:1})}computeDestinationPoint(t,n,r,s){let c=s*Math.PI/180,d=t*Math.PI/180,h=n*Math.PI/180,m=r/6371,g=Math.asin(Math.sin(d)*Math.cos(m)+Math.cos(d)*Math.sin(m)*Math.cos(c)),_=h+Math.atan2(Math.sin(c)*Math.sin(m)*Math.cos(d),Math.cos(m)-Math.sin(d)*Math.sin(g));return[g*180/Math.PI,_*180/Math.PI]}addTextArc(t,n,r,s,l,c,d,h){let m=this.map.getZoom(),g=d*.2*Math.pow(8/m,2),_=[],D=5;for(let O=l;O<=c;O+=D){let[ne,le]=this.computeDestinationPoint(r,s,g,O);_.push(Qn.latLng(ne,le))}let y=document.createElementNS("http://www.w3.org/2000/svg","path"),b=`arc-${n.toLowerCase().replace(/\s+/g,"-")}-${Date.now()}`;y.setAttribute("id",b);let I=_.map((O,ne)=>{let{x:le,y:me}=this.map.latLngToLayerPoint(O);return`${ne===0?"M":"L"} ${le} ${me}`}).join(" ");y.setAttribute("d",I),y.setAttribute("fill","none"),y.setAttribute("stroke","none"),t.appendChild(y);let P=document.createElementNS("http://www.w3.org/2000/svg","text"),N=document.createElementNS("http://www.w3.org/2000/svg","textPath");N.setAttribute("href",`#${b}`),N.setAttribute("startOffset","50%"),N.setAttribute("text-anchor","middle"),N.setAttribute("fill",h),N.setAttribute("font-size","1rem"),N.textContent=n;let se=document.createElementNS("http://www.w3.org/2000/svg","text");se.appendChild(N),t.appendChild(y),t.appendChild(se),this.arcElements.push({path:y,textGroup:se})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["app-cone"]],inputs:{map:"map",lat:"lat",lon:"lon",distanceKm:"distanceKm",opacity:"opacity"},features:[kn],decls:0,vars:0,template:function(n,r){},encapsulation:2})};var YC=["*"];function KC(e,t){e&1&&rg(0,0,["*ngIf","!icon"])}var wa=class e{icon="";size="medium";color;ariaLabel;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["app-icon"]],inputs:{icon:"icon",size:"size",color:"color",ariaLabel:"ariaLabel"},ngContentSelectors:YC,decls:3,vars:7,consts:[[1,"material-symbols-sharp","icon",3,"ngClass"],[4,"ngIf"]],template:function(n,r){n&1&&(ig(),S(0,"span",0),Le(1,KC,1,0,"ng-content",1),X(2),T()),n&2&&(Vi("color",r.color),j("ngClass",r.size),Ur("aria-label",r.ariaLabel)("title",r.ariaLabel),x(),j("ngIf",!r.icon),x(),it(" ",r.icon," "))},dependencies:[ot,Fu,Gn],styles:['[_nghost-%COMP%]{display:inline-flex;vertical-align:middle;line-height:1}.icon[_ngcontent-%COMP%]{width:1em;height:1em;padding:0;transform-origin:center}.icon.material-symbols-sharp[_ngcontent-%COMP%]{vertical-align:text-bottom}.icon.material-symbols-sharp[_ngcontent-%COMP%]:empty:before{content:"";display:none}.icon.small[_ngcontent-%COMP%]{font-size:1rem}.icon.medium[_ngcontent-%COMP%]{font-size:1.5rem}.icon.large[_ngcontent-%COMP%]{font-size:2rem}']})};function QC(e,t){if(e&1&&nt(0,"app-icon",3),e&2){let n=Ie();j("icon",n.icon)("size",n.size)}}function JC(e,t){if(e&1&&(S(0,"span",4),X(1),T()),e&2){let n=Ie();x(),_t(n.text)}}var Qi=class e{text=null;icon=null;ariaLabel;nativeType="button";type="primary";size="medium";click=new Ee;onClick(t){t.preventDefault(),t.stopPropagation(),this.click.emit(t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["app-button"]],inputs:{text:"text",icon:"icon",ariaLabel:"ariaLabel",nativeType:"nativeType",type:"type",size:"size"},outputs:{click:"click"},decls:3,vars:6,consts:[[3,"click","type"],[3,"icon","size",4,"ngIf"],["class","text",4,"ngIf"],[3,"icon","size"],[1,"text"]],template:function(n,r){n&1&&(S(0,"button",0),Ce("click",function(l){return r.onClick(l)}),Le(1,QC,1,2,"app-icon",1)(2,JC,2,1,"span",2),T()),n&2&&(Qm(r.type+(r.icon?" icon":"")+(r.icon&&r.text?" has-text":"")+" "+r.size),j("type",r.nativeType),Ur("aria-label",r.ariaLabel),x(),j("ngIf",r.icon),x(),j("ngIf",r.text))},dependencies:[ot,Gn,wa],styles:['[_nghost-%COMP%]{display:inline-block}button[_ngcontent-%COMP%]{display:inline-flex;gap:.25rem;border:none;border-radius:2rem;font:inherit;cursor:pointer;transition:background .2s ease;align-items:center;justify-content:center;width:100%;font-size:.875rem;font-weight:500}button.primary[_ngcontent-%COMP%]{background-color:#fff;color:#000}button.secondary[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:1px solid white}button.tertiary[_ngcontent-%COMP%]{background-color:transparent;border:none;color:inherit}button[_ngcontent-%COMP%]:hover{opacity:.9;transform:scale(1.02)}button[_ngcontent-%COMP%]   .material-symbols-sharp[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 20;font-size:1rem}button.icon[_ngcontent-%COMP%]{width:fit-content;padding:.5rem}button.icon[_ngcontent-%COMP%]:has(+.text), button.icon[_ngcontent-%COMP%]:has(~.text){padding:0 .5rem}button.icon[_ngcontent-%COMP%]:has(+.text) + .text[_ngcontent-%COMP%], button.icon[_ngcontent-%COMP%]:has(+.text) ~ .text[_ngcontent-%COMP%], button.icon[_ngcontent-%COMP%]:has(~.text) + .text[_ngcontent-%COMP%], button.icon[_ngcontent-%COMP%]:has(~.text) ~ .text[_ngcontent-%COMP%]{padding-left:.25rem}button[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem}button.icon.has-text[_ngcontent-%COMP%]{padding:0 .5rem}button.icon.has-text[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{margin-left:.5rem}button.icon.has-text[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:.25rem;padding-right:.75rem}button.small[_ngcontent-%COMP%]   .material-symbols-sharp[_ngcontent-%COMP%]{font-size:1rem}button.medium[_ngcontent-%COMP%]   .material-symbols-sharp[_ngcontent-%COMP%]{font-size:1.5rem;font-variation-settings:"FILL" 0,"wght" 350,"GRAD" 0,"opsz" 20}button.large[_ngcontent-%COMP%]   .material-symbols-sharp[_ngcontent-%COMP%]{font-size:2rem;font-variation-settings:"FILL" 0,"wght" 250,"GRAD" 0,"opsz" 20}']})};var Ut=class e{_lat=null;_lon=null;_radius=50;_interval=60;_excludeDiscount=!1;_mapLat=null;_mapLon=null;_mapZoom=8;homeLocationKey="homeLocation";seenCollapsedKey="seenCollapsed";_seenCollapsed=!1;commercialMuteKey="commercialMute";_commercialMute=!1;get seenCollapsed(){return this._seenCollapsed}setSeenCollapsed(t){this._seenCollapsed=t,localStorage.setItem(this.seenCollapsedKey,t.toString())}get commercialMute(){return this._commercialMute}setCommercialMute(t){this._commercialMute=t,localStorage.setItem(this.commercialMuteKey,t.toString())}excludeDiscountChanged=new Ee;get lat(){return this._lat}setLat(t){this._lat=t,localStorage.setItem("lastLat",t.toString())}get lon(){return this._lon}setLon(t){this._lon=t,localStorage.setItem("lastLon",t.toString())}get radius(){return this._radius}setRadius(t){this._radius=t,localStorage.setItem("lastSearchRadius",t.toString())}get interval(){return this._interval}set interval(t){this._interval=t,localStorage.setItem("checkInterval",t.toString())}get excludeDiscount(){return this._excludeDiscount}set excludeDiscount(t){this._excludeDiscount!==t&&(console.log(`[${new Date().toISOString()}] [SettingsService] Setting excludeDiscount to: ${t}`),this._excludeDiscount=t,localStorage.setItem("excludeDiscount",t.toString()),this.excludeDiscountChanged.emit(t))}setExcludeDiscount(t){this.excludeDiscount=t}get mapLat(){return this._mapLat}setMapLat(t){this._mapLat=t,localStorage.setItem("mapLat",t.toString())}get mapLon(){return this._mapLon}setMapLon(t){this._mapLon=t,localStorage.setItem("mapLon",t.toString())}get mapZoom(){return this._mapZoom}setMapZoom(t){this._mapZoom=t,localStorage.setItem("mapZoom",t.toString())}setCurrentLocation(t,n){localStorage.setItem("currentLocation",JSON.stringify({lat:t,lon:n}))}getCurrentLocation(){let t=localStorage.getItem("currentLocation");if(t)try{return JSON.parse(t)}catch{return null}return null}setHomeLocation(t,n){localStorage.setItem(this.homeLocationKey,JSON.stringify({lat:t,lon:n}))}getHomeLocation(){let t=localStorage.getItem(this.homeLocationKey);if(t)try{return JSON.parse(t)}catch{return null}return null}load(){let t=parseFloat(localStorage.getItem("lastLat")||""),n=parseFloat(localStorage.getItem("lastLon")||""),r=parseFloat(localStorage.getItem("lastSearchRadius")||""),s=parseFloat(localStorage.getItem("checkInterval")||""),l=localStorage.getItem("excludeDiscount"),c=parseFloat(localStorage.getItem("mapLat")||""),d=parseFloat(localStorage.getItem("mapLon")||""),h=parseFloat(localStorage.getItem("mapZoom")||"");isNaN(t)||(this._lat=t),isNaN(n)||(this._lon=n),isNaN(r)||(this._radius=r),isNaN(s)||(this._interval=s),l!==null&&(this._excludeDiscount=l==="true"),isNaN(c)||(this._mapLat=c),isNaN(d)||(this._mapLon=d),isNaN(h)||(this._mapZoom=h);let m=localStorage.getItem(this.seenCollapsedKey);m!==null&&(this._seenCollapsed=m==="true");let g=localStorage.getItem(this.commercialMuteKey);g!==null&&(this._commercialMute=g==="true")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})};var hn=class e{countdownSubject=new ln(0);activeSubject=new ln(!1);tickSub=null;scanCallback=null;intervalSeconds=60;current=0;pendingForceScan=!1;get countdown$(){return this.countdownSubject.asObservable()}get isActive$(){return this.activeSubject.asObservable()}start(t,n){if(this.tickSub){console.log("ScanService is already running. Stop it before starting again.");return}this.intervalSeconds=t,this.scanCallback=n,this.current=this.intervalSeconds,this.countdownSubject.next(this.current),this.activeSubject.next(!0),this.pendingForceScan&&this.scanCallback&&(console.log("Executing pending forced scan"),this.pendingForceScan=!1,this.scanCallback()),this.tickSub=Cr(1e3).subscribe(()=>{this.current--,this.countdownSubject.next(this.current),this.current<=0&&(this.scanCallback?.(),this.current=this.intervalSeconds,this.countdownSubject.next(this.current),console.log("Scan executed, resetting countdown"))}),console.log("Scan service started with interval",t)}stop(){if(!this.tickSub){console.log("ScanService is not running. Nothing to stop.");return}this.tickSub.unsubscribe(),this.tickSub=null,this.activeSubject.next(!1),console.log("Scan service stopped")}forceScan(){if(!this.scanCallback){console.log("No scan callback defined. Cannot force scan."),this.pendingForceScan=!0;return}this.scanCallback(),this.current=this.intervalSeconds,this.countdownSubject.next(this.current),console.log("Forced scan triggered")}updateInterval(t){this.intervalSeconds=t,this.tickSub&&(this.stop(),this.start(this.intervalSeconds,this.scanCallback)),console.log("Updated scan interval to",t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})};var XC=["addressInput"],eI=["searchRadiusInput"],tI=["checkIntervalInput"],ro=class e{constructor(t,n,r){this.settings=t;this.cdr=n;this.scanService=r}addressInputRef;searchRadiusInputRef;checkIntervalInputRef;resolveAndUpdate=new Ee;useCurrentLocation=new Ee;goToAirport=new Ee;coneVisibilityChange=new Ee;setHome=new Ee;goToHome=new Ee;scanButtonText="";sub;ngAfterViewInit(){this.sub=Il([this.scanService.countdown$,this.scanService.isActive$]).subscribe(([r,s])=>{this.scanButtonText=s?`Update now (next update in ${r}s)`:"Start scanning at location",this.cdr.detectChanges()});let t=this.settings.radius??5;this.searchRadiusInputRef.nativeElement.value=t.toString();let n=(this.settings.interval/60).toString();this.checkIntervalInputRef.nativeElement.value=n}ngOnDestroy(){this.sub?.unsubscribe()}onResolveAndUpdate(t){t?.preventDefault(),this.resolveAndUpdate.emit()}onUseCurrentLocation(){this.useCurrentLocation.emit()}onGoToAirport(){this.goToAirport.emit()}onRadiusChange(){let t=this.searchRadiusInputRef.nativeElement.valueAsNumber;isNaN(t)||this.settings.setRadius(t)}onIntervalChange(){let t=this.checkIntervalInputRef.nativeElement.valueAsNumber;if(isNaN(t))return;let n=t*60;this.settings.interval=n,this.scanService.updateInterval(n)}onShowConeChange(t){let n=t.target.checked;this.coneVisibilityChange.emit(n)}onSetHome(){this.setHome.emit()}onGoToHome(){this.goToHome.emit()}static \u0275fac=function(n){return new(n||e)(fe(Ut),fe(Gr),fe(hn))};static \u0275cmp=Ze({type:e,selectors:[["app-input-overlay"]],viewQuery:function(n,r){if(n&1&&(Hn(XC,7),Hn(eI,7),Hn(tI,7)),n&2){let s;zn(s=Un())&&(r.addressInputRef=s.first),zn(s=Un())&&(r.searchRadiusInputRef=s.first),zn(s=Un())&&(r.checkIntervalInputRef=s.first)}},outputs:{resolveAndUpdate:"resolveAndUpdate",useCurrentLocation:"useCurrentLocation",goToAirport:"goToAirport",coneVisibilityChange:"coneVisibilityChange",setHome:"setHome",goToHome:"goToHome"},decls:29,vars:8,consts:[["addressInput",""],["searchRadiusInput",""],["checkIntervalInput",""],[1,"options-overlay"],["autocomplete","off",3,"submit"],[1,"form-group"],["for","address"],["type","text","autocomplete","street-address","id","address","placeholder","Enter address",3,"keydown.enter"],["for","searchRadius"],["type","number","id","searchRadius","placeholder","Enter search radius (km)","step","any",3,"keydown.enter","value"],["for","checkInterval"],["type","number","id","checkInterval","placeholder","Enter check interval (minutes)","step","any",3,"change","keydown.enter","value"],["for","showCone",1,"checkbox-inline"],["type","checkbox","id","showCone",3,"change"],[1,"button-group"],["id","findButton","type","primary",3,"text","nativeType"],["id","useLocationButton","type","secondary",3,"click","text"],["id","berButton","type","secondary",3,"click","text"],["id","setHomeButton","type","secondary",3,"click","text"],["id","goHomeButton","type","secondary",3,"click","text"]],template:function(n,r){if(n&1){let s=Vn();S(0,"div",3)(1,"form",4),Ce("submit",function(){return Oe(s),Ae(r.onResolveAndUpdate())}),S(2,"h1"),X(3,"Precious Little Lifeforms"),T(),S(4,"div",5)(5,"label",6),X(6,"Address"),T(),S(7,"input",7,0),Ce("keydown.enter",function(){return Oe(s),Ae(r.onResolveAndUpdate())}),T()(),S(9,"div",5)(10,"label",8),X(11,"Search Radius (km):"),T(),S(12,"input",9,1),Ce("keydown.enter",function(){return Oe(s),Ae(r.onResolveAndUpdate())}),T()(),S(14,"div",5)(15,"label",10),X(16,"Check Interval (minutes):"),T(),S(17,"input",11,2),Ce("change",function(){return Oe(s),Ae(r.onIntervalChange())})("keydown.enter",function(){return Oe(s),Ae(r.onResolveAndUpdate())}),T()(),S(19,"div",5)(20,"label",12)(21,"input",13),Ce("change",function(c){return Oe(s),Ae(r.onShowConeChange(c))}),T(),X(22," Show view axes "),T()(),S(23,"div",14),nt(24,"app-button",15),S(25,"app-button",16),Ce("click",function(){return Oe(s),Ae(r.onUseCurrentLocation())}),T(),S(26,"app-button",17),Ce("click",function(){return Oe(s),Ae(r.onGoToAirport())}),T(),S(27,"app-button",18),Ce("click",function(){return Oe(s),Ae(r.onSetHome())}),T(),S(28,"app-button",19),Ce("click",function(){return Oe(s),Ae(r.onGoToHome())}),T()()()()}n&2&&(x(12),j("value",r.settings.radius||5),x(5),j("value",r.settings.interval/60),x(7),j("text",r.scanButtonText)("nativeType","submit"),x(),j("text","Use My Current Location"),x(),j("text","Search near BER"),x(),j("text","Set Current Location as Home"),x(),j("text","Go to Home"))},dependencies:[ot,Qi],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/6.6.6/css/flag-icons.min.css";*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;color:#fff}body[_ngcontent-%COMP%]{line-height:1.5;-webkit-font-smoothing:antialiased;font-family:Instrument Sans,sans-serif}img[_ngcontent-%COMP%], picture[_ngcontent-%COMP%], video[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{display:block;max-width:100%}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font:inherit}html[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:inherit}body[_ngcontent-%COMP%]{font-family:Instrument Sans,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-variation-settings:"wdth" 100}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-family:Instrument Sans,sans-serif;font-optical-sizing:auto;font-weight:600;font-style:normal;font-variation-settings:"wdth" 100}h1[_ngcontent-%COMP%]{line-height:1.2}h3[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1px;font-size:.75rem;border-bottom:1px solid white;margin-bottom:.25rem;padding-bottom:.5rem}.leaflet-container[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-family:Instrument Sans,sans-serif!important;font-weight:600;letter-spacing:2px}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:.875rem}.fi[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.4);width:1.3em;line-height:.9em}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ffffff80;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}.options-overlay[_ngcontent-%COMP%]{position:absolute;top:.25rem;left:.25rem;z-index:1000;background:#000000b3;padding:1.5rem;border:1px solid rgba(255,255,255,.4);max-height:calc(100% - .5rem);display:flex;flex-direction:column;gap:.5rem;border-radius:.5rem;max-width:20rem}.options-overlay[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.options-overlay[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.options-overlay[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .options-overlay[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box;border:none;border-radius:2rem;padding-left:1rem;background:#ffffff2e;color:#fff;font-family:JetBrains Mono,monospace}.options-overlay[_ngcontent-%COMP%]   .checkbox-inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-weight:400}.options-overlay[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-bottom:20px}.options-overlay[_ngcontent-%COMP%]   #lastChecked[_ngcontent-%COMP%]{margin-top:10px;font-style:italic;color:#555}.options-overlay[_ngcontent-%COMP%]   #nextUpdate[_ngcontent-%COMP%]{margin-top:10px;font-weight:700}@media (max-width: 600px){.options-overlay[_ngcontent-%COMP%]{display:flex!important;flex-direction:column}.options-overlay[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.form-group:nth-child(3)){display:none!important}.options-overlay[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-child(3){display:block!important}}']})};var Ji=class e{inverseCountryMapping={};initialized=!1;init(){return At(this,null,function*(){if(this.initialized)return;let n=yield(yield fetch("https://esm.sh/i18n-iso-countries@7.14.0/langs/en.json")).json();for(let[r,s]of Object.entries(n.countries||{}))if(typeof s=="string")this.inverseCountryMapping[s.toLowerCase()]=r;else if(Array.isArray(s))for(let l of s)this.inverseCountryMapping[l.toLowerCase()]=r;this.initialized=!0})}getFlagHTML(t){if(t.toLowerCase().includes("kingdom of the netherlands"))return'<span class="fi fi-nl"></span>';if(t.toLowerCase().includes("republic of moldova"))return'<span class="fi fi-md"></span>';let n=this.inverseCountryMapping[t.toLowerCase()];return n?`<span class="fi fi-${n.toLowerCase()}"></span>`:`<span>${t}</span>`}static \u0275fac=function(n){return new(n||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})};var Xi=class e{localStorageKey="blockedPrefixes";NO_CALLSIGN_KEY="__NO_CALLSIGN__";defaultPrefixes=["RYR","DLH","WZZ","AUA","EJU","NSZ","KLM","LOT","AFR","SAS","UAE","EZJ","EZY","PGT","LHX","THY","IBS","EWG","BAW","DMY","PVD","DHA","NJE","CHX","DME","SWR","SXS","VLG","AEE","ETH","CCA","FIN","TVF","EIN","VJH","BEL","NOZ","CXI","CAO"];prefixes;constructor(){let t=localStorage.getItem(this.localStorageKey);if(t)try{let n=JSON.parse(t);Array.isArray(n)?this.prefixes=n:this.prefixes=[...this.defaultPrefixes]}catch{this.prefixes=[...this.defaultPrefixes]}else this.prefixes=[...this.defaultPrefixes]}getFilterPrefixes(){return this.prefixes}addPrefix(t){if(t===this.NO_CALLSIGN_KEY)return this.prefixes.includes(this.NO_CALLSIGN_KEY)?!1:(this.prefixes.push(this.NO_CALLSIGN_KEY),localStorage.setItem(this.localStorageKey,JSON.stringify(this.prefixes)),!0);let n=t.trim().toUpperCase().slice(0,3);return this.prefixes.includes(n)?!1:(this.prefixes.push(n),localStorage.setItem(this.localStorageKey,JSON.stringify(this.prefixes)),!0)}removePrefix(t){if(t===this.NO_CALLSIGN_KEY){let s=this.prefixes.indexOf(this.NO_CALLSIGN_KEY);return s!==-1?(this.prefixes.splice(s,1),localStorage.setItem(this.localStorageKey,JSON.stringify(this.prefixes)),!0):!1}let n=t.trim().toUpperCase().slice(0,3),r=this.prefixes.indexOf(n);return r!==-1?(this.prefixes.splice(r,1),localStorage.setItem(this.localStorageKey,JSON.stringify(this.prefixes)),!0):!1}togglePrefix(t){t&&(this.prefixes.includes(t)?this.removePrefix(t):this.addPrefix(t))}extractAirlinePrefix(t){return!t||t.trim()===""?this.NO_CALLSIGN_KEY:t.trim().substring(0,3).toUpperCase()}initializeFiltering(t){console.log(`[PlaneFilterService] Initializing filtering, excludeDiscount: ${t}`),console.log(`[PlaneFilterService] Prefixes: ${this.prefixes.join(", ")}`)}shouldIncludeCallsign(t,n,r,s=!1){if(s||!n)return!0;if(!t||t.trim()==="")return!r.includes(this.NO_CALLSIGN_KEY);let l=this.extractAirlinePrefix(t);return!r.includes(l)}isPlaneFiltered(t,n=!1){if(n)return!1;if(!t||t.trim()==="")return this.prefixes.includes(this.NO_CALLSIGN_KEY);let r=this.extractAirlinePrefix(t);return this.prefixes.includes(r)}toggleNoCallsignFilter(){return this.prefixes.includes(this.NO_CALLSIGN_KEY)?(this.removePrefix(this.NO_CALLSIGN_KEY),!1):(this.addPrefix(this.NO_CALLSIGN_KEY),!0)}areNoCallsignPlanesFiltered(){return this.prefixes.includes(this.NO_CALLSIGN_KEY)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})};var er=class e{constructor(t){this.http=t}db=new Map;load(){return Promise.all([this.http.get("/assets/basic-ac-db1.json",{responseType:"text"}).toPromise(),this.http.get("/assets/basic-ac-db2.json",{responseType:"text"}).toPromise()]).then(t=>{let n=[];t.forEach((r,s)=>{if(!r){console.error(`Empty response from basic-ac-db${s+1}.json`);return}r.split(/\r?\n/).filter(l=>l.trim().length>0).forEach(l=>{try{n.push(JSON.parse(l))}catch(c){console.error("Error parsing line:",l,c)}})}),n.forEach(r=>this.db.set(r.icao.toLowerCase(),r))}).catch(t=>{throw console.error("Error loading aircraft DB fragments:",t),t})}lookup(t){return this.db.get(t.toLowerCase())}static \u0275fac=function(n){return new(n||e)(V(Yi))};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})};function nI(e,t){if(e&1&&(Hi(0),S(1,"a",28),X(2),T(),zi()),e&2){let n=Ie().$implicit;x(),Zr("href","https://globe.adsbexchange.com/?icao=",n.icao,"",Ys),x(),it(" ",n.callsign," ")}}function iI(e,t){e&1&&(S(0,"span",29),X(1,"Pending"),T())}function rI(e,t){if(e&1&&(S(0,"span",30),X(1),T()),e&2){let n=Ie().$implicit;x(),_t(n.model)}}function oI(e,t){if(e&1&&(S(0,"span",31),X(1),T()),e&2){let n=Ie().$implicit;x(),_t(n.operator)}}function sI(e,t){if(e&1){let n=Vn();S(0,"div",19)(1,"span",13)(2,"span",20)(3,"app-button",21),Ce("click",function(){let s=Oe(n).$implicit,l=Ie(2);return Ae(l.onFilter(s))}),T(),nt(4,"span",22),Le(5,nI,3,3,"ng-container",23)(6,iI,2,0,"ng-template",null,2,Zn),T(),S(8,"span",24)(9,"span"),X(10),T(),S(11,"span",25),X(12," navigation "),T(),S(13,"span"),X(14),Su(15,"number"),T()()(),S(16,"span",13),Le(17,rI,2,1,"span",26)(18,oI,2,1,"span",27),T()()}if(e&2){let n,r=t.$implicit,s=$n(7),l=Ie(2);$r("new-plane",r.isNew===!0)("military-plane",r.isMilitary)("filtered-out",r.filteredOut)("hide-commercial",l.settings.excludeDiscount&&r.filteredOut&&!r.isMilitary),x(3),j("icon",l.planeFilter.isPlaneFiltered(r.callsign,r.isMilitary)?"visibility_off":"visibility")("size","small"),x(),j("innerHTML",l.countryService.getFlagHTML(r.origin),qs),x(),j("ngIf",r.callsign&&r.callsign.trim().length>=3)("ngIfElse",s),x(5),_t(r.cardinal),x(),Vi("transform","rotate("+((n=r==null?null:r.bearing)!==null&&n!==void 0?n:0)+"deg)"),x(3),it("(",Pu(15,19,r.bearing,"1.0-0"),"\xB0)"),x(3),j("ngIf",r.model),x(),j("ngIf",r.operator)}}function aI(e,t){if(e&1&&(S(0,"div",17),Le(1,sI,19,22,"div",18),T()),e&2){let n=Ie();x(),j("ngForOf",n.filteredSkyPlaneLog)}}function lI(e,t){e&1&&(S(0,"p"),X(1,"No planes worth peeping."),T())}function cI(e,t){if(e&1&&(Hi(0),S(1,"a",28),X(2),T(),zi()),e&2){let n=Ie().$implicit;x(),Zr("href","https://globe.adsbexchange.com/?icao=",n.icao,"",Ys),x(),it(" ",n.callsign," ")}}function uI(e,t){e&1&&(S(0,"span",29),X(1,"Pending"),T())}function dI(e,t){if(e&1&&(S(0,"span",30),X(1),T()),e&2){let n=Ie().$implicit;x(),_t(n.model)}}function fI(e,t){if(e&1&&(S(0,"span",31),X(1),T()),e&2){let n=Ie().$implicit;x(),_t(n.operator)}}function hI(e,t){if(e&1){let n=Vn();S(0,"div",19)(1,"span",13)(2,"span",20)(3,"app-button",21),Ce("click",function(){let s=Oe(n).$implicit,l=Ie(2);return Ae(l.onFilter(s))}),T(),nt(4,"span",22),Le(5,cI,3,3,"ng-container",23)(6,uI,2,0,"ng-template",null,2,Zn),T(),S(8,"span",24)(9,"span"),X(10),T(),S(11,"span",25),X(12," navigation "),T(),S(13,"span"),X(14),Su(15,"number"),T()()(),S(16,"span",13),Le(17,dI,2,1,"span",26)(18,fI,2,1,"span",27),T()()}if(e&2){let n,r=t.$implicit,s=$n(7),l=Ie(2);$r("new-plane",r.isNew===!0)("military-plane",r.isMilitary)("filtered-out",r.filteredOut)("hide-commercial",l.settings.excludeDiscount&&r.filteredOut&&!r.isMilitary),x(3),j("icon",l.planeFilter.isPlaneFiltered(r.callsign,r.isMilitary)?"visibility_off":"visibility")("size","small"),x(),j("innerHTML",l.countryService.getFlagHTML(r.origin),qs),x(),j("ngIf",r.callsign&&r.callsign.trim().length>=3)("ngIfElse",s),x(5),_t(r.cardinal),x(),Vi("transform","rotate("+((n=r==null?null:r.bearing)!==null&&n!==void 0?n:0)+"deg)"),x(3),it("(",Pu(15,19,r.bearing,"1.0-0"),"\xB0)"),x(3),j("ngIf",r.model),x(),j("ngIf",r.operator)}}function pI(e,t){if(e&1&&(S(0,"div",17),Le(1,hI,19,22,"div",18),T()),e&2){let n=Ie();x(),j("ngForOf",n.filteredAirportPlaneLog)}}function mI(e,t){e&1&&(S(0,"p"),X(1,"No planes worth peeping."),T())}function gI(e,t){if(e&1&&(Hi(0),S(1,"a",28),X(2),T(),zi()),e&2){let n=Ie().$implicit;x(),Zr("href","https://globe.adsbexchange.com/?icao=",n.icao,"",Ys),x(),it(" ",n.callsign," ")}}function vI(e,t){e&1&&(S(0,"span",29),X(1,"Pending"),T())}function yI(e,t){if(e&1&&(S(0,"span",30),X(1),T()),e&2){let n=Ie().$implicit;x(),_t(n.model)}}function _I(e,t){if(e&1&&(S(0,"span",31),X(1),T()),e&2){let n=Ie().$implicit;x(),_t(n.operator)}}function wI(e,t){if(e&1){let n=Vn();S(0,"div",19)(1,"span",13)(2,"span",20)(3,"app-button",21),Ce("click",function(){let s=Oe(n).$implicit,l=Ie(3);return Ae(l.onFilter(s))}),T(),nt(4,"span",22),Le(5,gI,3,3,"ng-container",23)(6,vI,2,0,"ng-template",null,2,Zn),T(),S(8,"span"),X(9),T()(),S(10,"span",13),Le(11,yI,2,1,"span",26)(12,_I,2,1,"span",27),T()()}if(e&2){let n=t.$implicit,r=$n(7),s=Ie(3);$r("new-plane",n.isNew===!0)("military-plane",n.isMilitary)("filtered-out",n.filteredOut)("hide-commercial",s.settings.excludeDiscount&&n.filteredOut&&!n.isMilitary),x(3),j("icon",s.planeFilter.isPlaneFiltered(n.callsign,n.isMilitary)?"visibility_off":"visibility")("size","small"),x(),j("innerHTML",s.countryService.getFlagHTML(n.origin),qs),x(),j("ngIf",n.callsign&&n.callsign.trim().length>=3)("ngIfElse",r),x(4),it(" ",s.getTimeAgo(n.firstSeen)," "),x(2),j("ngIf",n.model),x(),j("ngIf",n.operator)}}function bI(e,t){if(e&1&&(S(0,"div",33),Le(1,wI,13,16,"div",18),T()),e&2){let n=Ie(2);x(),j("ngForOf",n.seenPlaneLog)}}function DI(e,t){e&1&&(S(0,"p"),X(1,"No planes peeped."),T())}function EI(e,t){if(e&1&&(Hi(0),Le(1,bI,2,1,"div",32)(2,DI,2,0,"ng-template",null,3,Zn),zi()),e&2){let n=$n(3),r=Ie();x(),j("ngIf",r.seenPlaneLog&&r.seenPlaneLog.length)("ngIfElse",n)}}var oo=class e{constructor(t,n,r,s,l){this.countryService=t;this.planeFilter=n;this.settings=r;this.aircraftDb=s;this.scanService=l}get seenCollapsed(){return this.settings.seenCollapsed}skyPlaneLog=[];airportPlaneLog=[];seenPlaneLog=[];filterPrefix=new Ee;exportFilterList=new Ee;clearHistoricalList=new Ee;filteredSkyPlaneLog=[];filteredAirportPlaneLog=[];filteredSeenPlaneLog=[];now=Date.now();refreshSub;scanSub;baseTitle="Plane Alert";emptyTitle="Nothing peepworthy. - Plane Alert";lastTitleUpdateHash="";lastSkyPlaneHash="";lastAirportPlaneHash="";resultsUpdated=!1;ignoreNextFilterChange=!1;lastToggleTime=0;DEBOUNCE_TIME=500;get commercialMute(){return this.settings.commercialMute}NEW_PLANE_MINUTES=1;ngOnInit(){this.refreshSub=Cr(1e3).subscribe(()=>{this.now=Date.now(),this.sortLogs(),this.updateFilteredLogs(),this.checkForResultsUpdates()});let t=0;this.scanSub=this.scanService.countdown$.subscribe(n=>{n>t&&t!==0&&(this.resultsUpdated=!0,console.log("[ResultsOverlay] Scan started. Mute:",this.commercialMute,"onlyCommercial:",this.onlyCommercial)),t=n}),this.settings.excludeDiscountChanged.subscribe(()=>{if(this.ignoreNextFilterChange){this.ignoreNextFilterChange=!1;return}this.resultsUpdated=!0}),this.resultsUpdated=!0}ngAfterViewInit(){this.updateFilteredLogs(),this.updatePageTitle()}ngOnChanges(t){(t.skyPlaneLog||t.airportPlaneLog)&&(this.resultsUpdated=!0,this.updateFilteredLogs())}ngOnDestroy(){this.refreshSub?.unsubscribe(),this.scanSub?.unsubscribe(),document.title=this.baseTitle}getTimeAgo(t){let n=Math.floor((this.now-t)/1e3),r=Math.floor(n/60),s=Math.floor(r/60);return n<60?"<1m ago":r<60?`${r}m ago`:`${s}h ${r%60}m ago`}onFilter(t){console.log("[ResultsOverlay] onFilter called for:",t.icao,"Current filteredOut:",t.filteredOut),this.filterPrefix.emit(t)}onExportList(){this.exportFilterList.emit()}onClearHistoricalList(){this.clearHistoricalList.emit()}onToggleCommercialFilter(){let t=Date.now();if(t-this.lastToggleTime<this.DEBOUNCE_TIME)return;this.lastToggleTime=t;let n=this.settings.excludeDiscount;this.ignoreNextFilterChange=!0,this.settings.setExcludeDiscount(!n),this.resultsUpdated=!0}onExcludeCommercialChange(t){let n=t.target.checked;this.settings.setExcludeDiscount(n),this.resultsUpdated=!0}onToggleCommercialMute(){this.settings.setCommercialMute(!this.settings.commercialMute)}get onlyCommercial(){return this.filteredSkyPlaneLog.concat(this.filteredAirportPlaneLog).length>0&&this.filteredSkyPlaneLog.concat(this.filteredAirportPlaneLog).every(t=>!t.isMilitary)}toggleSeenCollapsed(){this.settings.setSeenCollapsed(!this.settings.seenCollapsed)}updateFilteredLogs(){this.filteredSkyPlaneLog=this.skyPlaneLog.filter(n=>!n.filteredOut),this.filteredAirportPlaneLog=this.airportPlaneLog.filter(n=>!n.filteredOut),this.filteredSeenPlaneLog=this.seenPlaneLog.filter(n=>!n.filteredOut);let t=Date.now();for(let n of[...this.filteredSkyPlaneLog,...this.filteredAirportPlaneLog,...this.filteredSeenPlaneLog])n.isNew&&t-n.firstSeen>this.NEW_PLANE_MINUTES*60*1e3&&(n.isNew=!1)}setMilitaryFlag(t){t.forEach(n=>{let r=this.aircraftDb.lookup(n.icao);n.isMilitary=r?.mil||!1})}unifyNewFlags(){let t=new Map(this.skyPlaneLog.map(n=>[n.icao,n.isNew]));this.seenPlaneLog.forEach(n=>{let r=t.get(n.icao);typeof r=="boolean"&&(n.isNew=r)})}sortLogs(){this.setMilitaryFlag(this.skyPlaneLog),this.setMilitaryFlag(this.airportPlaneLog),this.setMilitaryFlag(this.seenPlaneLog);let t=(n,r)=>{if(n.isMilitary!==r.isMilitary)return n.isMilitary?-1:1;let s=Math.floor((this.now-n.firstSeen)/(60*1e3)),l=Math.floor((this.now-r.firstSeen)/(60*1e3));if(s!==l)return s-l;if(n.isNew!==r.isNew)return n.isNew?-1:1;if(n.firstSeen!==r.firstSeen)return r.firstSeen-n.firstSeen;let c=!!(n.callsign&&n.callsign.trim().length>0),d=!!(r.callsign&&r.callsign.trim().length>0);return c!==d?c?-1:1:(n.callsign||"")!==(r.callsign||"")?(n.callsign||"").localeCompare(r.callsign||""):n.icao.localeCompare(r.icao)};this.skyPlaneLog.sort(t),this.airportPlaneLog.sort(t),this.seenPlaneLog.sort(t),this.unifyNewFlags()}checkForResultsUpdates(){if(this.resultsUpdated){this.updatePageTitle(),this.resultsUpdated=!1;return}let t=this.getPlaneListHash(this.skyPlaneLog),n=this.getPlaneListHash(this.airportPlaneLog);(t!==this.lastSkyPlaneHash||n!==this.lastAirportPlaneHash)&&(this.updatePageTitle(),this.lastSkyPlaneHash=t,this.lastAirportPlaneHash=n)}getPlaneListHash(t){return t.map(n=>`${n.icao}:${n.model||""}:${n.isMilitary?1:0}:${n.filteredOut?1:0}`).join(",")}updatePageTitle(){this.updateFilteredLogs();let t=this.getTopPriorityPlane();if(t){let n=t.model||t.callsign;t.isMilitary&&!t.model&&(n=`Military ${t.callsign}`),t.origin&&(n=`[${t.origin}] ${n}`);let s=`${t.isMilitary?"MIL ":""}${n}`;s!==this.lastTitleUpdateHash&&(this.lastTitleUpdateHash=s,document.title=`${s} peeped! | ${this.baseTitle}`)}else this.lastTitleUpdateHash!==""&&(this.lastTitleUpdateHash="",document.title=this.emptyTitle);this.lastSkyPlaneHash=this.getPlaneListHash(this.skyPlaneLog),this.lastAirportPlaneHash=this.getPlaneListHash(this.airportPlaneLog)}getTopPriorityPlane(){let t=[...this.filteredSkyPlaneLog,...this.filteredAirportPlaneLog];if(t.length===0)return;let n=t.find(s=>s.isMilitary);if(n)return n;let r=t.find(s=>s.model);return r||t[0]}static \u0275fac=function(n){return new(n||e)(fe(Ji),fe(Xi),fe(Ut),fe(er),fe(hn))};static \u0275cmp=Ze({type:e,selectors:[["app-results-overlay"]],inputs:{skyPlaneLog:"skyPlaneLog",airportPlaneLog:"airportPlaneLog",seenPlaneLog:"seenPlaneLog"},outputs:{filterPrefix:"filterPrefix",exportFilterList:"exportFilterList",clearHistoricalList:"clearHistoricalList"},features:[kn],decls:27,vars:21,consts:[["noSkyPlanes",""],["noAirportPlanes",""],["noLink",""],["noSeen",""],[1,"results-overlay"],[1,"button-group"],[1,"commercial-toggle-group"],[1,"label"],[1,"buttons"],[3,"click","icon","type","size","ariaLabel"],[1,"plane-section"],["class","plane-list",4,"ngIf","ngIfElse"],["id","seenResults"],[1,"top"],["id","collapseSeenButton","type","tertiary",3,"click","icon","size","ariaLabel"],["type","tertiary",1,"clear-seen",3,"click","icon","size"],[4,"ngIf"],[1,"plane-list"],["class","plane-item",3,"new-plane","military-plane","filtered-out","hide-commercial",4,"ngFor","ngForOf"],[1,"plane-item"],[1,"flag-callsign"],["type","tertiary",3,"click","icon","size"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],[1,"direction-info"],[1,"material-symbols-sharp","direction-icon"],["class","model",4,"ngIf"],["class","operator",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"none-callsign"],[1,"model"],[1,"operator"],["class","seen-list plane-list",4,"ngIf","ngIfElse"],[1,"seen-list","plane-list"]],template:function(n,r){if(n&1){let s=Vn();S(0,"div",4)(1,"div",5)(2,"div",6)(3,"span",7),X(4,"Commercial"),T(),S(5,"div",8)(6,"app-button",9),Ce("click",function(){return Oe(s),Ae(r.onToggleCommercialFilter())}),T(),S(7,"app-button",9),Ce("click",function(){return Oe(s),Ae(r.onToggleCommercialMute())}),T()()()(),S(8,"div",10)(9,"h3"),X(10),T(),Le(11,aI,2,1,"div",11)(12,lI,2,0,"ng-template",null,0,Zn),T(),S(14,"div",10)(15,"h3"),X(16),T(),Le(17,pI,2,1,"div",11)(18,mI,2,0,"ng-template",null,1,Zn),T(),S(20,"div",12)(21,"h3",13),X(22),S(23,"span")(24,"app-button",14),Ce("click",function(){return Oe(s),Ae(r.toggleSeenCollapsed())}),T(),S(25,"app-button",15),Ce("click",function(){return Oe(s),Ae(r.onClearHistoricalList())}),T()()(),Le(26,EI,4,2,"ng-container",16),T()()}if(n&2){let s=$n(13),l=$n(19);x(6),j("icon",r.settings.excludeDiscount?"visibility_off":"visibility")("type","secondary")("size","small")("ariaLabel",r.settings.excludeDiscount?"Show commercial planes":"Hide commercial planes"),x(),j("icon",r.commercialMute?"volume_off":"volume_up")("type","secondary")("size","small")("ariaLabel",r.commercialMute?"Unmute commercial alert":"Mute commercial alert"),x(3),it("Planes in the Sky (",r.filteredSkyPlaneLog.length,")"),x(),j("ngIf",r.filteredSkyPlaneLog&&r.filteredSkyPlaneLog.length)("ngIfElse",s),x(5),it("Planes at the Airport (",r.filteredAirportPlaneLog.length,")"),x(),j("ngIf",r.filteredAirportPlaneLog&&r.filteredAirportPlaneLog.length)("ngIfElse",l),x(5),it(" All Planes Peeped (",r.seenPlaneLog.length,")"),x(2),j("icon",r.seenCollapsed?"expand_less":"expand_more")("size","medium")("ariaLabel",r.seenCollapsed?"Expand seen list":"Collapse seen list"),x(),j("icon","refresh")("size","medium"),x(),j("ngIf",!r.seenCollapsed)}},dependencies:[ot,sa,Gn,Bu,Qi],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/6.6.6/css/flag-icons.min.css";*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;color:#fff}body[_ngcontent-%COMP%]{line-height:1.5;-webkit-font-smoothing:antialiased;font-family:Instrument Sans,sans-serif}img[_ngcontent-%COMP%], picture[_ngcontent-%COMP%], video[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{display:block;max-width:100%}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font:inherit}html[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:inherit}body[_ngcontent-%COMP%]{font-family:Instrument Sans,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-variation-settings:"wdth" 100}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-family:Instrument Sans,sans-serif;font-optical-sizing:auto;font-weight:600;font-style:normal;font-variation-settings:"wdth" 100}h1[_ngcontent-%COMP%]{line-height:1.2}h3[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:1px;font-size:.75rem;border-bottom:1px solid white;margin-bottom:.25rem;padding-bottom:.5rem}.leaflet-container[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-family:Instrument Sans,sans-serif!important;font-weight:600;letter-spacing:2px}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:.875rem}.fi[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.4);width:1.3em;line-height:.9em}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ffffff80;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}.results-overlay[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;z-index:1000;background:#000000b3;padding:1.5rem;border:1px solid rgba(255,255,255,.4);width:22rem;max-height:calc(100% - .5rem);display:grid;grid-auto-rows:auto auto 1fr auto;gap:1.5rem;border-radius:.5rem}.results-overlay[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.results-overlay[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .clear-seen[_ngcontent-%COMP%]{margin-right:-.5rem}.results-overlay[_ngcontent-%COMP%]   .plane-section[_ngcontent-%COMP%], .results-overlay[_ngcontent-%COMP%]   .plane-list-wrapper[_ngcontent-%COMP%]{position:relative}.results-overlay[_ngcontent-%COMP%]   .plane-list-wrapper[_ngcontent-%COMP%]   .plane-list[_ngcontent-%COMP%]{z-index:1}.results-overlay[_ngcontent-%COMP%]   .plane-list-wrapper[_ngcontent-%COMP%]   .plane-list-fade[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:2.5rem;pointer-events:none;background:linear-gradient(to bottom,#0000,#000);mix-blend-mode:destination-out;z-index:2}.results-overlay[_ngcontent-%COMP%]   .plane-section-fade[_ngcontent-%COMP%]{display:none!important}.results-overlay[_ngcontent-%COMP%]   .plane-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;position:relative;padding-bottom:0;max-height:40vh;overflow-y:auto;min-height:10vh;-webkit-mask-image:linear-gradient(to bottom,rgb(0,0,0) 80%,rgba(0,0,0,0) 100%);mask-image:linear-gradient(to bottom,black 80%,transparent 100%)}.results-overlay[_ngcontent-%COMP%]   .plane-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;gap:.25rem}.results-overlay[_ngcontent-%COMP%]   .plane-list[_ngcontent-%COMP%]   .plane-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-bottom:1px solid rgba(255,255,255,.4);padding-bottom:.5rem}.results-overlay[_ngcontent-%COMP%]   .plane-list[_ngcontent-%COMP%]   .plane-item[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.results-overlay[_ngcontent-%COMP%]   .plane-list[_ngcontent-%COMP%]   .plane-item[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.results-overlay[_ngcontent-%COMP%]   .plane-list[_ngcontent-%COMP%]   .plane-item.military-plane[_ngcontent-%COMP%]{color:#89d138}.results-overlay[_ngcontent-%COMP%]   #seenResults[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column}.results-overlay[_ngcontent-%COMP%]   #seenResults[_ngcontent-%COMP%]   .seen-list[_ngcontent-%COMP%]{overflow-y:auto;max-height:100%}.results-overlay[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:.5rem}.results-overlay[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .commercial-toggle-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.results-overlay[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .commercial-toggle-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;margin-right:.25rem}.results-overlay[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .commercial-toggle-group[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]     button{min-width:auto;border-radius:0}.results-overlay[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .commercial-toggle-group[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]:first-child     button{border-top-left-radius:2rem;border-bottom-left-radius:2rem;padding-left:1rem;padding-right:.75rem;border-right:transparent}.results-overlay[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .commercial-toggle-group[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]:last-child     button{border-top-right-radius:2rem;border-bottom-right-radius:2rem;padding-right:1rem;padding-left:.75rem}.new-plane[_ngcontent-%COMP%]{color:#ff6161}.new-plane[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700}.plane-item[_ngcontent-%COMP%]{align-items:center;font-family:JetBrains Mono,monospace}.plane-item[_ngcontent-%COMP%]   .flag-callsign[_ngcontent-%COMP%], .plane-item[_ngcontent-%COMP%]   .direction-info[_ngcontent-%COMP%]{display:grid;gap:.25rem;align-items:center}.plane-item[_ngcontent-%COMP%]   .direction-info[_ngcontent-%COMP%]{grid-template-columns:1fr 1.75rem 3.5rem;justify-items:end;text-align:right;font-variation-settings:"FILL" 0,"wght" 320,"GRAD" 0,"opsz" 20;transform-origin:center center}.plane-item[_ngcontent-%COMP%]   .direction-info[_ngcontent-%COMP%]   .direction-icon[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;display:flex;align-items:center;justify-content:center;transform-origin:center center}.plane-item[_ngcontent-%COMP%]   .flag-callsign[_ngcontent-%COMP%]{grid-template-columns:2rem 1.75rem 5rem;margin-left:-.5rem}.plane-item.filtered-out[_ngcontent-%COMP%], .plane-item.hide-commercial[_ngcontent-%COMP%]{display:none!important}.none-callsign[_ngcontent-%COMP%]{color:gray}@media (max-width: 600px){.results-overlay[_ngcontent-%COMP%]{display:none!important}}']})};function Wg(){let e=Math.floor(Math.random()*7)-3,t=Math.pow(3,e/12),n=new(window.AudioContext||window.webkitAudioContext),r=n.currentTime,s=[{freq:261.63,duration:.3},{freq:261.63,duration:.3},{freq:261.63,duration:.3},{freq:261.63,duration:.3},{freq:261.63,duration:.3},{freq:783.99,duration:1},{freq:880,duration:1}],l=.1,c=r;s.forEach(d=>{let h=n.createOscillator(),m=n.createGain();h.connect(m),m.connect(n.destination),h.frequency.value=d.freq*t,m.gain.setValueAtTime(.1,c),h.start(c),h.stop(c+d.duration),c+=d.duration+l})}var tr=class{callsign;origin;firstSeen;model;operator;bearing;cardinal;arrow;icao;isNew;lat;lon;marker;path;predictedPathArrowhead;filteredOut;onGround;isMilitary;positionHistory=[];historyTrailSegments;MAX_HISTORY_SIZE=15;constructor(t){Object.assign(this,t),this.historyTrailSegments=[],this.predictedPathArrowhead=void 0,t.lat!==void 0&&t.lon!==void 0&&this.addPositionToHistory(t.lat,t.lon,t.track,t.velocity)}updateFrom(t){let n=this.lat,r=this.lon,s=n!==void 0&&r!==void 0;Object.assign(this,t),this.isNew=Date.now()-this.firstSeen<60*1e3}addPositionToHistory(t,n,r,s){this.positionHistory.push({lat:t,lon:n,timestamp:Date.now(),track:r,velocity:s}),this.positionHistory.length>this.MAX_HISTORY_SIZE&&this.positionHistory.shift()}removeHistoryTrailSegments(t){this.historyTrailSegments&&(this.historyTrailSegments.forEach(n=>t.removeLayer(n)),this.historyTrailSegments=[])}removeVisuals(t){this.marker?.remove(),this.path?.remove(),this.predictedPathArrowhead?.remove(),this.removeHistoryTrailSegments(t)}};function qg(e,t,n="cyan",r=.5){if(!e.querySelector(`#${t}`)){let s=document.createElementNS("http://www.w3.org/2000/svg","defs"),l=document.createElementNS("http://www.w3.org/2000/svg","pattern");l.setAttribute("id",t),l.setAttribute("width","4"),l.setAttribute("height","4"),l.setAttribute("patternUnits","userSpaceOnUse"),l.setAttribute("patternTransform","rotate(45)");let c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("width","2"),c.setAttribute("height","4"),c.setAttribute("fill",n),c.setAttribute("fill-opacity",r.toString()),l.appendChild(c),s.appendChild(l),e.insertBefore(s,e.firstChild)}}var Xn=_r(Ki());var CI="__NO_CALLSIGN__";function Yg(e,t,n,r=!1){if(r||!t)return!1;if(!e||e.trim()==="")return n.includes(CI);let s=e.toUpperCase();return n.some(l=>s.startsWith(l))}var Jn=_r(Ki());function Kg(e,t,n,r,s,l,c,d,h,m="",g=!1,_="",D=!1){let y=_.toLowerCase(),b=D||y.includes("copter")||y.includes("helicopter")||y.includes("heli")||y.includes("chopper"),I=`<div class="plane-marker ${c&&d?"new-and-grounded":c?"new-plane":d?"grounded-plane":""} ${g?"military-plane":""} ${b?"copter-plane":""}" style="transform: rotate(${b?0:s+90}deg); ${l}">${m}</div>`,P=Jn.divIcon({className:"plane-marker-container",html:I,iconSize:[48,48],iconAnchor:[24,24]}),N={permanent:!0,direction:"right",offset:d?Jn.point(-10,0):Jn.point(10,0),className:`plane-tooltip ${d?"grounded-plane-tooltip":""} ${c?"new-plane-tooltip":""} ${g?"military-plane-tooltip":""}`,pane:"tooltipPane"},se=(O,ne)=>{let le=ne?1e4:0,me=ne?"20000":"";O.setZIndexOffset(le);let Ne=O.getTooltip()?.getElement();Ne&&(Ne.style.zIndex=me)};if(e){e.setLatLng([n,r]),e.setIcon(P),e.getTooltip()&&e.unbindTooltip(),e.bindTooltip(h,N);let O=()=>se(e,!0),ne=()=>se(e,!1);return e.off("mouseover"),e.off("mouseout"),e.off("tooltipopen"),e.off("tooltipclose"),e.on("mouseover",O),e.on("mouseout",ne),e.on("tooltipopen",()=>{let le=e.getTooltip()?.getElement();le&&(le.addEventListener("mouseenter",O),le.addEventListener("mouseleave",ne))}),e.on("tooltipclose",()=>{let le=e.getTooltip()?.getElement();le&&(le.removeEventListener("mouseenter",O),le.removeEventListener("mouseleave",ne))}),{marker:e,isNewMarker:!1}}else{let O=Jn.marker([n,r],{icon:P});O.bindTooltip(h,N),O.addTo(t);let ne=()=>se(O,!0),le=()=>se(O,!1);return O.on("mouseover",ne),O.on("mouseout",le),O.on("tooltipopen",()=>{let me=O.getTooltip()?.getElement();me&&(me.addEventListener("mouseenter",ne),me.addEventListener("mouseleave",le))}),O.on("tooltipclose",()=>{let me=O.getTooltip()?.getElement();me&&(me.removeEventListener("mouseenter",ne),me.removeEventListener("mouseleave",le))}),{marker:O,isNewMarker:!0}}}function Qg(e,t,n,r,s,l,c,d,h,m){let g=t&&t.trim().length>=3?t:'<span class="none-callsign">Pending</span>';return`<a href="https://globe.adsbexchange.com/?icao=${e}" target="_blank" rel="noopener noreferrer" class="plane-tooltip-link">
    ${c(n)} <strong>${g}${m?'<span class="material-symbols-sharp icon small military-star-tooltip">star</span>':""}</strong>
    ${r?`<span class="aircraft-model">${r}</span>`:""}
    <span class="velocity">${l}</span>
    ${s?`<span class="aircraft-operator">${s}</span>`:""}
  </a>`}var Da=class e{previousScanPlanes=new Set;isNew(t){return!this.previousScanPlanes.has(t)}updatePlanes(t){this.previousScanPlanes=new Set(t)}getPreviousScanPlanes(){return this.previousScanPlanes}static \u0275fac=function(n){return new(n||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ea=class e{constructor(t){this.http=t;this.loadHelicopterList()}helicopterIcaos=new Set;customListLoaded=!1;listUpdated=new Lt;lastLoadTime=0;helicopterListUpdated$=this.listUpdated.asObservable();loadHelicopterList(){let t=new Date().getTime();return this.http.get(`/assets/helicopter-icaos.json?_=${t}`,{responseType:"text"}).toPromise().then(n=>{if(!n){console.log("No helicopter-icaos.json file found, using empty list");return}try{let r=JSON.parse(n);this.helicopterIcaos=new Set(r.map(s=>s.toLowerCase())),this.customListLoaded=!0,this.lastLoadTime=Date.now(),console.log(`[HelicopterListService] Loaded ${this.helicopterIcaos.size} custom helicopter ICAOs`),this.listUpdated.next()}catch(r){console.error("Error parsing helicopter-icaos.json:",r)}}).catch(n=>{n.status===404?console.log("No helicopter-icaos.json file found, using empty list"):console.error("Error loading helicopter list:",n)})}refreshHelicopterList(t=!1){let n=Date.now();return t||n-this.lastLoadTime>3e4?(console.log("[HelicopterListService] Refreshing helicopter ICAO list"),this.loadHelicopterList().then(()=>!0)):(console.log("[HelicopterListService] Skipping refresh, last load too recent"),Promise.resolve(!1))}isHelicopter(t){return this.customListLoaded?this.helicopterIcaos.has(t.trim().toLowerCase()):!1}getAllHelicopterIcaos(){return Array.from(this.helicopterIcaos)}static \u0275fac=function(n){return new(n||e)(V(Yi))};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})};function TI(e,t,n,r,s){let l=e*e,c=l*e,d=.5*(2*n[0]+(-t[0]+r[0])*e+(2*t[0]-5*n[0]+4*r[0]-s[0])*l+(-t[0]+3*n[0]-3*r[0]+s[0])*c),h=.5*(2*n[1]+(-t[1]+r[1])*e+(2*t[1]-5*n[1]+4*r[1]-s[1])*l+(-t[1]+3*n[1]-3*r[1]+s[1])*c);return[d,h]}var Ca=class e{constructor(t,n,r){this.newPlaneService=t;this.settings=n;this.helicopterListService=r}mapInitialized=!1;isInitialLoad=!1;setInitialLoad(t){this.isInitialLoad=t,console.log(`[PlaneFinderService] Initial load flag set to ${t}`)}randomizeBrightness(){return`filter: brightness(${(Math.random()*.4+.8).toFixed(2)});`}computeExtraStyle(t,n){if(n)return this.randomizeBrightness();let r=12e3;return t==null?"":`color: hsl(${Math.min(t/r,1)*300}, 100%, 50%);`}removePlaneVisuals(t,n){t.marker?.remove(),t.path?.remove(),t.predictedPathArrowhead?.remove(),t.removeHistoryTrailSegments(n)}updatePlanePath(t,n,r,s,l,c,d){if(l==null||c==null||d)n.path&&(t.removeLayer(n.path),n.path=void 0),n.predictedPathArrowhead&&(t.removeLayer(n.predictedPathArrowhead),n.predictedPathArrowhead=void 0),d&&n.removeHistoryTrailSegments(t);else{let h=[[r,s]],m=0,g=n.positionHistory;if(g.length>=2&&g[g.length-1].track!=null&&g[g.length-2].track!=null){let he=g[g.length-1].track,Ne=g[g.length-2].track,B=(g[g.length-1].timestamp-g[g.length-2].timestamp)/6e4;B>0&&(m=(he-Ne)/B)}let _=l,D=.5,y=15,b=r,I=s,P=_,N=D/y;for(let he=1;he<=y;he++){P=P+m*N,P=(P%360+360)%360;let Ne=P*Math.PI/180,B=c*60*N/1e3,J=6371,He=b*Math.PI/180,Fe=I*Math.PI/180,we=B/J,ie=Math.asin(Math.sin(He)*Math.cos(we)+Math.cos(He)*Math.sin(we)*Math.cos(Ne)),ct=Fe+Math.atan2(Math.sin(Ne)*Math.sin(we)*Math.cos(He),Math.cos(we)-Math.sin(He)*Math.sin(ie));b=ie*180/Math.PI,I=ct*180/Math.PI,h.push([b,I])}let se=h,O=30,ne=[];se.length>0&&ne.push(se[0]);for(let he=1;he<=O;he++){let Ne=he/O;ne.push(this.calculateCurvePoint(Ne,se))}h=ne;let le=5;if(h=h.filter(he=>Yn(r,s,he[0],he[1])<=le),Array.from(new Set(h.map(he=>he.join(",")))).length>=2?n.path?(n.path.setLatLngs(h),n.path.setStyle({className:"predicted-path-line"})):n.path=Xn.polyline(h,{className:"predicted-path-line",interactive:!1,pane:"overlayPane"}).addTo(t):(n.path&&(t.removeLayer(n.path),n.path=void 0),n.predictedPathArrowhead&&(t.removeLayer(n.predictedPathArrowhead),n.predictedPathArrowhead=void 0)),h.length>=2){let he=h[h.length-1],Ne=h[h.length-2],J=nd(Ne[0],Ne[1],he[0],he[1])-90,He=Xn.divIcon({html:`<div style="transform: rotate(${J}deg);">\u25B6</div>`,className:"predicted-path-arrowhead",iconSize:[20,20],iconAnchor:[10,10]});n.predictedPathArrowhead?(n.predictedPathArrowhead.setLatLng(he),n.predictedPathArrowhead.setIcon(He)):n.predictedPathArrowhead=Xn.marker(he,{icon:He,interactive:!1,pane:"pathArrowheadPane"}).addTo(t)}else n.predictedPathArrowhead&&(t.removeLayer(n.predictedPathArrowhead),n.predictedPathArrowhead=void 0)}if(n.positionHistory&&n.positionHistory.length>1&&!d){let h=n.positionHistory.map(g=>[g.lat,g.lon]);h.push([r,s]);let m=[];for(let g=0;g<h.length;g++){let _=0,D=0,y=0;for(let b=Math.max(0,g-1);b<=Math.min(h.length-1,g+1);b++)typeof h[b]?.[0]=="number"&&typeof h[b]?.[1]=="number"&&(_+=h[b][0],D+=h[b][1],y++);y>0&&m.push([_/y,D/y])}if(m.length<2)n.removeHistoryTrailSegments(t);else{n.removeHistoryTrailSegments(t);let g=m.length-1,_=.05,D=.7,y=6;for(let b=0;b<g;b++){let I=m[Math.max(0,b-1)],P=m[b],N=m[b+1],se=m[Math.min(m.length-1,b+2)],O=[];O.push(P);for(let me=1;me<=y;me++){let he=me/y;O.push(TI(he,I,P,N,se))}let ne=_+(D-_)*(b/(g>1?g-1:1)),le=Xn.polyline(O,{color:"white",weight:4,opacity:ne,interactive:!1}).addTo(t);n.historyTrailSegments.push(le)}}}else n.removeHistoryTrailSegments(t);return n.path}generateCurvedPathControlPoints(t,n){let r=[];for(let s of t)r.push(s);return r.push(n),r}calculateCurvePoint(t,n){if(n.length<2)return n[0];if(n.length===2)return[n[0][0]+t*(n[1][0]-n[0][0]),n[0][1]+t*(n[1][1]-n[0][1])];let r=(n.length-1)*t,s=Math.floor(r),l=r-s,c=n[Math.max(0,s-1)],d=n[s],h=n[Math.min(n.length-1,s+1)],m=n[Math.min(n.length-1,s+2)],g=.5,_=l*l,D=_*l,y=(1-g)/2,b=2*D-3*_+1,I=-2*D+3*_,P=D-2*_+l,N=D-_,se=b*d[0]+I*h[0]+y*(P*(h[0]-c[0])+N*(m[0]-d[0])),O=b*d[1]+I*h[1]+y*(P*(h[1]-c[1])+N*(m[1]-d[1]));return[se,O]}findPlanes(t,n,r,s,l,c,d,h,m,g,_,D){return At(this,null,function*(){yield this.helicopterListService.refreshHelicopterList(m),this.mapInitialized||(t.setView([this.settings.mapLat??n,this.settings.mapLon??r],this.settings.mapZoom),t.on("moveend",()=>{let B=t.getCenter();this.settings.setMapLat(B.lat),this.settings.setMapLon(B.lng)}),t.on("zoomend",()=>{this.settings.setMapZoom(t.getZoom())}),this.mapInitialized=!0);let y=s/111,b=s/(111*Math.cos(n*Math.PI/180)),I=n-y,P=n+y,N=r-b,se=r+b,O=`https://opensky-network.org/api/states/all?lamin=${I}&lamax=${P}&lomin=${N}&lomax=${se}&extended=1`,ne=yield fetch(O);if(!ne.ok)throw new Error("Failed to fetch plane data");let le=yield ne.json(),me=new Set,he=[],Ne=!1;le.states?.forEach(B=>{let J=B[0],He=B[1]?.trim()||"",Fe=B[2]||"Unknown",we=B[6],ie=B[5],ct=B[10],F=B[9],ei=B[13],k=!!B[8],pe=_(J),ke=pe?.mil||!1,ze=Yg(He,l,c),_e=this.isInitialLoad||ke?!1:ze;if(me.add(J),Yn(n,r,we,ie)>s){let pn=D.get(J);pn&&(this.removePlaneVisuals(pn,t),D.delete(J));return}let G=this.newPlaneService.isNew(J);G&&!_e&&(Ne=!0,console.log(`[PlaneFinderService] New non-filtered plane detected: ${J} (${He||"no callsign"})`),g());let ce=D.get(J),ut=!!ce;if(ce)ce.callsign=He,ce.origin=Fe,ce.lat=we,ce.lon=ie,ce.filteredOut=_e,ce.onGround=k,ce.isNew=G;else{let pn=Date.now(),or={icao:J,callsign:He,origin:Fe,firstSeen:pn,model:"",operator:"",bearing:0,cardinal:"",arrow:"",isNew:G,lat:we,lon:ie,marker:void 0,path:void 0,filteredOut:_e,onGround:k,track:ct,velocity:F};ce=new tr(or),D.set(J,ce),console.log(`[PlaneFinderService] Created new PlaneModel for ${J}`)}let ti=pe?.model||"",ni=pe?.ownop||"";ce.model=ti,ce.operator=ni;let ii=nd(n,r,we,ie),on=Hg(ii),nr=zg(on);ce.bearing=ii,ce.cardinal=on,ce.arrow=nr,ut&&typeof we=="number"&&typeof ie=="number"?ce.addPositionToHistory(we,ie,ct,F):!ut&&(typeof we!="number"||typeof ie!="number")?console.warn(`[PlaneFinderService ${J}] New plane created without valid initial lat/lon:`,we,ie):ut&&(typeof we!="number"||typeof ie!="number")&&console.warn(`[PlaneFinderService ${J}] Existing plane received invalid lat/lon:`,we,ie);let ir=F?(F*3.6).toFixed(0)+" km/h":"",ri=ei?ei.toFixed(0)+" m":"",so=ir&&ri?`${ir} | ${ri}`:ir||ri||"",rr=Qg(J,He,Fe,ti,ni,so,h,G,k,ke),oi=this.computeExtraStyle(ei,k),{marker:Ta}=Kg(ce.marker,t,we,ie,(ct??0)-90,oi,G,k,rr,"",ke,ti,this.helicopterListService.isHelicopter(J));ce.marker=Ta,this.updatePlanePath(t,ce,we,ie,ct,F,k),he.push(ce)});for(let[B,J]of D.entries())me.has(B)||(this.removePlaneVisuals(J,t),D.delete(B),console.log(`[PlaneFinderService] Removed stale plane ${B}`));return he.forEach(B=>{let J=this.newPlaneService.isNew(B.icao);B.isNew=J;let Fe=_(B.icao)?.mil||!1;if(B.marker){let we=B.marker.getElement(),ie=B.marker.getTooltip()?.getElement();we&&(we.classList.toggle("grounded-plane",B.onGround),we.classList.toggle("new-plane",!B.onGround&&J)),ie&&(ie.classList.toggle("new-plane-tooltip",J),ie.classList.toggle("military-plane-tooltip",Fe),ie.classList.toggle("grounded-plane-tooltip",B.onGround))}}),this.newPlaneService.updatePlanes(me),{anyNew:Ne,currentIDs:Array.from(me),updatedLog:Array.from(D.values())}})}static \u0275fac=function(n){return new(n||e)(V(Da),V(Ut),V(Ea))};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ia=class e{constructor(t,n,r,s,l,c,d){this.countryService=t;this.planeFinder=n;this.planeFilter=r;this.aircraftDb=s;this.settings=l;this.scanService=c;this.cdr=d}inputOverlayComponent;resultsOverlayComponent;DEFAULT_COORDS=[52.3667,13.5033];map;planeNewTimestamps=new Map;planeLog=new Map;planeHistoricalLog=[];currentLocationMarker;airportCircle;homeMarker=null;airportCoords=this.DEFAULT_COORDS;airportRadiusKm=3;manualUpdate=!1;toggling=!1;locationErrorShown=!1;coneVisible=!1;ngAfterViewInit(){return At(this,null,function*(){yield this.countryService.init(),yield this.aircraftDb.load(),this.settings.load();let t=this.settings.lat??this.DEFAULT_COORDS[0],n=this.settings.lon??this.DEFAULT_COORDS[1],r=this.settings.radius??5,s=localStorage.getItem("excludeDiscount");s!==null&&(this.settings.excludeDiscount=s==="true"),this.initMap(t,n,r),this.updateMap(t,n,r),this.initHomeMarker();let l=this.settings.getHomeLocation();l&&Math.abs(t-l.lat)<1e-4&&Math.abs(n-l.lon)<1e-4&&(this.coneVisible=!0,setTimeout(()=>{let c=document.getElementById("showCone");c&&(c.checked=!0)},100)),this.settings.excludeDiscountChanged.subscribe(()=>{this.onExcludeDiscountChange()}),this.resultsOverlayComponent.clearHistoricalList.subscribe(()=>this.clearSeenList()),this.resultsOverlayComponent.exportFilterList.subscribe(()=>this.exportFilterList()),this.resultsOverlayComponent.filterPrefix.subscribe(c=>{console.log("[MapComponent] filterPrefix event received for:",c.icao,"Current filteredOut:",c.filteredOut);let d=this.planeFilter.extractAirlinePrefix(c.callsign);console.log("[MapComponent] Extracted prefix:",d),this.planeFilter.togglePrefix(d);let h=this.planeLog.get(c.icao);if(h){console.log("[MapComponent] Found PlaneModel:",h.icao,"Before filter update, filteredOut:",h.filteredOut);let m=this.aircraftDb.lookup(h.icao)?.mil||!1,g=!this.planeFilter.shouldIncludeCallsign(h.callsign,this.settings.excludeDiscount,this.planeFilter.getFilterPrefixes(),m);console.log("[MapComponent] Should this plane be filtered now?",g),h.filteredOut!==g?(h.filteredOut=g,console.log("[MapComponent] Updated planeModel.filteredOut to:",h.filteredOut)):console.log("[MapComponent] planeModel.filteredOut status already correct.")}else console.warn("[MapComponent] Could not find PlaneModel in planeLog for icao:",c.icao);this.updatePlaneLog(Array.from(this.planeLog.values())),this.cdr.detectChanges()}),this.scanService.start(this.settings.interval,()=>this.findPlanes()),this.scanService.forceScan()})}ngOnDestroy(){this.scanService.stop()}initMap(t,n,r){this.map=lt.map("map",{doubleClickZoom:!1}).setView([t,n],12),this.map.createPane("hoverPane");let s=this.map.getPane("hoverPane");s&&(s.style.zIndex="9999"),this.map.createPane("pathArrowheadPane");let l=this.map.getPane("pathArrowheadPane");l&&(l.style.zIndex="410"),this.map.createPane("radiusPane");let c=this.map.getPane("radiusPane");c&&(c.style.zIndex="250"),lt.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}").addTo(this.map);let d=lt.divIcon({className:"current-location-marker",html:'<span class="material-symbols-outlined">location_on</span>',iconSize:[48,48],iconAnchor:[24,24]});this.currentLocationMarker=lt.marker([t,n],{icon:d}).addTo(this.map),this.updateMarkersVisibility(t,n),this.airportCircle=lt.circle(this.airportCoords,{pane:"overlayPane",radius:this.airportRadiusKm*1e3,color:"cyan",weight:2,fill:!0,fillColor:"url(#airportStripedPattern)",fillOpacity:.8,className:"airport-radius",interactive:!1}).addTo(this.map);let h=this.map.getPanes().overlayPane.querySelector("svg");qg(h,"airportStripedPattern","cyan",.5),lt.tileLayer("https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}").addTo(this.map),this.map.on("dblclick",m=>{let{lat:g,lng:_}=m.latlng;this.settings.setLat(g),this.settings.setLon(_),this.currentLocationMarker.setLatLng([g,_]),this.map.hasLayer(this.currentLocationMarker)||this.currentLocationMarker.addTo(this.map),this.coneVisible=!1;let D=document.getElementById("showCone");D&&(D.checked=!1),this.reverseGeocode(g,_).then(y=>{this.inputOverlayComponent.addressInputRef.nativeElement.value=y}),this.scanService.forceScan()})}initHomeMarker(){let t=this.settings.getHomeLocation();t&&(this.setHomeMarker(t.lat,t.lon),this.settings.lat!==null&&this.settings.lon!==null&&this.updateMarkersVisibility(this.settings.lat,this.settings.lon))}updateMarkersVisibility(t,n){let r=this.settings.getHomeLocation();if(r){let s=Math.abs(t-r.lat)<1e-4&&Math.abs(n-r.lon)<1e-4;s&&this.currentLocationMarker?this.currentLocationMarker.remove():!s&&this.currentLocationMarker&&!this.map.hasLayer(this.currentLocationMarker)&&this.currentLocationMarker.addTo(this.map)}}setHomeMarker(t,n){this.homeMarker&&this.homeMarker.remove();let r=lt.divIcon({className:"home-marker",html:'<span class="material-symbols-outlined">home</span>',iconSize:[48,48],iconAnchor:[24,24]});this.homeMarker=lt.marker([t,n],{icon:r}).addTo(this.map)}setCurrentAsHome(){let t=this.settings.lat,n=this.settings.lon;t!==null&&n!==null&&(this.settings.setHomeLocation(t,n),this.setHomeMarker(t,n),this.updateMarkersVisibility(t,n))}goToHome(){let t=this.settings.getHomeLocation();if(t){this.coneVisible=!0;let n=document.getElementById("showCone");n&&(n.checked=!0);let r=this.settings.radius??5;this.updateMap(t.lat,t.lon,r)}}updateMap(t,n,r,s){let l=r??this.settings.radius??5;this.settings.setLat(t),this.settings.setLon(n),this.settings.setRadius(l),this.manualUpdate=!0,this.map.setView([t,n],s??12),this.currentLocationMarker.setLatLng([t,n]),this.updateMarkersVisibility(t,n),this.reverseGeocode(t,n).then(c=>{this.inputOverlayComponent.addressInputRef.nativeElement.value=c}),this.inputOverlayComponent.searchRadiusInputRef.nativeElement.value=l.toString(),this.removeOutOfRangePlanes(t,n,l),this.scanService.forceScan()}removeOutOfRangePlanes(t,n,r){for(let[s,l]of this.planeLog.entries())(l.lat==null||l.lon==null||Yn(t,n,l.lat,l.lon)>r)&&(l.marker?.remove(),l.path?.remove(),this.planeLog.delete(s));this.updatePlaneLog(Array.from(this.planeLog.values()))}reverseGeocode(t,n){return fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${n}`).then(r=>r.json()).then(r=>r.display_name||`${t.toFixed(5)}, ${n.toFixed(5)}`)}shouldMuteCommercialAlert(t){return!this.resultsOverlayComponent||!this.resultsOverlayComponent.commercialMute||!this.resultsOverlayComponent.onlyCommercial?!1:t.every(n=>!this.aircraftDb.lookup(n.icao)?.mil)}findPlanes(){let t=new Set(this.planeLog.keys()),n=this.settings.lat??this.DEFAULT_COORDS[0],r=this.settings.lon??this.DEFAULT_COORDS[1],s=this.settings.radius??5,l=this.settings.excludeDiscount;this.planeFinder.findPlanes(this.map,n,r,s,l,this.planeFilter.getFilterPrefixes(),this.planeNewTimestamps,c=>this.countryService.getFlagHTML(c),this.manualUpdate,()=>{},c=>{let d=this.aircraftDb.lookup(c);return d?{model:d.model,ownop:d.ownop,mil:d.mil}:null},this.planeLog).then(({anyNew:c,currentIDs:d,updatedLog:h})=>{let m=h.filter(b=>b.isNew&&!b.filteredOut),g=h.filter(b=>b.isNew&&!b.filteredOut);g.length>0&&(g.every(I=>!this.aircraftDb.lookup(I.icao)?.mil)&&this.settings.commercialMute||Wg());let _=new Set(d);for(let[b,I]of this.planeLog.entries())_.has(b)||(I.marker?.remove(),I.path?.remove(),this.planeLog.delete(b));let D=b=>b&&typeof b.updateFrom=="function",y=h.map(b=>D(b)?b:new tr(b));for(let b of y){b.isNew=!t.has(b.icao);let I=this.aircraftDb.lookup(b.icao)?.mil;b.filteredOut=!this.planeFilter.shouldIncludeCallsign(b.callsign,l,this.planeFilter.getFilterPrefixes(),I),b.filteredOut?b.removeVisuals(this.map):b.marker&&(I?b.marker.getTooltip()?.getElement()?.classList.add("military-plane-tooltip"):b.marker.getTooltip()?.getElement()?.classList.remove("military-plane-tooltip"),b.onGround?(b.marker.getElement()?.classList.add("grounded-plane"),b.marker.getElement()?.classList.remove("new-plane","military-plane"),b.marker.getTooltip()?.getElement()?.classList.add("grounded-plane-tooltip"),b.marker.getTooltip()?.getElement()?.classList.remove("new-plane-tooltip")):b.isNew?(b.marker?.getElement()?.classList.remove("grounded-plane"),b.marker?.getTooltip()?.getElement()?.classList.remove("grounded-plane-tooltip"),I?(b.marker.getElement()?.classList.add("military-plane"),b.marker.getElement()?.classList.remove("new-plane"),b.marker.getTooltip()?.getElement()?.classList.remove("new-plane-tooltip")):(b.marker.getElement()?.classList.add("new-plane"),b.marker.getElement()?.classList.remove("military-plane"),b.marker.getTooltip()?.getElement()?.classList.add("new-plane-tooltip"))):(b.marker.getElement()?.classList.remove("new-plane","grounded-plane"),b.marker.getTooltip()?.getElement()?.classList.remove("new-plane-tooltip","grounded-plane-tooltip"),I?b.marker.getElement()?.classList.add("military-plane"):b.marker.getElement()?.classList.remove("military-plane"))),this.planeLog.set(b.icao,b)}this.updatePlaneLog(y),this.manualUpdate=!1,this.cdr.detectChanges()})}updatePlaneLog(t){let n=(d,h)=>{let m=this.aircraftDb.lookup(d.icao)?.mil||!1,g=this.aircraftDb.lookup(h.icao)?.mil||!1;return m!==g?m?-1:1:h.firstSeen-d.firstSeen||d.icao.localeCompare(h.icao)},r=t.filter(d=>d.lat!=null&&d.lon!=null&&Yn(this.DEFAULT_COORDS[0],this.DEFAULT_COORDS[1],d.lat,d.lon)>this.airportRadiusKm);r.sort(n);let s=t.filter(d=>d.lat!=null&&d.lon!=null&&Yn(this.DEFAULT_COORDS[0],this.DEFAULT_COORDS[1],d.lat,d.lon)<=this.airportRadiusKm);s.sort(n),this.resultsOverlayComponent.skyPlaneLog=r,this.resultsOverlayComponent.airportPlaneLog=s;let l=new Map;for(let d of this.planeHistoricalLog)l.set(d.icao,d);for(let d of t)l.set(d.icao,d);this.planeHistoricalLog=Array.from(l.values()),this.planeHistoricalLog.sort(n);let c=this.planeHistoricalLog.slice().reverse();this.resultsOverlayComponent.seenPlaneLog=c}clearSeenList(){this.planeHistoricalLog=[],this.resultsOverlayComponent.seenPlaneLog=[],this.cdr.detectChanges()}exportFilterList(){let t=this.planeFilter.getFilterPrefixes();localStorage.setItem("filterList",JSON.stringify(t));let n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/json;charset=utf-8"}),s=window.URL.createObjectURL(r),l=document.createElement("a");l.href=s,l.download="filter-list.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(s)}useCurrentLocation(){this.coneVisible=!1;let t=document.getElementById("showCone");t&&(t.checked=!1),navigator.geolocation?navigator.geolocation.getCurrentPosition(n=>{this.locationErrorShown=!1,this.updateMap(n.coords.latitude,n.coords.longitude)},n=>{this.locationErrorShown||(this.updateMap(this.DEFAULT_COORDS[0],this.DEFAULT_COORDS[1]),this.inputOverlayComponent.addressInputRef.nativeElement.value="Unable to fetch location; using default",this.locationErrorShown=!0)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):alert("Geolocation is not supported by your browser.")}goToAirport(){this.coneVisible=!1;let t=document.getElementById("showCone");t&&(t.checked=!1),this.updateMap(this.DEFAULT_COORDS[0],this.DEFAULT_COORDS[1])}resolveAndUpdateFromAddress(){let t=this.inputOverlayComponent.addressInputRef.nativeElement.value,n=this.inputOverlayComponent.searchRadiusInputRef.nativeElement.valueAsNumber,r=this.settings.getHomeLocation(),s=this.settings.lat??this.DEFAULT_COORDS[0],l=this.settings.lon??this.DEFAULT_COORDS[1];if(!(r&&Math.abs(s-r.lat)<1e-4&&Math.abs(l-r.lon)<1e-4)){this.coneVisible=!1;let d=document.getElementById("showCone");d&&(d.checked=!1)}isNaN(n)||this.settings.setRadius(n),fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}`).then(d=>d.json()).then(d=>{if(d.length){let h=this.map.getZoom();this.updateMap(parseFloat(d[0].lat),parseFloat(d[0].lon),n,h)}})}onExcludeDiscountChange(){let t=this.settings.excludeDiscount;localStorage.setItem("excludeDiscount",t.toString()),console.log(`[${new Date().toISOString()}] [MapComponent] Commercial filter changed to: ${t}`);for(let n of this.planeLog.values()){let r=this.aircraftDb.lookup(n.icao)?.mil||!1;if(!t){n.filteredOut=!1,n.marker&&!this.map.hasLayer(n.marker)&&(n.marker.addTo(this.map),n.path&&n.path.addTo(this.map),n.predictedPathArrowhead&&n.predictedPathArrowhead.addTo(this.map),n.historyTrailSegments&&n.historyTrailSegments.forEach(l=>l.addTo(this.map)));continue}let s=!this.planeFilter.shouldIncludeCallsign(n.callsign,t,this.planeFilter.getFilterPrefixes(),r);n.filteredOut=s,s?n.removeVisuals(this.map):n.marker&&!this.map.hasLayer(n.marker)&&(n.marker.addTo(this.map),n.path&&n.path.addTo(this.map),n.predictedPathArrowhead&&n.predictedPathArrowhead.addTo(this.map),n.historyTrailSegments&&n.historyTrailSegments.forEach(l=>l.addTo(this.map)))}for(let n of this.planeHistoricalLog){let r=this.aircraftDb.lookup(n.icao)?.mil||!1;if(!t){n.filteredOut=!1;continue}n.filteredOut=!this.planeFilter.shouldIncludeCallsign(n.callsign,t,this.planeFilter.getFilterPrefixes(),r)}this.updatePlaneLog(Array.from(this.planeLog.values())),this.cdr.detectChanges()}get currentLat(){return this.settings.lat??this.DEFAULT_COORDS[0]}get currentLon(){return this.settings.lon??this.DEFAULT_COORDS[1]}get radiusKm(){return this.settings.radius??5}toggleConeVisibility(t){this.coneVisible=t}static \u0275fac=function(n){return new(n||e)(fe(Ji),fe(Ca),fe(Xi),fe(er),fe(Ut),fe(hn),fe(Gr))};static \u0275cmp=Ze({type:e,selectors:[["app-map"]],viewQuery:function(n,r){if(n&1&&(Hn(ro,7),Hn(oo,7)),n&2){let s;zn(s=Un())&&(r.inputOverlayComponent=s.first),zn(s=Un())&&(r.resultsOverlayComponent=s.first)}},decls:5,vars:9,consts:[["id","map"],[3,"map","lat","lon","radiusKm"],[3,"map","lat","lon","distanceKm","opacity"],[3,"resolveAndUpdate","excludeDiscountChange","useCurrentLocation","goToAirport","coneVisibilityChange","setHome","goToHome"]],template:function(n,r){n&1&&(nt(0,"div",0)(1,"app-radius",1)(2,"app-cone",2),S(3,"app-input-overlay",3),Ce("resolveAndUpdate",function(){return r.resolveAndUpdateFromAddress()})("excludeDiscountChange",function(){return r.onExcludeDiscountChange()})("useCurrentLocation",function(){return r.useCurrentLocation()})("goToAirport",function(){return r.goToAirport()})("coneVisibilityChange",function(l){return r.toggleConeVisibility(l)})("setHome",function(){return r.setCurrentAsHome()})("goToHome",function(){return r.goToHome()}),T(),nt(4,"app-results-overlay")),n&2&&(x(),j("map",r.map)("lat",r.currentLat)("lon",r.currentLon)("radiusKm",r.radiusKm),x(),j("map",r.map)("lat",r.currentLat)("lon",r.currentLon)("distanceKm",r.radiusKm)("opacity",r.coneVisible?1:0))},dependencies:[ot,ya,_a,ro,oo],styles:[`@import"https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/6.6.6/css/flag-icons.min.css";@import"https://unpkg.com/leaflet@1.9.3/dist/leaflet.css";@font-face{font-family:Material Symbols Outlined;font-style:normal;font-weight:100 700;src:url(https://fonts.gstatic.com/s/materialsymbolsoutlined/v241/kJEhBvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oFsI.woff2) format("woff2")}.material-symbols-outlined{font-family:Material Symbols Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}html,body{height:100%;width:100%;color:#fff}body{line-height:1.5;-webkit-font-smoothing:antialiased;font-family:Instrument Sans,sans-serif}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}html a,body a,a,a:link,a:visited,a:hover,a:active{color:inherit}body{font-family:Instrument Sans,sans-serif;font-optical-sizing:auto;font-weight:400;font-style:normal;font-variation-settings:"wdth" 100}h1,h2,h3,h4,h5,h6{font-family:Instrument Sans,sans-serif;font-optical-sizing:auto;font-weight:600;font-style:normal;font-variation-settings:"wdth" 100}h1{line-height:1.2}h3{text-transform:uppercase;letter-spacing:1px;font-size:.75rem;border-bottom:1px solid white;margin-bottom:.25rem;padding-bottom:.5rem}.leaflet-container text{font-family:Instrument Sans,sans-serif!important;font-weight:600;letter-spacing:2px}label,input{font-size:.875rem}.fi{border:1px solid rgba(255,255,255,.4);width:1.3em;line-height:.9em}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-thumb{background-color:#ffffff80;border-radius:4px}::-webkit-scrollbar-track{background-color:transparent}.leaflet-tooltip.plane-tooltip{font-size:.75rem;background:#000000e6;border-radius:3px;padding:3px 5px;border:3px solid #333;text-decoration:none;pointer-events:auto;margin-left:1.5rem;color:#fff;box-shadow:0 1px 3px #000;font-family:JetBrains Mono,monospace;position:absolute;z-index:1;outline:1px solid rgba(255,255,255,.8)}.leaflet-tooltip.plane-tooltip.leaflet-tooltip-right:before{border-right-color:inherit;left:-2px}.leaflet-tooltip.plane-tooltip .plane-tooltip-link{text-decoration:none;color:#fff;display:flex;align-items:center;gap:.5rem}.leaflet-tooltip.plane-tooltip .plane-tooltip-link .none-callsign{color:#ffffff80}.leaflet-tooltip.plane-tooltip .plane-tooltip-link .fi{width:1.3rem;height:1rem}.leaflet-tooltip.plane-tooltip .plane-tooltip-link strong{font-weight:700;display:flex;flex-direction:row;gap:.25rem;align-items:center}.leaflet-tooltip.plane-tooltip.grounded-plane-tooltip{border-color:gray;margin-left:1rem;background:#333}.leaflet-tooltip.plane-tooltip.new-plane-tooltip{border-color:#ff2e2e}.leaflet-tooltip.plane-tooltip.military-plane-tooltip{border-color:#89d138;z-index:10}.leaflet-tooltip.plane-tooltip:hover{z-index:1000;border-color:#fff}.leaflet-tooltip.plane-tooltip .material-symbols-sharp.military-star-tooltip{font-size:.75rem;color:#89d138;font-variation-settings:"FILL" 0,"wght" 700,"GRAD" 0,"opsz" 20}.plane-marker-container{width:3rem;height:3rem;display:flex;align-items:center;justify-content:center;pointer-events:none}.leaflet-marker-icon .plane-marker{font-size:3rem;display:flex;justify-content:center;align-items:center;pointer-events:auto}.leaflet-marker-icon .plane-marker:before{font-family:Material Symbols Sharp,Material Icons;content:"flight";display:inline-block;font-style:normal;font-weight:400;line-height:1;white-space:nowrap;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.leaflet-marker-icon .plane-marker.copter-plane:before{content:"toys_fan";animation:spin 1.5s linear infinite}.leaflet-marker-icon .plane-marker.grounded-plane,.leaflet-marker-icon .plane-marker.new-and-grounded{color:#ededed;margin-right:2rem}.leaflet-marker-icon .plane-marker.grounded-plane:before,.leaflet-marker-icon .plane-marker.new-and-grounded:before{font-size:2rem}.leaflet-marker-icon .plane-marker.copter-plane.grounded-plane:before,.leaflet-marker-icon .plane-marker.copter-plane.new-and-grounded:before{animation:none}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(-360deg)}}.plane-marker.copter-plane{cursor:pointer}.predicted-path-line{stroke:#fff;stroke-width:3px;stroke-opacity:1;stroke-dasharray:10,5}.predicted-path-arrowhead>div{font-size:1.2em;color:#fff;opacity:1;transform-origin:center;pointer-events:none}#map{position:fixed;inset:0;z-index:1}.home-marker{display:flex;justify-content:center;align-items:center}.home-marker .material-symbols-outlined{color:#4caf50;font-size:2rem;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.current-location-marker{display:flex;justify-content:center;align-items:center}.current-location-marker .material-symbols-outlined{color:#2196f3;font-size:2rem;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48;filter:drop-shadow(0px 0px 2px #000)}
`],encapsulation:2})};var Ma=class e{title="plane-alert";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ze({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&nt(0,"app-map")},dependencies:[ot,Ia],encapsulation:2})};Yu(Ma,{providers:[Hc(td),jg]}).catch(e=>console.error(e));
